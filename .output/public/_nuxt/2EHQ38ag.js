const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BUIePj9P.js","./BzjjaYtq.js","./footerglobal.BMlImu81.css","./index.BTK0iJub.css","./BLdam4EC.js","./privacy-policy.D9MpRs8s.css","./XHAhVUAq.js","./terms-conditions.5LzOe1OD.css","./D5LW3cgP.js","./DyjLQLIQ.js","./error-404.4oxyXxx0.css","./CcJToXC8.js","./error-500.CZqNkBuR.css"])))=>i.map(i=>d[i]);
var RS=Object.defineProperty;var AS=(t,e,n)=>e in t?RS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qr=(t,e,n)=>AS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ed(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const pt={},Ti=[],Hn=()=>{},PS=()=>!1,Ea=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Td=t=>t.startsWith("onUpdate:"),Kt=Object.assign,Sd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},xS=Object.prototype.hasOwnProperty,rt=(t,e)=>xS.call(t,e),Le=Array.isArray,Si=t=>Ta(t)==="[object Map]",K0=t=>Ta(t)==="[object Set]",OS=t=>Ta(t)==="[object RegExp]",Me=t=>typeof t=="function",at=t=>typeof t=="string",zr=t=>typeof t=="symbol",ut=t=>t!==null&&typeof t=="object",q0=t=>(ut(t)||Me(t))&&Me(t.then)&&Me(t.catch),z0=Object.prototype.toString,Ta=t=>z0.call(t),NS=t=>Ta(t).slice(8,-1),G0=t=>Ta(t)==="[object Object]",Id=t=>at(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ii=Ed(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ol=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},MS=/-(\w)/g,An=Ol(t=>t.replace(MS,(e,n)=>n?n.toUpperCase():"")),LS=/\B([A-Z])/g,Gr=Ol(t=>t.replace(LS,"-$1").toLowerCase()),Nl=Ol(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sc=Ol(t=>t?`on${Nl(t)}`:""),us=(t,e)=>!Object.is(t,e),ki=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},W0=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},lh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Q0=t=>{const e=at(t)?Number(t):NaN;return isNaN(e)?t:e};let Ng;const Ml=()=>Ng||(Ng=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function no(t){if(Le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=at(r)?FS(r):no(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(at(t)||ut(t))return t}const DS=/;(?![^(]*\))/g,BS=/:([^]+)/,US=/\/\*[^]*?\*\//g;function FS(t){const e={};return t.replace(US,"").split(DS).forEach(n=>{if(n){const r=n.split(BS);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Fn(t){let e="";if(at(t))e=t;else if(Le(t))for(let n=0;n<t.length;n++){const r=Fn(t[n]);r&&(e+=r+" ")}else if(ut(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function jS(t){if(!t)return null;let{class:e,style:n}=t;return e&&!at(e)&&(t.class=Fn(e)),n&&(t.style=no(n)),t}const $S="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",HS=Ed($S);function J0(t){return!!t||t===""}const Y0=t=>!!(t&&t.__v_isRef===!0),kd=t=>at(t)?t:t==null?"":Le(t)||ut(t)&&(t.toString===z0||!Me(t.toString))?Y0(t)?kd(t.value):JSON.stringify(t,X0,2):String(t),X0=(t,e)=>Y0(e)?X0(t,e.value):Si(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[$u(r,i)+" =>"]=s,n),{})}:K0(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>$u(n))}:zr(e)?$u(e):ut(e)&&!Le(e)&&!G0(e)?String(e):e,$u=(t,e="")=>{var n;return zr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tn;class Z0{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tn,!e&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=tn;try{return tn=this,e()}finally{tn=n}}}on(){++this._on===1&&(this.prevScope=tn,tn=this)}off(){this._on>0&&--this._on===0&&(tn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Rd(t){return new Z0(t)}function Ll(){return tn}function ew(t,e=!1){tn&&tn.cleanups.push(t)}let yt;const Hu=new WeakSet;class tw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tn&&tn.active&&tn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Hu.has(this)&&(Hu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mg(this),sw(this);const e=yt,n=Xn;yt=this,Xn=!0;try{return this.fn()}finally{iw(this),yt=e,Xn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xd(e);this.deps=this.depsTail=void 0,Mg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Hu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uh(this)&&this.run()}get dirty(){return uh(this)}}let nw=0,Ao,Po;function rw(t,e=!1){if(t.flags|=8,e){t.next=Po,Po=t;return}t.next=Ao,Ao=t}function Ad(){nw++}function Pd(){if(--nw>0)return;if(Po){let e=Po;for(Po=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ao;){let e=Ao;for(Ao=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function sw(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function iw(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),xd(r),VS(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function uh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ow(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ow(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Wo)||(t.globalVersion=Wo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!uh(t))))return;t.flags|=2;const e=t.dep,n=yt,r=Xn;yt=t,Xn=!0;try{sw(t);const s=t.fn(t._value);(e.version===0||us(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{yt=n,Xn=r,iw(t),t.flags&=-3}}function xd(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)xd(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function VS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Xn=!0;const aw=[];function Dr(){aw.push(Xn),Xn=!1}function Br(){const t=aw.pop();Xn=t===void 0?!0:t}function Mg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=yt;yt=void 0;try{e()}finally{yt=n}}}let Wo=0;class KS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Od{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!yt||!Xn||yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==yt)n=this.activeLink=new KS(yt,this),yt.deps?(n.prevDep=yt.depsTail,yt.depsTail.nextDep=n,yt.depsTail=n):yt.deps=yt.depsTail=n,cw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=yt.depsTail,n.nextDep=void 0,yt.depsTail.nextDep=n,yt.depsTail=n,yt.deps===n&&(yt.deps=r)}return n}trigger(e){this.version++,Wo++,this.notify(e)}notify(e){Ad();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Pd()}}}function cw(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)cw(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Vc=new WeakMap,js=Symbol(""),fh=Symbol(""),Qo=Symbol("");function rn(t,e,n){if(Xn&&yt){let r=Vc.get(t);r||Vc.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Od),s.map=r,s.key=n),s.track()}}function Rr(t,e,n,r,s,i){const o=Vc.get(t);if(!o){Wo++;return}const a=c=>{c&&c.trigger()};if(Ad(),e==="clear")o.forEach(a);else{const c=Le(t),u=c&&Id(n);if(c&&n==="length"){const l=Number(r);o.forEach((f,d)=>{(d==="length"||d===Qo||!zr(d)&&d>=l)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Qo)),e){case"add":c?u&&a(o.get("length")):(a(o.get(js)),Si(t)&&a(o.get(fh)));break;case"delete":c||(a(o.get(js)),Si(t)&&a(o.get(fh)));break;case"set":Si(t)&&a(o.get(js));break}}Pd()}function qS(t,e){const n=Vc.get(t);return n&&n.get(e)}function hi(t){const e=tt(t);return e===t?e:(rn(e,"iterate",Qo),Vn(t)?e:e.map(Qt))}function Dl(t){return rn(t=tt(t),"iterate",Qo),t}const zS={__proto__:null,[Symbol.iterator](){return Vu(this,Symbol.iterator,Qt)},concat(...t){return hi(this).concat(...t.map(e=>Le(e)?hi(e):e))},entries(){return Vu(this,"entries",t=>(t[1]=Qt(t[1]),t))},every(t,e){return Tr(this,"every",t,e,void 0,arguments)},filter(t,e){return Tr(this,"filter",t,e,n=>n.map(Qt),arguments)},find(t,e){return Tr(this,"find",t,e,Qt,arguments)},findIndex(t,e){return Tr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Tr(this,"findLast",t,e,Qt,arguments)},findLastIndex(t,e){return Tr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Tr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ku(this,"includes",t)},indexOf(...t){return Ku(this,"indexOf",t)},join(t){return hi(this).join(t)},lastIndexOf(...t){return Ku(this,"lastIndexOf",t)},map(t,e){return Tr(this,"map",t,e,void 0,arguments)},pop(){return po(this,"pop")},push(...t){return po(this,"push",t)},reduce(t,...e){return Lg(this,"reduce",t,e)},reduceRight(t,...e){return Lg(this,"reduceRight",t,e)},shift(){return po(this,"shift")},some(t,e){return Tr(this,"some",t,e,void 0,arguments)},splice(...t){return po(this,"splice",t)},toReversed(){return hi(this).toReversed()},toSorted(t){return hi(this).toSorted(t)},toSpliced(...t){return hi(this).toSpliced(...t)},unshift(...t){return po(this,"unshift",t)},values(){return Vu(this,"values",Qt)}};function Vu(t,e,n){const r=Dl(t),s=r[e]();return r!==t&&!Vn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const GS=Array.prototype;function Tr(t,e,n,r,s,i){const o=Dl(t),a=o!==t&&!Vn(t),c=o[e];if(c!==GS[e]){const f=c.apply(t,i);return a?Qt(f):f}let u=n;o!==t&&(a?u=function(f,d){return n.call(this,Qt(f),d,t)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,t)}));const l=c.call(o,u,r);return a&&s?s(l):l}function Lg(t,e,n,r){const s=Dl(t);let i=n;return s!==t&&(Vn(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,Qt(a),c,t)}),s[e](i,...r)}function Ku(t,e,n){const r=tt(t);rn(r,"iterate",Qo);const s=r[e](...n);return(s===-1||s===!1)&&Ld(n[0])?(n[0]=tt(n[0]),r[e](...n)):s}function po(t,e,n=[]){Dr(),Ad();const r=tt(t)[e].apply(t,n);return Pd(),Br(),r}const WS=Ed("__proto__,__v_isRef,__isVue"),lw=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zr));function QS(t){zr(t)||(t=String(t));const e=tt(this);return rn(e,"has",t),e.hasOwnProperty(t)}class uw{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?iI:pw:i?dw:hw).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Le(e);if(!s){let c;if(o&&(c=zS[n]))return c;if(n==="hasOwnProperty")return QS}const a=Reflect.get(e,n,Ct(e)?e:r);return(zr(n)?lw.has(n):WS(n))||(s||rn(e,"get",n),i)?a:Ct(a)?o&&Id(n)?a:a.value:ut(a)?s?Bl(a):br(a):a}}class fw extends uw{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=Ur(i);if(!Vn(r)&&!Ur(r)&&(i=tt(i),r=tt(r)),!Le(e)&&Ct(i)&&!Ct(r))return c?!1:(i.value=r,!0)}const o=Le(e)&&Id(n)?Number(n)<e.length:rt(e,n),a=Reflect.set(e,n,r,Ct(e)?e:s);return e===tt(s)&&(o?us(r,i)&&Rr(e,"set",n,r):Rr(e,"add",n,r)),a}deleteProperty(e,n){const r=rt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Rr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!zr(n)||!lw.has(n))&&rn(e,"has",n),r}ownKeys(e){return rn(e,"iterate",Le(e)?"length":js),Reflect.ownKeys(e)}}class JS extends uw{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const YS=new fw,XS=new JS,ZS=new fw(!0);const hh=t=>t,ec=t=>Reflect.getPrototypeOf(t);function eI(t,e,n){return function(...r){const s=this.__v_raw,i=tt(s),o=Si(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=s[t](...r),l=n?hh:e?Kc:Qt;return!e&&rn(i,"iterate",c?fh:js),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[l(f[0]),l(f[1])]:l(f),done:d}},[Symbol.iterator](){return this}}}}function tc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tI(t,e){const n={get(s){const i=this.__v_raw,o=tt(i),a=tt(s);t||(us(s,a)&&rn(o,"get",s),rn(o,"get",a));const{has:c}=ec(o),u=e?hh:t?Kc:Qt;if(c.call(o,s))return u(i.get(s));if(c.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&rn(tt(s),"iterate",js),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=tt(i),a=tt(s);return t||(us(s,a)&&rn(o,"has",s),rn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=tt(a),u=e?hh:t?Kc:Qt;return!t&&rn(c,"iterate",js),a.forEach((l,f)=>s.call(i,u(l),u(f),o))}};return Kt(n,t?{add:tc("add"),set:tc("set"),delete:tc("delete"),clear:tc("clear")}:{add(s){!e&&!Vn(s)&&!Ur(s)&&(s=tt(s));const i=tt(this);return ec(i).has.call(i,s)||(i.add(s),Rr(i,"add",s,s)),this},set(s,i){!e&&!Vn(i)&&!Ur(i)&&(i=tt(i));const o=tt(this),{has:a,get:c}=ec(o);let u=a.call(o,s);u||(s=tt(s),u=a.call(o,s));const l=c.call(o,s);return o.set(s,i),u?us(i,l)&&Rr(o,"set",s,i):Rr(o,"add",s,i),this},delete(s){const i=tt(this),{has:o,get:a}=ec(i);let c=o.call(i,s);c||(s=tt(s),c=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return c&&Rr(i,"delete",s,void 0),u},clear(){const s=tt(this),i=s.size!==0,o=s.clear();return i&&Rr(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=eI(s,t,e)}),n}function Nd(t,e){const n=tI(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(rt(n,s)&&s in r?n:r,s,i)}const nI={get:Nd(!1,!1)},rI={get:Nd(!1,!0)},sI={get:Nd(!0,!1)};const hw=new WeakMap,dw=new WeakMap,pw=new WeakMap,iI=new WeakMap;function oI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aI(t){return t.__v_skip||!Object.isExtensible(t)?0:oI(NS(t))}function br(t){return Ur(t)?t:Md(t,!1,YS,nI,hw)}function Qn(t){return Md(t,!1,ZS,rI,dw)}function Bl(t){return Md(t,!0,XS,sI,pw)}function Md(t,e,n,r,s){if(!ut(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=aI(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function Nr(t){return Ur(t)?Nr(t.__v_raw):!!(t&&t.__v_isReactive)}function Ur(t){return!!(t&&t.__v_isReadonly)}function Vn(t){return!!(t&&t.__v_isShallow)}function Ld(t){return t?!!t.__v_raw:!1}function tt(t){const e=t&&t.__v_raw;return e?tt(e):t}function Dd(t){return!rt(t,"__v_skip")&&Object.isExtensible(t)&&W0(t,"__v_skip",!0),t}const Qt=t=>ut(t)?br(t):t,Kc=t=>ut(t)?Bl(t):t;function Ct(t){return t?t.__v_isRef===!0:!1}function bt(t){return gw(t,!1)}function zs(t){return gw(t,!0)}function gw(t,e){return Ct(t)?t:new cI(t,e)}class cI{constructor(e,n){this.dep=new Od,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:tt(e),this._value=n?e:Qt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Vn(e)||Ur(e);e=r?e:tt(e),us(e,n)&&(this._rawValue=e,this._value=r?e:Qt(e),this.dep.trigger())}}function Se(t){return Ct(t)?t.value:t}function lI(t){return Me(t)?t():Se(t)}const uI={get:(t,e,n)=>e==="__v_raw"?t:Se(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Ct(s)&&!Ct(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function mw(t){return Nr(t)?t:new Proxy(t,uI)}function yw(t){const e=Le(t)?new Array(t.length):{};for(const n in t)e[n]=vw(t,n);return e}class fI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qS(tt(this._object),this._key)}}class hI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function dI(t,e,n){return Ct(t)?t:Me(t)?new hI(t):ut(t)&&arguments.length>1?vw(t,e,n):bt(t)}function vw(t,e,n){const r=t[e];return Ct(r)?r:new fI(t,e,n)}class pI{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Od(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Wo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&yt!==this)return rw(this,!0),!0}get value(){const e=this.dep.track();return ow(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function gI(t,e,n=!1){let r,s;return Me(t)?r=t:(r=t.get,s=t.set),new pI(r,s,n)}const nc={},qc=new WeakMap;let Os;function mI(t,e=!1,n=Os){if(n){let r=qc.get(n);r||qc.set(n,r=[]),r.push(t)}}function yI(t,e,n=pt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=n,u=x=>s?x:Vn(x)||s===!1||s===0?Ar(x,1):Ar(x);let l,f,d,p,g=!1,m=!1;if(Ct(t)?(f=()=>t.value,g=Vn(t)):Nr(t)?(f=()=>u(t),g=!0):Le(t)?(m=!0,g=t.some(x=>Nr(x)||Vn(x)),f=()=>t.map(x=>{if(Ct(x))return x.value;if(Nr(x))return u(x);if(Me(x))return c?c(x,2):x()})):Me(t)?e?f=c?()=>c(t,2):t:f=()=>{if(d){Dr();try{d()}finally{Br()}}const x=Os;Os=l;try{return c?c(t,3,[p]):t(p)}finally{Os=x}}:f=Hn,e&&s){const x=f,L=s===!0?1/0:s;f=()=>Ar(x(),L)}const b=Ll(),R=()=>{l.stop(),b&&b.active&&Sd(b.effects,l)};if(i&&e){const x=e;e=(...L)=>{x(...L),R()}}let A=m?new Array(t.length).fill(nc):nc;const T=x=>{if(!(!(l.flags&1)||!l.dirty&&!x))if(e){const L=l.run();if(s||g||(m?L.some((S,E)=>us(S,A[E])):us(L,A))){d&&d();const S=Os;Os=l;try{const E=[L,A===nc?void 0:m&&A[0]===nc?[]:A,p];A=L,c?c(e,3,E):e(...E)}finally{Os=S}}}else l.run()};return a&&a(T),l=new tw(f),l.scheduler=o?()=>o(T,!1):T,p=x=>mI(x,!1,l),d=l.onStop=()=>{const x=qc.get(l);if(x){if(c)c(x,4);else for(const L of x)L();qc.delete(l)}},e?r?T(!0):A=l.run():o?o(T.bind(null,!0),!0):l.run(),R.pause=l.pause.bind(l),R.resume=l.resume.bind(l),R.stop=R,R}function Ar(t,e=1/0,n){if(e<=0||!ut(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ct(t))Ar(t.value,e,n);else if(Le(t))for(let r=0;r<t.length;r++)Ar(t[r],e,n);else if(K0(t)||Si(t))t.forEach(r=>{Ar(r,e,n)});else if(G0(t)){for(const r in t)Ar(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ar(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Sa(t,e,n,r){try{return r?t(...r):t()}catch(s){ro(s,e,n)}}function Zn(t,e,n,r){if(Me(t)){const s=Sa(t,e,n,r);return s&&q0(s)&&s.catch(i=>{ro(i,e,n)}),s}if(Le(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Zn(t[i],e,n,r));return s}}function ro(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||pt;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const l=a.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](t,c,u)===!1)return}a=a.parent}if(i){Dr(),Sa(i,null,10,[t,c,u]),Br();return}}vI(t,n,s,r,o)}function vI(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const gn=[];let lr=-1;const Ri=[];let Zr=null,mi=0;const ww=Promise.resolve();let zc=null;function er(t){const e=zc||ww;return t?e.then(this?t.bind(this):t):e}function wI(t){let e=lr+1,n=gn.length;for(;e<n;){const r=e+n>>>1,s=gn[r],i=Jo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Bd(t){if(!(t.flags&1)){const e=Jo(t),n=gn[gn.length-1];!n||!(t.flags&2)&&e>=Jo(n)?gn.push(t):gn.splice(wI(e),0,t),t.flags|=1,_w()}}function _w(){zc||(zc=ww.then(bw))}function dh(t){Le(t)?Ri.push(...t):Zr&&t.id===-1?Zr.splice(mi+1,0,t):t.flags&1||(Ri.push(t),t.flags|=1),_w()}function Dg(t,e,n=lr+1){for(;n<gn.length;n++){const r=gn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;gn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Gc(t){if(Ri.length){const e=[...new Set(Ri)].sort((n,r)=>Jo(n)-Jo(r));if(Ri.length=0,Zr){Zr.push(...e);return}for(Zr=e,mi=0;mi<Zr.length;mi++){const n=Zr[mi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Zr=null,mi=0}}const Jo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function bw(t){try{for(lr=0;lr<gn.length;lr++){const e=gn[lr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Sa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;lr<gn.length;lr++){const e=gn[lr];e&&(e.flags&=-2)}lr=-1,gn.length=0,Gc(),zc=null,(gn.length||Ri.length)&&bw()}}let jt=null,Cw=null;function Wc(t){const e=jt;return jt=t,Cw=t&&t.type.__scopeId||null,e}function fs(t,e=jt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Xg(-1);const i=Wc(e);let o;try{o=t(...s)}finally{Wc(i),r._d&&Xg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ud(t,e){if(jt===null)return t;const n=Hl(jt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=pt]=e[s];i&&(Me(i)&&(i={mounted:i,updated:i}),i.deep&&Ar(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function ur(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Dr(),Zn(c,n,8,[t.el,a,t,e]),Br())}}const Ew=Symbol("_vte"),Tw=t=>t.__isTeleport,xo=t=>t&&(t.disabled||t.disabled===""),Bg=t=>t&&(t.defer||t.defer===""),Ug=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Fg=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ph=(t,e)=>{const n=t&&t.to;return at(n)?e?e(n):null:n},Sw={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,u){const{mc:l,pc:f,pbc:d,o:{insert:p,querySelector:g,createText:m,createComment:b}}=u,R=xo(e.props);let{shapeFlag:A,children:T,dynamicChildren:x}=e;if(t==null){const L=e.el=m(""),S=e.anchor=m("");p(L,n,r),p(S,n,r);const E=(v,y)=>{A&16&&(s&&s.isCE&&(s.ce._teleportTarget=v),l(T,v,y,s,i,o,a,c))},k=()=>{const v=e.target=ph(e.props,g),y=Iw(v,e,m,p);v&&(o!=="svg"&&Ug(v)?o="svg":o!=="mathml"&&Fg(v)&&(o="mathml"),R||(E(v,y),Ic(e,!1)))};R&&(E(n,S),Ic(e,!0)),Bg(e.props)?(e.el.__isMounted=!1,Ut(()=>{k(),delete e.el.__isMounted},i)):k()}else{if(Bg(e.props)&&t.el.__isMounted===!1){Ut(()=>{Sw.process(t,e,n,r,s,i,o,a,c,u)},i);return}e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,S=e.target=t.target,E=e.targetAnchor=t.targetAnchor,k=xo(t.props),v=k?n:S,y=k?L:E;if(o==="svg"||Ug(S)?o="svg":(o==="mathml"||Fg(S))&&(o="mathml"),x?(d(t.dynamicChildren,x,v,s,i,o,a),Hd(t,e,!0)):c||f(t,e,v,y,s,i,o,a,!1),R)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):rc(e,n,L,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const w=e.target=ph(e.props,g);w&&rc(e,w,null,u,0)}else k&&rc(e,S,E,u,1);Ic(e,R)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:u,targetAnchor:l,target:f,props:d}=t;if(f&&(s(u),s(l)),i&&s(c),o&16){const p=i||!xo(d);for(let g=0;g<a.length;g++){const m=a[g];r(m,e,n,p,!!m.dynamicChildren)}}},move:rc,hydrate:_I};function rc(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:u,props:l}=t,f=i===2;if(f&&r(o,e,n),(!f||xo(l))&&c&16)for(let d=0;d<u.length;d++)s(u[d],e,n,2);f&&r(a,e,n)}function _I(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:u,createText:l}},f){const d=e.target=ph(e.props,c);if(d){const p=xo(e.props),g=d._lpa||d.firstChild;if(e.shapeFlag&16)if(p)e.anchor=f(o(t),e,a(t),n,r,s,i),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||Iw(d,e,l,u),f(g&&o(g),e,d,n,r,s,i)}Ic(e,p)}return e.anchor&&o(e.anchor)}const a5=Sw;function Ic(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Iw(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[Ew]=i,t&&(r(s,t),r(i,t)),i}const es=Symbol("_leaveCb"),sc=Symbol("_enterCb");function bI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ka(()=>{t.isMounted=!0}),Ra(()=>{t.isUnmounting=!0}),t}const Dn=[Function,Array],kw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dn,onEnter:Dn,onAfterEnter:Dn,onEnterCancelled:Dn,onBeforeLeave:Dn,onLeave:Dn,onAfterLeave:Dn,onLeaveCancelled:Dn,onBeforeAppear:Dn,onAppear:Dn,onAfterAppear:Dn,onAppearCancelled:Dn},Rw=t=>{const e=t.subTree;return e.component?Rw(e.component):e},CI={name:"BaseTransition",props:kw,setup(t,{slots:e}){const n=tr(),r=bI();return()=>{const s=e.default&&xw(e.default(),!0);if(!s||!s.length)return;const i=Aw(s),o=tt(t),{mode:a}=o;if(r.isLeaving)return qu(i);const c=jg(i);if(!c)return qu(i);let u=gh(c,o,r,n,f=>u=f);c.type!==Mt&&Fi(c,u);let l=n.subTree&&jg(n.subTree);if(l&&l.type!==Mt&&!Wn(c,l)&&Rw(n).type!==Mt){let f=gh(l,o,r,n);if(Fi(l,f),a==="out-in"&&c.type!==Mt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,l=void 0},qu(i);a==="in-out"&&c.type!==Mt?f.delayLeave=(d,p,g)=>{const m=Pw(r,l);m[String(l.key)]=l,d[es]=()=>{p(),d[es]=void 0,delete u.delayedLeave,l=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,l=void 0}}:l=void 0}else l&&(l=void 0);return i}}};function Aw(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Mt){e=n;break}}return e}const EI=CI;function Pw(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function gh(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:l,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:b,onAppear:R,onAfterAppear:A,onAppearCancelled:T}=e,x=String(t.key),L=Pw(n,t),S=(v,y)=>{v&&Zn(v,r,9,y)},E=(v,y)=>{const w=y[1];S(v,y),Le(v)?v.every(_=>_.length<=1)&&w():v.length<=1&&w()},k={mode:o,persisted:a,beforeEnter(v){let y=c;if(!n.isMounted)if(i)y=b||c;else return;v[es]&&v[es](!0);const w=L[x];w&&Wn(t,w)&&w.el[es]&&w.el[es](),S(y,[v])},enter(v){let y=u,w=l,_=f;if(!n.isMounted)if(i)y=R||u,w=A||l,_=T||f;else return;let I=!1;const M=v[sc]=V=>{I||(I=!0,V?S(_,[v]):S(w,[v]),k.delayedLeave&&k.delayedLeave(),v[sc]=void 0)};y?E(y,[v,M]):M()},leave(v,y){const w=String(t.key);if(v[sc]&&v[sc](!0),n.isUnmounting)return y();S(d,[v]);let _=!1;const I=v[es]=M=>{_||(_=!0,y(),M?S(m,[v]):S(g,[v]),v[es]=void 0,L[w]===t&&delete L[w])};L[w]=t,p?E(p,[v,I]):I()},clone(v){const y=gh(v,e,n,r,s);return s&&s(y),y}};return k}function qu(t){if(Ia(t))return t=jr(t),t.children=null,t}function jg(t){if(!Ia(t))return Tw(t.type)&&t.children?Aw(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Me(n.default))return n.default()}}function Fi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xw(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Jt?(o.patchFlag&128&&s++,r=r.concat(xw(o.children,e,a))):(e||o.type!==Mt)&&r.push(a!=null?jr(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function It(t,e){return Me(t)?Kt({name:t.name},e,{setup:t}):t}function Fd(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Yo(t,e,n,r,s=!1){if(Le(t)){t.forEach((g,m)=>Yo(g,e&&(Le(e)?e[m]:e),n,r,s));return}if(hs(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Yo(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Hl(r.component):r.el,o=s?null:i,{i:a,r:c}=t,u=e&&e.r,l=a.refs===pt?a.refs={}:a.refs,f=a.setupState,d=tt(f),p=f===pt?()=>!1:g=>rt(d,g);if(u!=null&&u!==c&&(at(u)?(l[u]=null,p(u)&&(f[u]=null)):Ct(u)&&(u.value=null)),Me(c))Sa(c,a,12,[o,l]);else{const g=at(c),m=Ct(c);if(g||m){const b=()=>{if(t.f){const R=g?p(c)?f[c]:l[c]:c.value;s?Le(R)&&Sd(R,i):Le(R)?R.includes(i)||R.push(i):g?(l[c]=[i],p(c)&&(f[c]=l[c])):(c.value=[i],t.k&&(l[t.k]=c.value))}else g?(l[c]=o,p(c)&&(f[c]=o)):m&&(c.value=o,t.k&&(l[t.k]=o))};o?(b.id=-1,Ut(b,n)):b()}}}let $g=!1;const di=()=>{$g||(console.error("Hydration completed but contains mismatches."),$g=!0)},TI=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",SI=t=>t.namespaceURI.includes("MathML"),ic=t=>{if(t.nodeType===1){if(TI(t))return"svg";if(SI(t))return"mathml"}},bi=t=>t.nodeType===8;function II(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:u}}=t,l=(T,x)=>{if(!x.hasChildNodes()){n(null,T,x),Gc(),x._vnode=T;return}f(x.firstChild,T,null,null,null),Gc(),x._vnode=T},f=(T,x,L,S,E,k=!1)=>{k=k||!!x.dynamicChildren;const v=bi(T)&&T.data==="[",y=()=>m(T,x,L,S,E,v),{type:w,ref:_,shapeFlag:I,patchFlag:M}=x;let V=T.nodeType;x.el=T,M===-2&&(k=!1,x.dynamicChildren=null);let D=null;switch(w){case Hs:V!==3?x.children===""?(c(x.el=s(""),o(T),T),D=T):D=y():(T.data!==x.children&&(di(),T.data=x.children),D=i(T));break;case Mt:A(T)?(D=i(T),R(x.el=T.content.firstChild,T,L)):V!==8||v?D=y():D=i(T);break;case No:if(v&&(T=i(T),V=T.nodeType),V===1||V===3){D=T;const q=!x.children.length;for(let K=0;K<x.staticCount;K++)q&&(x.children+=D.nodeType===1?D.outerHTML:D.data),K===x.staticCount-1&&(x.anchor=D),D=i(D);return v?i(D):D}else y();break;case Jt:v?D=g(T,x,L,S,E,k):D=y();break;default:if(I&1)(V!==1||x.type.toLowerCase()!==T.tagName.toLowerCase())&&!A(T)?D=y():D=d(T,x,L,S,E,k);else if(I&6){x.slotScopeIds=E;const q=o(T);if(v?D=b(T):bi(T)&&T.data==="teleport start"?D=b(T,T.data,"teleport end"):D=i(T),e(x,q,null,L,S,ic(q),k),hs(x)&&!x.type.__asyncResolved){let K;v?(K=gt(Jt),K.anchor=D?D.previousSibling:q.lastChild):K=T.nodeType===3?qd(""):gt("div"),K.el=T,x.component.subTree=K}}else I&64?V!==8?D=y():D=x.type.hydrate(T,x,L,S,E,k,t,p):I&128&&(D=x.type.hydrate(T,x,L,S,ic(o(T)),E,k,t,f))}return _!=null&&Yo(_,null,S,x),D},d=(T,x,L,S,E,k)=>{k=k||!!x.dynamicChildren;const{type:v,props:y,patchFlag:w,shapeFlag:_,dirs:I,transition:M}=x,V=v==="input"||v==="option";if(V||w!==-1){I&&ur(x,null,L,"created");let D=!1;if(A(T)){D=t_(null,M)&&L&&L.vnode.props&&L.vnode.props.appear;const K=T.content.firstChild;if(D){const oe=K.getAttribute("class");oe&&(K.$cls=oe),M.beforeEnter(K)}R(K,T,L),x.el=T=K}if(_&16&&!(y&&(y.innerHTML||y.textContent))){let K=p(T.firstChild,x,T,L,S,E,k);for(;K;){oc(T,1)||di();const oe=K;K=K.nextSibling,a(oe)}}else if(_&8){let K=x.children;K[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(K=K.slice(1)),T.textContent!==K&&(oc(T,0)||di(),T.textContent=x.children)}if(y){if(V||!k||w&48){const K=T.tagName.includes("-");for(const oe in y)(V&&(oe.endsWith("value")||oe==="indeterminate")||Ea(oe)&&!Ii(oe)||oe[0]==="."||K)&&r(T,oe,null,y[oe],void 0,L)}else if(y.onClick)r(T,"onClick",null,y.onClick,void 0,L);else if(w&4&&Nr(y.style))for(const K in y.style)y.style[K]}let q;(q=y&&y.onVnodeBeforeMount)&&Cn(q,L,x),I&&ur(x,null,L,"beforeMount"),((q=y&&y.onVnodeMounted)||I||D)&&a_(()=>{q&&Cn(q,L,x),D&&M.enter(T),I&&ur(x,null,L,"mounted")},S)}return T.nextSibling},p=(T,x,L,S,E,k,v)=>{v=v||!!x.dynamicChildren;const y=x.children,w=y.length;for(let _=0;_<w;_++){const I=v?y[_]:y[_]=In(y[_]),M=I.type===Hs;T?(M&&!v&&_+1<w&&In(y[_+1]).type===Hs&&(c(s(T.data.slice(I.children.length)),L,i(T)),T.data=I.children),T=f(T,I,S,E,k,v)):M&&!I.children?c(I.el=s(""),L):(oc(L,1)||di(),n(null,I,L,null,S,E,ic(L),k))}return T},g=(T,x,L,S,E,k)=>{const{slotScopeIds:v}=x;v&&(E=E?E.concat(v):v);const y=o(T),w=p(i(T),x,y,L,S,E,k);return w&&bi(w)&&w.data==="]"?i(x.anchor=w):(di(),c(x.anchor=u("]"),y,w),w)},m=(T,x,L,S,E,k)=>{if(oc(T.parentElement,1)||di(),x.el=null,k){const w=b(T);for(;;){const _=i(T);if(_&&_!==w)a(_);else break}}const v=i(T),y=o(T);return a(T),n(null,x,y,v,L,S,ic(y),E),L&&(L.vnode.el=x.el,$l(L,x.el)),v},b=(T,x="[",L="]")=>{let S=0;for(;T;)if(T=i(T),T&&bi(T)&&(T.data===x&&S++,T.data===L)){if(S===0)return i(T);S--}return T},R=(T,x,L)=>{const S=x.parentNode;S&&S.replaceChild(T,x);let E=L;for(;E;)E.vnode.el===x&&(E.vnode.el=E.subTree.el=T),E=E.parent},A=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[l,f]}const Hg="data-allow-mismatch",kI={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function oc(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Hg);)t=t.parentElement;const n=t&&t.getAttribute(Hg);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(kI[e])}}Ml().requestIdleCallback;Ml().cancelIdleCallback;function RI(t,e){if(bi(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(bi(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const hs=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Vg(t){Me(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:c}=t;let u=null,l,f=0;const d=()=>(f++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),c)return new Promise((b,R)=>{c(m,()=>b(d()),()=>R(m),f+1)});throw m}).then(m=>g!==u&&u?u:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),l=m,m)))};return It({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,m,b){const R=i?()=>{const T=i(()=>{b()},x=>RI(g,x));T&&(m.bum||(m.bum=[])).push(T),(m.u||(m.u=[])).push(()=>!0)}:b;l?R():p().then(()=>!m.isUnmounted&&R())},get __asyncResolved(){return l},setup(){const g=Ft;if(Fd(g),l)return()=>zu(l,g);const m=T=>{u=null,ro(T,g,13,!r)};if(a&&g.suspense||$i)return p().then(T=>()=>zu(T,g)).catch(T=>(m(T),()=>r?gt(r,{error:T}):null));const b=bt(!1),R=bt(),A=bt(!!s);return s&&setTimeout(()=>{A.value=!1},s),o!=null&&setTimeout(()=>{if(!b.value&&!R.value){const T=new Error(`Async component timed out after ${o}ms.`);m(T),R.value=T}},o),p().then(()=>{b.value=!0,g.parent&&Ia(g.parent.vnode)&&g.parent.update()}).catch(T=>{m(T),R.value=T}),()=>{if(b.value&&l)return zu(l,g);if(R.value&&r)return gt(r,{error:R.value});if(n&&!A.value)return gt(n)}}})}function zu(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=gt(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Ia=t=>t.type.__isKeepAlive,AI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=tr(),r=n.ctx;if(!r.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:u,um:l,o:{createElement:f}}}=r,d=f("div");r.activate=(A,T,x,L,S)=>{const E=A.component;u(A,T,x,0,a),c(E.vnode,A,T,x,E,a,L,A.slotScopeIds,S),Ut(()=>{E.isDeactivated=!1,E.a&&ki(E.a);const k=A.props&&A.props.onVnodeMounted;k&&Cn(k,E.parent,A)},a)},r.deactivate=A=>{const T=A.component;Yc(T.m),Yc(T.a),u(A,d,null,1,a),Ut(()=>{T.da&&ki(T.da);const x=A.props&&A.props.onVnodeUnmounted;x&&Cn(x,T.parent,A),T.isDeactivated=!0},a)};function p(A){Gu(A),l(A,n,a,!0)}function g(A){s.forEach((T,x)=>{const L=Eh(T.type);L&&!A(L)&&m(x)})}function m(A){const T=s.get(A);T&&(!o||!Wn(T,o))?p(T):o&&Gu(o),s.delete(A),i.delete(A)}pr(()=>[t.include,t.exclude],([A,T])=>{A&&g(x=>Eo(A,x)),T&&g(x=>!Eo(T,x))},{flush:"post",deep:!0});let b=null;const R=()=>{b!=null&&(Xc(n.subTree.type)?Ut(()=>{s.set(b,ac(n.subTree))},n.subTree.suspense):s.set(b,ac(n.subTree)))};return ka(R),Lw(R),Ra(()=>{s.forEach(A=>{const{subTree:T,suspense:x}=n,L=ac(T);if(A.type===L.type&&A.key===L.key){Gu(L);const S=L.component.da;S&&Ut(S,x);return}p(A)})}),()=>{if(b=null,!e.default)return o=null;const A=e.default(),T=A[0];if(A.length>1)return o=null,A;if(!Fr(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let x=ac(T);if(x.type===Mt)return o=null,x;const L=x.type,S=Eh(hs(x)?x.type.__asyncResolved||{}:L),{include:E,exclude:k,max:v}=t;if(E&&(!S||!Eo(E,S))||k&&S&&Eo(k,S))return x.shapeFlag&=-257,o=x,T;const y=x.key==null?L:x.key,w=s.get(y);return x.el&&(x=jr(x),T.shapeFlag&128&&(T.ssContent=x)),b=y,w?(x.el=w.el,x.component=w.component,x.transition&&Fi(x,x.transition),x.shapeFlag|=512,i.delete(y),i.add(y)):(i.add(y),v&&i.size>parseInt(v,10)&&m(i.values().next().value)),x.shapeFlag|=256,o=x,Xc(T.type)?T:x}}},PI=AI;function Eo(t,e){return Le(t)?t.some(n=>Eo(n,e)):at(t)?t.split(",").includes(e):OS(t)?(t.lastIndex=0,t.test(e)):!1}function Ow(t,e){Mw(t,"a",e)}function Nw(t,e){Mw(t,"da",e)}function Mw(t,e,n=Ft){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Ul(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ia(s.parent.vnode)&&xI(r,e,n,s),s=s.parent}}function xI(t,e,n,r){const s=Ul(e,t,r,!0);Dw(()=>{Sd(r[e],s)},n)}function Gu(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ac(t){return t.shapeFlag&128?t.ssContent:t}function Ul(t,e,n=Ft,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Dr();const a=Aa(n),c=Zn(e,n,t,o);return a(),Br(),c});return r?s.unshift(i):s.push(i),i}}const Wr=t=>(e,n=Ft)=>{(!$i||t==="sp")&&Ul(t,(...r)=>e(...r),n)},OI=Wr("bm"),ka=Wr("m"),NI=Wr("bu"),Lw=Wr("u"),Ra=Wr("bum"),Dw=Wr("um"),MI=Wr("sp"),LI=Wr("rtg"),DI=Wr("rtc");function Bw(t,e=Ft){Ul("ec",t,e)}const Uw="components";function c5(t,e){return $w(Uw,t,!0,e)||t}const Fw=Symbol.for("v-ndc");function jw(t){return at(t)?$w(Uw,t,!1)||t:t||Fw}function $w(t,e,n=!0,r=!1){const s=jt||Ft;if(s){const i=s.type;{const a=Eh(i,!1);if(a&&(a===e||a===An(e)||a===Nl(An(e))))return i}const o=Kg(s[t]||i[t],e)||Kg(s.appContext[t],e);return!o&&r?i:o}}function Kg(t,e){return t&&(t[e]||t[An(e)]||t[Nl(An(e))])}function l5(t,e,n,r){let s;const i=n,o=Le(t);if(o||at(t)){const a=o&&Nr(t);let c=!1,u=!1;a&&(c=!Vn(t),u=Ur(t),t=Dl(t)),s=new Array(t.length);for(let l=0,f=t.length;l<f;l++)s[l]=e(c?u?Kc(Qt(t[l])):Qt(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(ut(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const l=a[c];s[c]=e(t[l],l,c,i)}}else s=[];return s}function u5(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Le(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function Qc(t,e,n={},r,s){if(jt.ce||jt.parent&&hs(jt.parent)&&jt.parent.ce)return e!=="default"&&(n.name=e),ft(),mn(Jt,null,[gt("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),ft();const o=i&&Hw(i(n)),a=n.key||o&&o.key,c=mn(Jt,{key:(a&&!zr(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Hw(t){return t.some(e=>Fr(e)?!(e.type===Mt||e.type===Jt&&!Hw(e.children)):!0)?t:null}function f5(t,e){const n={};for(const r in t)n[Sc(r)]=t[r];return n}const mh=t=>t?h_(t)?Hl(t):mh(t.parent):null,Oo=Kt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mh(t.parent),$root:t=>mh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Kw(t),$forceUpdate:t=>t.f||(t.f=()=>{Bd(t.update)}),$nextTick:t=>t.n||(t.n=er.bind(t.proxy)),$watch:t=>rk.bind(t)}),Wu=(t,e)=>t!==pt&&!t.__isScriptSetup&&rt(t,e),BI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Wu(r,e))return o[e]=1,r[e];if(s!==pt&&rt(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&rt(u,e))return o[e]=3,i[e];if(n!==pt&&rt(n,e))return o[e]=4,n[e];yh&&(o[e]=0)}}const l=Oo[e];let f,d;if(l)return e==="$attrs"&&rn(t.attrs,"get",""),l(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==pt&&rt(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,rt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Wu(s,e)?(s[e]=n,!0):r!==pt&&rt(r,e)?(r[e]=n,!0):rt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==pt&&rt(t,o)||Wu(e,o)||(a=i[0])&&rt(a,o)||rt(r,o)||rt(Oo,o)||rt(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:rt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function h5(){return UI().slots}function UI(){const t=tr();return t.setupContext||(t.setupContext=p_(t))}function qg(t){return Le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let yh=!0;function FI(t){const e=Kw(t),n=t.proxy,r=t.ctx;yh=!1,e.beforeCreate&&zg(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:m,deactivated:b,beforeDestroy:R,beforeUnmount:A,destroyed:T,unmounted:x,render:L,renderTracked:S,renderTriggered:E,errorCaptured:k,serverPrefetch:v,expose:y,inheritAttrs:w,components:_,directives:I,filters:M}=e;if(u&&jI(u,r,null),o)for(const q in o){const K=o[q];Me(K)&&(r[q]=K.bind(n))}if(s){const q=s.call(n,n);ut(q)&&(t.data=br(q))}if(yh=!0,i)for(const q in i){const K=i[q],oe=Me(K)?K.bind(n,n):Me(K.get)?K.get.bind(n,n):Hn,he=!Me(K)&&Me(K.set)?K.set.bind(n):Hn,we=ze({get:oe,set:he});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>we.value,set:_e=>we.value=_e})}if(a)for(const q in a)Vw(a[q],r,n,q);if(c){const q=Me(c)?c.call(n):c;Reflect.ownKeys(q).forEach(K=>{Mr(K,q[K])})}l&&zg(l,t,"c");function D(q,K){Le(K)?K.forEach(oe=>q(oe.bind(n))):K&&q(K.bind(n))}if(D(OI,f),D(ka,d),D(NI,p),D(Lw,g),D(Ow,m),D(Nw,b),D(Bw,k),D(DI,S),D(LI,E),D(Ra,A),D(Dw,x),D(MI,v),Le(y))if(y.length){const q=t.exposed||(t.exposed={});y.forEach(K=>{Object.defineProperty(q,K,{get:()=>n[K],set:oe=>n[K]=oe})})}else t.exposed||(t.exposed={});L&&t.render===Hn&&(t.render=L),w!=null&&(t.inheritAttrs=w),_&&(t.components=_),I&&(t.directives=I),v&&Fd(t)}function jI(t,e,n=Hn){Le(t)&&(t=vh(t));for(const r in t){const s=t[r];let i;ut(s)?"default"in s?i=Tt(s.from||r,s.default,!0):i=Tt(s.from||r):i=Tt(s),Ct(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function zg(t,e,n){Zn(Le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Vw(t,e,n,r){let s=r.includes(".")?s_(n,r):()=>n[r];if(at(t)){const i=e[t];Me(i)&&pr(s,i)}else if(Me(t))pr(s,t.bind(n));else if(ut(t))if(Le(t))t.forEach(i=>Vw(i,e,n,r));else{const i=Me(t.handler)?t.handler.bind(n):e[t.handler];Me(i)&&pr(s,i,t)}}function Kw(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(u=>Jc(c,u,o,!0)),Jc(c,e,o)),ut(e)&&i.set(e,c),c}function Jc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Jc(t,i,n,!0),s&&s.forEach(o=>Jc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=$I[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const $I={data:Gg,props:Wg,emits:Wg,methods:To,computed:To,beforeCreate:dn,created:dn,beforeMount:dn,mounted:dn,beforeUpdate:dn,updated:dn,beforeDestroy:dn,beforeUnmount:dn,destroyed:dn,unmounted:dn,activated:dn,deactivated:dn,errorCaptured:dn,serverPrefetch:dn,components:To,directives:To,watch:VI,provide:Gg,inject:HI};function Gg(t,e){return e?t?function(){return Kt(Me(t)?t.call(this,this):t,Me(e)?e.call(this,this):e)}:e:t}function HI(t,e){return To(vh(t),vh(e))}function vh(t){if(Le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function dn(t,e){return t?[...new Set([].concat(t,e))]:e}function To(t,e){return t?Kt(Object.create(null),t,e):e}function Wg(t,e){return t?Le(t)&&Le(e)?[...new Set([...t,...e])]:Kt(Object.create(null),qg(t),qg(e??{})):e}function VI(t,e){if(!t)return e;if(!e)return t;const n=Kt(Object.create(null),t);for(const r in e)n[r]=dn(t[r],e[r]);return n}function qw(){return{app:null,config:{isNativeTag:PS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KI=0;function qI(t,e){return function(r,s=null){Me(r)||(r=Kt({},r)),s!=null&&!ut(s)&&(s=null);const i=qw(),o=new WeakSet,a=[];let c=!1;const u=i.app={_uid:KI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Tk,get config(){return i.config},set config(l){},use(l,...f){return o.has(l)||(l&&Me(l.install)?(o.add(l),l.install(u,...f)):Me(l)&&(o.add(l),l(u,...f))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,f){return f?(i.components[l]=f,u):i.components[l]},directive(l,f){return f?(i.directives[l]=f,u):i.directives[l]},mount(l,f,d){if(!c){const p=u._ceVNode||gt(r,s);return p.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),f&&e?e(p,l):t(p,l,d),c=!0,u._container=l,l.__vue_app__=u,Hl(p.component)}},onUnmount(l){a.push(l)},unmount(){c&&(Zn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(l,f){return i.provides[l]=f,u},runWithContext(l){const f=$s;$s=u;try{return l()}finally{$s=f}}};return u}}let $s=null;function Mr(t,e){if(Ft){let n=Ft.provides;const r=Ft.parent&&Ft.parent.provides;r===n&&(n=Ft.provides=Object.create(r)),n[t]=e}}function Tt(t,e,n=!1){const r=Ft||jt;if(r||$s){let s=$s?$s._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Me(e)?e.call(r&&r.proxy):e}}function Fl(){return!!(Ft||jt||$s)}const zw={},Gw=()=>Object.create(zw),Ww=t=>Object.getPrototypeOf(t)===zw;function zI(t,e,n,r=!1){const s={},i=Gw();t.propsDefaults=Object.create(null),Qw(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Qn(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function GI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=tt(s),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let f=0;f<l.length;f++){let d=l[f];if(jl(t.emitsOptions,d))continue;const p=e[d];if(c)if(rt(i,d))p!==i[d]&&(i[d]=p,u=!0);else{const g=An(d);s[g]=wh(c,a,g,p,t,!1)}else p!==i[d]&&(i[d]=p,u=!0)}}}else{Qw(t,e,s,i)&&(u=!0);let l;for(const f in a)(!e||!rt(e,f)&&((l=Gr(f))===f||!rt(e,l)))&&(c?n&&(n[f]!==void 0||n[l]!==void 0)&&(s[f]=wh(c,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!rt(e,f))&&(delete i[f],u=!0)}u&&Rr(t.attrs,"set","")}function Qw(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Ii(c))continue;const u=e[c];let l;s&&rt(s,l=An(c))?!i||!i.includes(l)?n[l]=u:(a||(a={}))[l]=u:jl(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=tt(n),u=a||pt;for(let l=0;l<i.length;l++){const f=i[l];n[f]=wh(s,c,f,u[f],t,!rt(u,f))}}return o}function wh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=rt(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Me(c)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const l=Aa(s);r=u[n]=c.call(null,e),l()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Gr(n))&&(r=!0))}return r}const WI=new WeakMap;function Jw(t,e,n=!1){const r=n?WI:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!Me(t)){const l=f=>{c=!0;const[d,p]=Jw(f,e,!0);Kt(o,d),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!i&&!c)return ut(t)&&r.set(t,Ti),Ti;if(Le(i))for(let l=0;l<i.length;l++){const f=An(i[l]);Qg(f)&&(o[f]=pt)}else if(i)for(const l in i){const f=An(l);if(Qg(f)){const d=i[l],p=o[f]=Le(d)||Me(d)?{type:d}:Kt({},d),g=p.type;let m=!1,b=!0;if(Le(g))for(let R=0;R<g.length;++R){const A=g[R],T=Me(A)&&A.name;if(T==="Boolean"){m=!0;break}else T==="String"&&(b=!1)}else m=Me(g)&&g.name==="Boolean";p[0]=m,p[1]=b,(m||rt(p,"default"))&&a.push(f)}}const u=[o,a];return ut(t)&&r.set(t,u),u}function Qg(t){return t[0]!=="$"&&!Ii(t)}const jd=t=>t[0]==="_"||t==="$stable",$d=t=>Le(t)?t.map(In):[In(t)],QI=(t,e,n)=>{if(e._n)return e;const r=fs((...s)=>$d(e(...s)),n);return r._c=!1,r},Yw=(t,e,n)=>{const r=t._ctx;for(const s in t){if(jd(s))continue;const i=t[s];if(Me(i))e[s]=QI(s,i,r);else if(i!=null){const o=$d(i);e[s]=()=>o}}},Xw=(t,e)=>{const n=$d(e);t.slots.default=()=>n},Zw=(t,e,n)=>{for(const r in e)(n||!jd(r))&&(t[r]=e[r])},JI=(t,e,n)=>{const r=t.slots=Gw();if(t.vnode.shapeFlag&32){const s=e._;s?(Zw(r,e,n),n&&W0(r,"_",s,!0)):Yw(e,r)}else e&&Xw(t,e)},YI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=pt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Zw(s,e,n):(i=!e.$stable,Yw(e,s)),o=e}else e&&(Xw(t,e),o={default:1});if(i)for(const a in s)!jd(a)&&o[a]==null&&delete s[a]},Ut=a_;function XI(t){return e_(t)}function ZI(t){return e_(t,II)}function e_(t,e){const n=Ml();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:f,nextSibling:d,setScopeId:p=Hn,insertStaticContent:g}=t,m=(N,B,z,Z=null,J=null,ee=null,me=void 0,le=null,fe=!!B.dynamicChildren)=>{if(N===B)return;N&&!Wn(N,B)&&(Z=H(N),_e(N,J,ee,!0),N=null),B.patchFlag===-2&&(fe=!1,B.dynamicChildren=null);const{type:ie,ref:Te,shapeFlag:ve}=B;switch(ie){case Hs:b(N,B,z,Z);break;case Mt:R(N,B,z,Z);break;case No:N==null&&A(B,z,Z,me);break;case Jt:_(N,B,z,Z,J,ee,me,le,fe);break;default:ve&1?L(N,B,z,Z,J,ee,me,le,fe):ve&6?I(N,B,z,Z,J,ee,me,le,fe):(ve&64||ve&128)&&ie.process(N,B,z,Z,J,ee,me,le,fe,ne)}Te!=null&&J&&Yo(Te,N&&N.ref,ee,B||N,!B)},b=(N,B,z,Z)=>{if(N==null)r(B.el=a(B.children),z,Z);else{const J=B.el=N.el;B.children!==N.children&&u(J,B.children)}},R=(N,B,z,Z)=>{N==null?r(B.el=c(B.children||""),z,Z):B.el=N.el},A=(N,B,z,Z)=>{[N.el,N.anchor]=g(N.children,B,z,Z,N.el,N.anchor)},T=({el:N,anchor:B},z,Z)=>{let J;for(;N&&N!==B;)J=d(N),r(N,z,Z),N=J;r(B,z,Z)},x=({el:N,anchor:B})=>{let z;for(;N&&N!==B;)z=d(N),s(N),N=z;s(B)},L=(N,B,z,Z,J,ee,me,le,fe)=>{B.type==="svg"?me="svg":B.type==="math"&&(me="mathml"),N==null?S(B,z,Z,J,ee,me,le,fe):v(N,B,J,ee,me,le,fe)},S=(N,B,z,Z,J,ee,me,le)=>{let fe,ie;const{props:Te,shapeFlag:ve,transition:Re,dirs:De}=N;if(fe=N.el=o(N.type,ee,Te&&Te.is,Te),ve&8?l(fe,N.children):ve&16&&k(N.children,fe,null,Z,J,Qu(N,ee),me,le),De&&ur(N,null,Z,"created"),E(fe,N,N.scopeId,me,Z),Te){for(const ct in Te)ct!=="value"&&!Ii(ct)&&i(fe,ct,null,Te[ct],ee,Z);"value"in Te&&i(fe,"value",null,Te.value,ee),(ie=Te.onVnodeBeforeMount)&&Cn(ie,Z,N)}De&&ur(N,null,Z,"beforeMount");const We=t_(J,Re);We&&Re.beforeEnter(fe),r(fe,B,z),((ie=Te&&Te.onVnodeMounted)||We||De)&&Ut(()=>{ie&&Cn(ie,Z,N),We&&Re.enter(fe),De&&ur(N,null,Z,"mounted")},J)},E=(N,B,z,Z,J)=>{if(z&&p(N,z),Z)for(let ee=0;ee<Z.length;ee++)p(N,Z[ee]);if(J){let ee=J.subTree;if(B===ee||Xc(ee.type)&&(ee.ssContent===B||ee.ssFallback===B)){const me=J.vnode;E(N,me,me.scopeId,me.slotScopeIds,J.parent)}}},k=(N,B,z,Z,J,ee,me,le,fe=0)=>{for(let ie=fe;ie<N.length;ie++){const Te=N[ie]=le?ts(N[ie]):In(N[ie]);m(null,Te,B,z,Z,J,ee,me,le)}},v=(N,B,z,Z,J,ee,me)=>{const le=B.el=N.el;let{patchFlag:fe,dynamicChildren:ie,dirs:Te}=B;fe|=N.patchFlag&16;const ve=N.props||pt,Re=B.props||pt;let De;if(z&&ks(z,!1),(De=Re.onVnodeBeforeUpdate)&&Cn(De,z,B,N),Te&&ur(B,N,z,"beforeUpdate"),z&&ks(z,!0),(ve.innerHTML&&Re.innerHTML==null||ve.textContent&&Re.textContent==null)&&l(le,""),ie?y(N.dynamicChildren,ie,le,z,Z,Qu(B,J),ee):me||K(N,B,le,null,z,Z,Qu(B,J),ee,!1),fe>0){if(fe&16)w(le,ve,Re,z,J);else if(fe&2&&ve.class!==Re.class&&i(le,"class",null,Re.class,J),fe&4&&i(le,"style",ve.style,Re.style,J),fe&8){const We=B.dynamicProps;for(let ct=0;ct<We.length;ct++){const et=We[ct],Gt=ve[et],Pt=Re[et];(Pt!==Gt||et==="value")&&i(le,et,Gt,Pt,J,z)}}fe&1&&N.children!==B.children&&l(le,B.children)}else!me&&ie==null&&w(le,ve,Re,z,J);((De=Re.onVnodeUpdated)||Te)&&Ut(()=>{De&&Cn(De,z,B,N),Te&&ur(B,N,z,"updated")},Z)},y=(N,B,z,Z,J,ee,me)=>{for(let le=0;le<B.length;le++){const fe=N[le],ie=B[le],Te=fe.el&&(fe.type===Jt||!Wn(fe,ie)||fe.shapeFlag&198)?f(fe.el):z;m(fe,ie,Te,null,Z,J,ee,me,!0)}},w=(N,B,z,Z,J)=>{if(B!==z){if(B!==pt)for(const ee in B)!Ii(ee)&&!(ee in z)&&i(N,ee,B[ee],null,J,Z);for(const ee in z){if(Ii(ee))continue;const me=z[ee],le=B[ee];me!==le&&ee!=="value"&&i(N,ee,le,me,J,Z)}"value"in z&&i(N,"value",B.value,z.value,J)}},_=(N,B,z,Z,J,ee,me,le,fe)=>{const ie=B.el=N?N.el:a(""),Te=B.anchor=N?N.anchor:a("");let{patchFlag:ve,dynamicChildren:Re,slotScopeIds:De}=B;De&&(le=le?le.concat(De):De),N==null?(r(ie,z,Z),r(Te,z,Z),k(B.children||[],z,Te,J,ee,me,le,fe)):ve>0&&ve&64&&Re&&N.dynamicChildren?(y(N.dynamicChildren,Re,z,J,ee,me,le),(B.key!=null||J&&B===J.subTree)&&Hd(N,B,!0)):K(N,B,z,Te,J,ee,me,le,fe)},I=(N,B,z,Z,J,ee,me,le,fe)=>{B.slotScopeIds=le,N==null?B.shapeFlag&512?J.ctx.activate(B,z,Z,me,fe):M(B,z,Z,J,ee,me,fe):V(N,B,fe)},M=(N,B,z,Z,J,ee,me)=>{const le=N.component=wk(N,Z,J);if(Ia(N)&&(le.ctx.renderer=ne),_k(le,!1,me),le.asyncDep){if(J&&J.registerDep(le,D,me),!N.el){const fe=le.subTree=gt(Mt);R(null,fe,B,z)}}else D(le,N,B,z,J,ee,me)},V=(N,B,z)=>{const Z=B.component=N.component;if(lk(N,B,z))if(Z.asyncDep&&!Z.asyncResolved){q(Z,B,z);return}else Z.next=B,Z.update();else B.el=N.el,Z.vnode=B},D=(N,B,z,Z,J,ee,me)=>{const le=()=>{if(N.isMounted){let{next:ve,bu:Re,u:De,parent:We,vnode:ct}=N;{const dt=n_(N);if(dt){ve&&(ve.el=ct.el,q(N,ve,me)),dt.asyncDep.then(()=>{N.isUnmounted||le()});return}}let et=ve,Gt;ks(N,!1),ve?(ve.el=ct.el,q(N,ve,me)):ve=ct,Re&&ki(Re),(Gt=ve.props&&ve.props.onVnodeBeforeUpdate)&&Cn(Gt,We,ve,ct),ks(N,!0);const Pt=Ju(N),hn=N.subTree;N.subTree=Pt,m(hn,Pt,f(hn.el),H(hn),N,J,ee),ve.el=Pt.el,et===null&&$l(N,Pt.el),De&&Ut(De,J),(Gt=ve.props&&ve.props.onVnodeUpdated)&&Ut(()=>Cn(Gt,We,ve,ct),J)}else{let ve;const{el:Re,props:De}=B,{bm:We,m:ct,parent:et,root:Gt,type:Pt}=N,hn=hs(B);if(ks(N,!1),We&&ki(We),!hn&&(ve=De&&De.onVnodeBeforeMount)&&Cn(ve,et,B),ks(N,!0),Re&&pe){const dt=()=>{N.subTree=Ju(N),pe(Re,N.subTree,N,J,null)};hn&&Pt.__asyncHydrate?Pt.__asyncHydrate(Re,N,dt):dt()}else{Gt.ce&&Gt.ce._injectChildStyle(Pt);const dt=N.subTree=Ju(N);m(null,dt,z,Z,N,J,ee),B.el=dt.el}if(ct&&Ut(ct,J),!hn&&(ve=De&&De.onVnodeMounted)){const dt=B;Ut(()=>Cn(ve,et,dt),J)}(B.shapeFlag&256||et&&hs(et.vnode)&&et.vnode.shapeFlag&256)&&N.a&&Ut(N.a,J),N.isMounted=!0,B=z=Z=null}};N.scope.on();const fe=N.effect=new tw(le);N.scope.off();const ie=N.update=fe.run.bind(fe),Te=N.job=fe.runIfDirty.bind(fe);Te.i=N,Te.id=N.uid,fe.scheduler=()=>Bd(Te),ks(N,!0),ie()},q=(N,B,z)=>{B.component=N;const Z=N.vnode.props;N.vnode=B,N.next=null,GI(N,B.props,Z,z),YI(N,B.children,z),Dr(),Dg(N),Br()},K=(N,B,z,Z,J,ee,me,le,fe=!1)=>{const ie=N&&N.children,Te=N?N.shapeFlag:0,ve=B.children,{patchFlag:Re,shapeFlag:De}=B;if(Re>0){if(Re&128){he(ie,ve,z,Z,J,ee,me,le,fe);return}else if(Re&256){oe(ie,ve,z,Z,J,ee,me,le,fe);return}}De&8?(Te&16&&ye(ie,J,ee),ve!==ie&&l(z,ve)):Te&16?De&16?he(ie,ve,z,Z,J,ee,me,le,fe):ye(ie,J,ee,!0):(Te&8&&l(z,""),De&16&&k(ve,z,Z,J,ee,me,le,fe))},oe=(N,B,z,Z,J,ee,me,le,fe)=>{N=N||Ti,B=B||Ti;const ie=N.length,Te=B.length,ve=Math.min(ie,Te);let Re;for(Re=0;Re<ve;Re++){const De=B[Re]=fe?ts(B[Re]):In(B[Re]);m(N[Re],De,z,null,J,ee,me,le,fe)}ie>Te?ye(N,J,ee,!0,!1,ve):k(B,z,Z,J,ee,me,le,fe,ve)},he=(N,B,z,Z,J,ee,me,le,fe)=>{let ie=0;const Te=B.length;let ve=N.length-1,Re=Te-1;for(;ie<=ve&&ie<=Re;){const De=N[ie],We=B[ie]=fe?ts(B[ie]):In(B[ie]);if(Wn(De,We))m(De,We,z,null,J,ee,me,le,fe);else break;ie++}for(;ie<=ve&&ie<=Re;){const De=N[ve],We=B[Re]=fe?ts(B[Re]):In(B[Re]);if(Wn(De,We))m(De,We,z,null,J,ee,me,le,fe);else break;ve--,Re--}if(ie>ve){if(ie<=Re){const De=Re+1,We=De<Te?B[De].el:Z;for(;ie<=Re;)m(null,B[ie]=fe?ts(B[ie]):In(B[ie]),z,We,J,ee,me,le,fe),ie++}}else if(ie>Re)for(;ie<=ve;)_e(N[ie],J,ee,!0),ie++;else{const De=ie,We=ie,ct=new Map;for(ie=We;ie<=Re;ie++){const G=B[ie]=fe?ts(B[ie]):In(B[ie]);G.key!=null&&ct.set(G.key,ie)}let et,Gt=0;const Pt=Re-We+1;let hn=!1,dt=0;const re=new Array(Pt);for(ie=0;ie<Pt;ie++)re[ie]=0;for(ie=De;ie<=ve;ie++){const G=N[ie];if(Gt>=Pt){_e(G,J,ee,!0);continue}let Q;if(G.key!=null)Q=ct.get(G.key);else for(et=We;et<=Re;et++)if(re[et-We]===0&&Wn(G,B[et])){Q=et;break}Q===void 0?_e(G,J,ee,!0):(re[Q-We]=ie+1,Q>=dt?dt=Q:hn=!0,m(G,B[Q],z,null,J,ee,me,le,fe),Gt++)}const $=hn?ek(re):Ti;for(et=$.length-1,ie=Pt-1;ie>=0;ie--){const G=We+ie,Q=B[G],ae=G+1<Te?B[G+1].el:Z;re[ie]===0?m(null,Q,z,ae,J,ee,me,le,fe):hn&&(et<0||ie!==$[et]?we(Q,z,ae,2):et--)}}},we=(N,B,z,Z,J=null)=>{const{el:ee,type:me,transition:le,children:fe,shapeFlag:ie}=N;if(ie&6){we(N.component.subTree,B,z,Z);return}if(ie&128){N.suspense.move(B,z,Z);return}if(ie&64){me.move(N,B,z,ne);return}if(me===Jt){r(ee,B,z);for(let ve=0;ve<fe.length;ve++)we(fe[ve],B,z,Z);r(N.anchor,B,z);return}if(me===No){T(N,B,z);return}if(Z!==2&&ie&1&&le)if(Z===0)le.beforeEnter(ee),r(ee,B,z),Ut(()=>le.enter(ee),J);else{const{leave:ve,delayLeave:Re,afterLeave:De}=le,We=()=>{N.ctx.isUnmounted?s(ee):r(ee,B,z)},ct=()=>{ve(ee,()=>{We(),De&&De()})};Re?Re(ee,We,ct):ct()}else r(ee,B,z)},_e=(N,B,z,Z=!1,J=!1)=>{const{type:ee,props:me,ref:le,children:fe,dynamicChildren:ie,shapeFlag:Te,patchFlag:ve,dirs:Re,cacheIndex:De}=N;if(ve===-2&&(J=!1),le!=null&&(Dr(),Yo(le,null,z,N,!0),Br()),De!=null&&(B.renderCache[De]=void 0),Te&256){B.ctx.deactivate(N);return}const We=Te&1&&Re,ct=!hs(N);let et;if(ct&&(et=me&&me.onVnodeBeforeUnmount)&&Cn(et,B,N),Te&6)Ee(N.component,z,Z);else{if(Te&128){N.suspense.unmount(z,Z);return}We&&ur(N,null,B,"beforeUnmount"),Te&64?N.type.remove(N,B,z,ne,Z):ie&&!ie.hasOnce&&(ee!==Jt||ve>0&&ve&64)?ye(ie,B,z,!1,!0):(ee===Jt&&ve&384||!J&&Te&16)&&ye(fe,B,z),Z&&Be(N)}(ct&&(et=me&&me.onVnodeUnmounted)||We)&&Ut(()=>{et&&Cn(et,B,N),We&&ur(N,null,B,"unmounted")},z)},Be=N=>{const{type:B,el:z,anchor:Z,transition:J}=N;if(B===Jt){ke(z,Z);return}if(B===No){x(N);return}const ee=()=>{s(z),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(N.shapeFlag&1&&J&&!J.persisted){const{leave:me,delayLeave:le}=J,fe=()=>me(z,ee);le?le(N.el,ee,fe):fe()}else ee()},ke=(N,B)=>{let z;for(;N!==B;)z=d(N),s(N),N=z;s(B)},Ee=(N,B,z)=>{const{bum:Z,scope:J,job:ee,subTree:me,um:le,m:fe,a:ie,parent:Te,slots:{__:ve}}=N;Yc(fe),Yc(ie),Z&&ki(Z),Te&&Le(ve)&&ve.forEach(Re=>{Te.renderCache[Re]=void 0}),J.stop(),ee&&(ee.flags|=8,_e(me,N,B,z)),le&&Ut(le,B),Ut(()=>{N.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ye=(N,B,z,Z=!1,J=!1,ee=0)=>{for(let me=ee;me<N.length;me++)_e(N[me],B,z,Z,J)},H=N=>{if(N.shapeFlag&6)return H(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const B=d(N.anchor||N.el),z=B&&B[Ew];return z?d(z):B};let Y=!1;const X=(N,B,z)=>{N==null?B._vnode&&_e(B._vnode,null,null,!0):m(B._vnode||null,N,B,null,null,null,z),B._vnode=N,Y||(Y=!0,Dg(),Gc(),Y=!1)},ne={p:m,um:_e,m:we,r:Be,mt:M,mc:k,pc:K,pbc:y,n:H,o:t};let ce,pe;return e&&([ce,pe]=e(ne)),{render:X,hydrate:ce,createApp:qI(X,ce)}}function Qu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ks({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function t_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Hd(t,e,n=!1){const r=t.children,s=e.children;if(Le(r)&&Le(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ts(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Hd(o,a)),a.type===Hs&&(a.el=o.el),a.type===Mt&&!a.el&&(a.el=o.el)}}function ek(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function n_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:n_(e)}function Yc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const tk=Symbol.for("v-scx"),nk=()=>Tt(tk);function r_(t,e){return Vd(t,null,e)}function pr(t,e,n){return Vd(t,e,n)}function Vd(t,e,n=pt){const{immediate:r,deep:s,flush:i,once:o}=n,a=Kt({},n),c=e&&r||!e&&i!=="post";let u;if($i){if(i==="sync"){const p=nk();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=Hn,p.resume=Hn,p.pause=Hn,p}}const l=Ft;a.call=(p,g,m)=>Zn(p,l,g,m);let f=!1;i==="post"?a.scheduler=p=>{Ut(p,l&&l.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(p,g)=>{g?p():Bd(p)}),a.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,l&&(p.id=l.uid,p.i=l))};const d=yI(t,e,a);return $i&&(u?u.push(d):c&&d()),d}function rk(t,e,n){const r=this.proxy,s=at(t)?t.includes(".")?s_(r,t):()=>r[t]:t.bind(r,r);let i;Me(e)?i=e:(i=e.handler,n=e);const o=Aa(this),a=Vd(s,i.bind(r),n);return o(),a}function s_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const sk=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${An(e)}Modifiers`]||t[`${Gr(e)}Modifiers`];function ik(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||pt;let s=n;const i=e.startsWith("update:"),o=i&&sk(r,e.slice(7));o&&(o.trim&&(s=n.map(l=>at(l)?l.trim():l)),o.number&&(s=n.map(lh)));let a,c=r[a=Sc(e)]||r[a=Sc(An(e))];!c&&i&&(c=r[a=Sc(Gr(e))]),c&&Zn(c,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Zn(u,t,6,s)}}function i_(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Me(t)){const c=u=>{const l=i_(u,e,!0);l&&(a=!0,Kt(o,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(ut(t)&&r.set(t,null),null):(Le(i)?i.forEach(c=>o[c]=null):Kt(o,i),ut(t)&&r.set(t,o),o)}function jl(t,e){return!t||!Ea(e)?!1:(e=e.slice(2).replace(/Once$/,""),rt(t,e[0].toLowerCase()+e.slice(1))||rt(t,Gr(e))||rt(t,e))}function Ju(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:u,renderCache:l,props:f,data:d,setupState:p,ctx:g,inheritAttrs:m}=t,b=Wc(t);let R,A;try{if(n.shapeFlag&4){const x=s||r,L=x;R=In(u.call(L,x,l,f,p,d,g)),A=a}else{const x=e;R=In(x.length>1?x(f,{attrs:a,slots:o,emit:c}):x(f,null)),A=e.props?a:ak(a)}}catch(x){Mo.length=0,ro(x,t,1),R=gt(Mt)}let T=R;if(A&&m!==!1){const x=Object.keys(A),{shapeFlag:L}=T;x.length&&L&7&&(i&&x.some(Td)&&(A=ck(A,i)),T=jr(T,A,!1,!0))}return n.dirs&&(T=jr(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&Fi(T,n.transition),R=T,Wc(b),R}function ok(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Fr(s)){if(s.type!==Mt||s.children==="v-if"){if(n)return;n=s}}else return}return n}const ak=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ea(n))&&((e||(e={}))[n]=t[n]);return e},ck=(t,e)=>{const n={};for(const r in t)(!Td(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function lk(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Jg(r,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let f=0;f<l.length;f++){const d=l[f];if(o[d]!==r[d]&&!jl(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Jg(r,o,u):!0:!!o;return!1}function Jg(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!jl(n,i))return!0}return!1}function $l({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xc=t=>t.__isSuspense;let _h=0;const uk={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,c,u){if(t==null)fk(e,n,r,s,i,o,a,c,u);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}hk(t,e,n,r,s,o,a,c,u)}},hydrate:dk,normalize:pk},Kd=uk;function Xo(t,e){const n=t.props&&t.props[e];Me(n)&&n()}function fk(t,e,n,r,s,i,o,a,c){const{p:u,o:{createElement:l}}=c,f=l("div"),d=t.suspense=o_(t,s,r,e,f,n,i,o,a,c);u(null,d.pendingBranch=t.ssContent,f,null,r,d,i,o),d.deps>0?(Xo(t,"onPending"),Xo(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,i,o),Ai(d,t.ssFallback)):d.resolve(!1,!0)}function hk(t,e,n,r,s,i,o,a,{p:c,um:u,o:{createElement:l}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:m,isInFallback:b,isHydrating:R}=f;if(m)f.pendingBranch=d,Wn(d,m)?(c(m,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():b&&(R||(c(g,p,n,r,s,null,i,o,a),Ai(f,p)))):(f.pendingId=_h++,R?(f.isHydrating=!1,f.activeBranch=m):u(m,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=l("div"),b?(c(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(c(g,p,n,r,s,null,i,o,a),Ai(f,p))):g&&Wn(d,g)?(c(g,d,n,r,s,f,i,o,a),f.resolve(!0)):(c(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(g&&Wn(d,g))c(g,d,n,r,s,f,i,o,a),Ai(f,d);else if(Xo(e,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=_h++,c(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:A,pendingId:T}=f;A>0?setTimeout(()=>{f.pendingId===T&&f.fallback(p)},A):A===0&&f.fallback(p)}}function o_(t,e,n,r,s,i,o,a,c,u,l=!1){const{p:f,m:d,um:p,n:g,o:{parentNode:m,remove:b}}=u;let R;const A=gk(t);A&&e&&e.pendingBranch&&(R=e.pendingId,e.deps++);const T=t.props?Q0(t.props.timeout):void 0,x=i,L={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:_h++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!l,isHydrating:l,isUnmounted:!1,effects:[],resolve(S=!1,E=!1){const{vnode:k,activeBranch:v,pendingBranch:y,pendingId:w,effects:_,parentComponent:I,container:M}=L;let V=!1;L.isHydrating?L.isHydrating=!1:S||(V=v&&y.transition&&y.transition.mode==="out-in",V&&(v.transition.afterLeave=()=>{w===L.pendingId&&(d(y,M,i===x?g(v):i,0),dh(_))}),v&&(m(v.el)===M&&(i=g(v)),p(v,I,L,!0)),V||d(y,M,i,0)),Ai(L,y),L.pendingBranch=null,L.isInFallback=!1;let D=L.parent,q=!1;for(;D;){if(D.pendingBranch){D.effects.push(..._),q=!0;break}D=D.parent}!q&&!V&&dh(_),L.effects=[],A&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!E&&e.resolve()),Xo(k,"onResolve")},fallback(S){if(!L.pendingBranch)return;const{vnode:E,activeBranch:k,parentComponent:v,container:y,namespace:w}=L;Xo(E,"onFallback");const _=g(k),I=()=>{L.isInFallback&&(f(null,S,y,_,v,null,w,a,c),Ai(L,S))},M=S.transition&&S.transition.mode==="out-in";M&&(k.transition.afterLeave=I),L.isInFallback=!0,p(k,v,null,!0),M||I()},move(S,E,k){L.activeBranch&&d(L.activeBranch,S,E,k),L.container=S},next(){return L.activeBranch&&g(L.activeBranch)},registerDep(S,E,k){const v=!!L.pendingBranch;v&&L.deps++;const y=S.vnode.el;S.asyncDep.catch(w=>{ro(w,S,0)}).then(w=>{if(S.isUnmounted||L.isUnmounted||L.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:_}=S;Ch(S,w),y&&(_.el=y);const I=!y&&S.subTree.el;E(S,_,m(y||S.subTree.el),y?null:g(S.subTree),L,o,k),I&&b(I),$l(S,_.el),v&&--L.deps===0&&L.resolve()})},unmount(S,E){L.isUnmounted=!0,L.activeBranch&&p(L.activeBranch,n,S,E),L.pendingBranch&&p(L.pendingBranch,n,S,E)}};return L}function dk(t,e,n,r,s,i,o,a,c){const u=e.suspense=o_(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),l=c(t,u.pendingBranch=e.ssContent,n,u,i,o);return u.deps===0&&u.resolve(!1,!0),l}function pk(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Yg(r?n.default:n),t.ssFallback=r?Yg(n.fallback):gt(Mt)}function Yg(t){let e;if(Me(t)){const n=ji&&t._c;n&&(t._d=!1,ft()),t=t(),n&&(t._d=!0,e=En,c_())}return Le(t)&&(t=ok(t)),t=In(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function a_(t,e){e&&e.pendingBranch?Le(t)?e.effects.push(...t):e.effects.push(t):dh(t)}function Ai(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,$l(r,s))}function gk(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Jt=Symbol.for("v-fgt"),Hs=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),No=Symbol.for("v-stc"),Mo=[];let En=null;function ft(t=!1){Mo.push(En=t?null:[])}function c_(){Mo.pop(),En=Mo[Mo.length-1]||null}let ji=1;function Xg(t,e=!1){ji+=t,t<0&&En&&e&&(En.hasOnce=!0)}function l_(t){return t.dynamicChildren=ji>0?En||Ti:null,c_(),ji>0&&En&&En.push(t),t}function Pn(t,e,n,r,s,i){return l_(xn(t,e,n,r,s,i,!0))}function mn(t,e,n,r,s){return l_(gt(t,e,n,r,s,!0))}function Fr(t){return t?t.__v_isVNode===!0:!1}function Wn(t,e){return t.type===e.type&&t.key===e.key}const u_=({key:t})=>t??null,kc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?at(t)||Ct(t)||Me(t)?{i:jt,r:t,k:e,f:!!n}:t:null);function xn(t,e=null,n=null,r=0,s=null,i=t===Jt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&u_(e),ref:e&&kc(e),scopeId:Cw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:jt};return a?(zd(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=at(n)?8:16),ji>0&&!o&&En&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&En.push(c),c}const gt=mk;function mk(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Fw)&&(t=Mt),Fr(t)){const a=jr(t,e,!0);return n&&zd(a,n),ji>0&&!i&&En&&(a.shapeFlag&6?En[En.indexOf(t)]=a:En.push(a)),a.patchFlag=-2,a}if(Ek(t)&&(t=t.__vccOpts),e){e=f_(e);let{class:a,style:c}=e;a&&!at(a)&&(e.class=Fn(a)),ut(c)&&(Ld(c)&&!Le(c)&&(c=Kt({},c)),e.style=no(c))}const o=at(t)?1:Xc(t)?128:Tw(t)?64:ut(t)?4:Me(t)?2:0;return xn(t,e,n,r,s,o,i,!0)}function f_(t){return t?Ld(t)||Ww(t)?Kt({},t):t:null}function jr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,u=e?Gd(s||{},e):s,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&u_(u),ref:e&&e.ref?n&&i?Le(i)?i.concat(kc(e)):[i,kc(e)]:kc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Jt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jr(t.ssContent),ssFallback:t.ssFallback&&jr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Fi(l,c.clone(l)),l}function qd(t=" ",e=0){return gt(Hs,null,t,e)}function d5(t,e){const n=gt(No,null,t);return n.staticCount=e,n}function cc(t="",e=!1){return e?(ft(),mn(Mt,null,t)):gt(Mt,null,t)}function In(t){return t==null||typeof t=="boolean"?gt(Mt):Le(t)?gt(Jt,null,t.slice()):Fr(t)?ts(t):gt(Hs,null,String(t))}function ts(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jr(t)}function zd(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Le(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),zd(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Ww(e)?e._ctx=jt:s===3&&jt&&(jt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Me(e)?(e={default:e,_ctx:jt},n=32):(e=String(e),r&64?(n=16,e=[qd(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gd(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Fn([e.class,r.class]));else if(s==="style")e.style=no([e.style,r.style]);else if(Ea(s)){const i=e[s],o=r[s];o&&i!==o&&!(Le(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Cn(t,e,n,r=null){Zn(t,e,7,[n,r])}const yk=qw();let vk=0;function wk(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||yk,i={uid:vk++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Z0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jw(r,s),emitsOptions:i_(r,s),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:r.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ik.bind(null,i),t.ce&&t.ce(i),i}let Ft=null;const tr=()=>Ft||jt;let Zc,bh;{const t=Ml(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Zc=e("__VUE_INSTANCE_SETTERS__",n=>Ft=n),bh=e("__VUE_SSR_SETTERS__",n=>$i=n)}const Aa=t=>{const e=Ft;return Zc(t),t.scope.on(),()=>{t.scope.off(),Zc(e)}},Zg=()=>{Ft&&Ft.scope.off(),Zc(null)};function h_(t){return t.vnode.shapeFlag&4}let $i=!1;function _k(t,e=!1,n=!1){e&&bh(e);const{props:r,children:s}=t.vnode,i=h_(t);zI(t,r,i,e),JI(t,s,n||e);const o=i?bk(t,e):void 0;return e&&bh(!1),o}function bk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,BI);const{setup:r}=n;if(r){Dr();const s=t.setupContext=r.length>1?p_(t):null,i=Aa(t),o=Sa(r,t,0,[t.props,s]),a=q0(o);if(Br(),i(),(a||t.sp)&&!hs(t)&&Fd(t),a){if(o.then(Zg,Zg),e)return o.then(c=>{Ch(t,c)}).catch(c=>{ro(c,t,0)});t.asyncDep=o}else Ch(t,o)}else d_(t)}function Ch(t,e,n){Me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ut(e)&&(t.setupState=mw(e)),d_(t)}function d_(t,e,n){const r=t.type;t.render||(t.render=r.render||Hn);{const s=Aa(t);Dr();try{FI(t)}finally{Br(),s()}}}const Ck={get(t,e){return rn(t,"get",""),t[e]}};function p_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Ck),slots:t.slots,emit:t.emit,expose:e}}function Hl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(mw(Dd(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Oo)return Oo[n](t)},has(e,n){return n in e||n in Oo}})):t.proxy}function Eh(t,e=!0){return Me(t)?t.displayName||t.name:t.name||e&&t.__name}function Ek(t){return Me(t)&&"__vccOpts"in t}const ze=(t,e)=>gI(t,e,$i);function At(t,e,n){const r=arguments.length;return r===2?ut(e)&&!Le(e)?Fr(e)?gt(t,null,[e]):gt(t,e):gt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Fr(n)&&(n=[n]),gt(t,e,n))}const Tk="3.5.16",Sk=Hn;/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Th;const em=typeof window<"u"&&window.trustedTypes;if(em)try{Th=em.createPolicy("vue",{createHTML:t=>t})}catch{}const g_=Th?t=>Th.createHTML(t):t=>t,Ik="http://www.w3.org/2000/svg",kk="http://www.w3.org/1998/Math/MathML",kr=typeof document<"u"?document:null,tm=kr&&kr.createElement("template"),Rk={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?kr.createElementNS(Ik,t):e==="mathml"?kr.createElementNS(kk,t):n?kr.createElement(t,{is:n}):kr.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>kr.createTextNode(t),createComment:t=>kr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{tm.innerHTML=g_(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=tm.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Jr="transition",go="animation",Zo=Symbol("_vtc"),m_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ak=Kt({},kw,m_),Pk=t=>(t.displayName="Transition",t.props=Ak,t),Vl=Pk((t,{slots:e})=>At(EI,xk(t),e)),Rs=(t,e=[])=>{Le(t)?t.forEach(n=>n(...e)):t&&t(...e)},nm=t=>t?Le(t)?t.some(e=>e.length>1):t.length>1:!1;function xk(t){const e={};for(const _ in t)_ in m_||(e[_]=t[_]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:l=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=Ok(s),m=g&&g[0],b=g&&g[1],{onBeforeEnter:R,onEnter:A,onEnterCancelled:T,onLeave:x,onLeaveCancelled:L,onBeforeAppear:S=R,onAppear:E=A,onAppearCancelled:k=T}=e,v=(_,I,M,V)=>{_._enterCancelled=V,As(_,I?l:a),As(_,I?u:o),M&&M()},y=(_,I)=>{_._isLeaving=!1,As(_,f),As(_,p),As(_,d),I&&I()},w=_=>(I,M)=>{const V=_?E:A,D=()=>v(I,_,M);Rs(V,[I,D]),rm(()=>{As(I,_?c:i),Sr(I,_?l:a),nm(V)||sm(I,r,m,D)})};return Kt(e,{onBeforeEnter(_){Rs(R,[_]),Sr(_,i),Sr(_,o)},onBeforeAppear(_){Rs(S,[_]),Sr(_,c),Sr(_,u)},onEnter:w(!1),onAppear:w(!0),onLeave(_,I){_._isLeaving=!0;const M=()=>y(_,I);Sr(_,f),_._enterCancelled?(Sr(_,d),am()):(am(),Sr(_,d)),rm(()=>{_._isLeaving&&(As(_,f),Sr(_,p),nm(x)||sm(_,r,b,M))}),Rs(x,[_,M])},onEnterCancelled(_){v(_,!1,void 0,!0),Rs(T,[_])},onAppearCancelled(_){v(_,!0,void 0,!0),Rs(k,[_])},onLeaveCancelled(_){y(_),Rs(L,[_])}})}function Ok(t){if(t==null)return null;if(ut(t))return[Yu(t.enter),Yu(t.leave)];{const e=Yu(t);return[e,e]}}function Yu(t){return Q0(t)}function Sr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Zo]||(t[Zo]=new Set)).add(e)}function As(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Zo];n&&(n.delete(e),n.size||(t[Zo]=void 0))}function rm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Nk=0;function sm(t,e,n,r){const s=t._endId=++Nk,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Mk(t,e);if(!o)return r();const u=o+"end";let l=0;const f=()=>{t.removeEventListener(u,d),i()},d=p=>{p.target===t&&++l>=c&&f()};setTimeout(()=>{l<c&&f()},a+1),t.addEventListener(u,d)}function Mk(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),s=r(`${Jr}Delay`),i=r(`${Jr}Duration`),o=im(s,i),a=r(`${go}Delay`),c=r(`${go}Duration`),u=im(a,c);let l=null,f=0,d=0;e===Jr?o>0&&(l=Jr,f=o,d=i.length):e===go?u>0&&(l=go,f=u,d=c.length):(f=Math.max(o,u),l=f>0?o>u?Jr:go:null,d=l?l===Jr?i.length:c.length:0);const p=l===Jr&&/\b(transform|all)(,|$)/.test(r(`${Jr}Property`).toString());return{type:l,timeout:f,propCount:d,hasTransform:p}}function im(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>om(n)+om(t[r])))}function om(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function am(){return document.body.offsetHeight}function Lk(t,e,n){const r=t[Zo];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const el=Symbol("_vod"),y_=Symbol("_vsh"),Wd={beforeMount(t,{value:e},{transition:n}){t[el]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):mo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),mo(t,!0),r.enter(t)):r.leave(t,()=>{mo(t,!1)}):mo(t,e))},beforeUnmount(t,{value:e}){mo(t,e)}};function mo(t,e){t.style.display=e?t[el]:"none",t[y_]=!e}const Dk=Symbol(""),Bk=/(^|;)\s*display\s*:/;function Uk(t,e,n){const r=t.style,s=at(n);let i=!1;if(n&&!s){if(e)if(at(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Rc(r,a,"")}else for(const o in e)n[o]==null&&Rc(r,o,"");for(const o in n)o==="display"&&(i=!0),Rc(r,o,n[o])}else if(s){if(e!==n){const o=r[Dk];o&&(n+=";"+o),r.cssText=n,i=Bk.test(n)}}else e&&t.removeAttribute("style");el in t&&(t[el]=i?r.display:"",t[y_]&&(r.display="none"))}const cm=/\s*!important$/;function Rc(t,e,n){if(Le(n))n.forEach(r=>Rc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Fk(t,e);cm.test(n)?t.setProperty(Gr(r),n.replace(cm,""),"important"):t[r]=n}}const lm=["Webkit","Moz","ms"],Xu={};function Fk(t,e){const n=Xu[e];if(n)return n;let r=An(e);if(r!=="filter"&&r in t)return Xu[e]=r;r=Nl(r);for(let s=0;s<lm.length;s++){const i=lm[s]+r;if(i in t)return Xu[e]=i}return e}const um="http://www.w3.org/1999/xlink";function fm(t,e,n,r,s,i=HS(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(um,e.slice(6,e.length)):t.setAttributeNS(um,e,n):n==null||i&&!J0(n)?t.removeAttribute(e):t.setAttribute(e,i?"":zr(n)?String(n):n)}function hm(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?g_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=J0(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function yi(t,e,n,r){t.addEventListener(e,n,r)}function jk(t,e,n,r){t.removeEventListener(e,n,r)}const dm=Symbol("_vei");function $k(t,e,n,r,s=null){const i=t[dm]||(t[dm]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=Hk(e);if(r){const u=i[e]=qk(r,s);yi(t,a,u,c)}else o&&(jk(t,a,o,c),i[e]=void 0)}}const pm=/(?:Once|Passive|Capture)$/;function Hk(t){let e;if(pm.test(t)){e={};let r;for(;r=t.match(pm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gr(t.slice(2)),e]}let Zu=0;const Vk=Promise.resolve(),Kk=()=>Zu||(Vk.then(()=>Zu=0),Zu=Date.now());function qk(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Zn(zk(r,n.value),e,5,[r])};return n.value=t,n.attached=Kk(),n}function zk(t,e){if(Le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const gm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Gk=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?Lk(t,r,o):e==="style"?Uk(t,n,r):Ea(e)?Td(e)||$k(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Wk(t,e,r,o))?(hm(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&fm(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!at(r))?hm(t,An(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),fm(t,e,r,o))};function Wk(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&gm(e)&&Me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return gm(e)&&at(n)?!1:e in t}const mm=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Le(e)?n=>ki(e,n):e};function Qk(t){t.target.composing=!0}function ym(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ef=Symbol("_assign"),p5={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ef]=mm(s);const i=r||s.props&&s.props.type==="number";yi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=lh(a)),t[ef](a)}),n&&yi(t,"change",()=>{t.value=t.value.trim()}),e||(yi(t,"compositionstart",Qk),yi(t,"compositionend",ym),yi(t,"change",ym))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[ef]=mm(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?lh(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},Jk=["ctrl","shift","alt","meta"],Yk={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Jk.some(n=>t[`${n}Key`]&&!e.includes(n))},Xk=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=Yk[e[o]];if(a&&a(s,e))return}return t(s,...i)})},Zk={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},g5=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Gr(s.key);if(e.some(o=>o===i||Zk[o]===i))return t(s)})},v_=Kt({patchProp:Gk},Rk);let Lo,vm=!1;function w_(){return Lo||(Lo=XI(v_))}function e1(){return Lo=vm?Lo:ZI(v_),vm=!0,Lo}const wm=(...t)=>{w_().render(...t)},__=(...t)=>{const e=w_().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=C_(r);if(!s)return;const i=e._component;!Me(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,b_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},t1=(...t)=>{const e=e1().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=C_(r);if(s)return n(s,!0,b_(s))},e};function b_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function C_(t){return at(t)?document.querySelector(t):t}const n1=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,r1=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,s1=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function i1(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){o1(t);return}return e}function o1(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function tl(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!s1.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(n1.test(t)||r1.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,i1)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const a1=/#/g,c1=/&/g,l1=/\//g,u1=/=/g,Qd=/\+/g,f1=/%5e/gi,h1=/%60/gi,d1=/%7c/gi,p1=/%20/gi;function g1(t){return encodeURI(""+t).replace(d1,"|")}function Sh(t){return g1(typeof t=="string"?t:JSON.stringify(t)).replace(Qd,"%2B").replace(p1,"+").replace(a1,"%23").replace(c1,"%26").replace(h1,"`").replace(f1,"^").replace(l1,"%2F")}function tf(t){return Sh(t).replace(u1,"%3D")}function nl(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function m1(t){return nl(t.replace(Qd," "))}function y1(t){return nl(t.replace(Qd," "))}function E_(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=m1(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=y1(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function v1(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${tf(t)}=${Sh(n)}`).join("&"):`${tf(t)}=${Sh(e)}`:tf(t)}function w1(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>v1(e,t[e])).filter(Boolean).join("&")}const _1=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,b1=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,C1=/^([/\\]\s*){2,}[^/\\]/,E1=/^[\s\0]*(blob|data|javascript|vbscript):$/i,T1=/\/$|\/\?|\/#/,S1=/^\.?\//;function ri(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?_1.test(t):b1.test(t)||(e.acceptRelative?C1.test(t):!1)}function I1(t){return!!t&&E1.test(t)}function Ih(t="",e){return e?T1.test(t):t.endsWith("/")}function ea(t="",e){if(!e)return(Ih(t)?t.slice(0,-1):t)||"/";if(!Ih(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function k1(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Ih(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function R1(t,e){if(S_(e)||ri(t))return t;const n=ea(e);return t.startsWith(n)?t:Jd(n,t)}function _m(t,e){if(S_(e))return t;const n=ea(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function T_(t,e){const n=R_(t),r={...E_(n.search),...e};return n.search=w1(r),x1(n)}function S_(t){return!t||t==="/"}function A1(t){return t&&t!=="/"}function Jd(t,...e){let n=t||"";for(const r of e.filter(s=>A1(s)))if(n){const s=r.replace(S1,"");n=k1(n)+s}else n=r;return n}function I_(...t){var o,a,c,u;const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const l of n)if(!(!l||l==="/")){for(const[f,d]of l.split(e).entries())if(!(!d||d===".")){if(d===".."){if(r.length===1&&ri(r[0]))continue;r.pop(),s--;continue}if(f===1&&((o=r[r.length-1])!=null&&o.endsWith(":/"))){r[r.length-1]+="/"+d;continue}r.push(d),s++}}let i=r.join("/");return s>=0?(a=n[0])!=null&&a.startsWith("/")&&!i.startsWith("/")?i="/"+i:(c=n[0])!=null&&c.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,(u=n[n.length-1])!=null&&u.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function P1(t,e){return nl(ea(t))===nl(ea(e))}const k_=Symbol.for("ufo:protocolRelative");function R_(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,f,d=""]=n;return{protocol:f.toLowerCase(),pathname:d,href:f+d,auth:"",host:"",search:"",hash:""}}if(!ri(t,{acceptRelative:!0}))return bm(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:u,hash:l}=bm(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:u,hash:l,[k_]:!r}}function bm(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function x1(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[k_]?(t.protocol||"")+"//":"")+s+i+e+n+r}class O1 extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function N1(t){var c,u,l,f,d;const e=((c=t.error)==null?void 0:c.message)||((u=t.error)==null?void 0:u.toString())||"",n=((l=t.request)==null?void 0:l.method)||((f=t.options)==null?void 0:f.method)||"GET",r=((d=t.request)==null?void 0:d.url)||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new O1(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[g]}});return a}const M1=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Cm(t="GET"){return M1.has(t.toUpperCase())}function L1(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const D1=new Set(["image/svg","application/xml","application/xhtml","application/html"]),B1=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function U1(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return B1.test(e)?"json":D1.has(e)||e.startsWith("text/")?"text":"blob"}function F1(t,e,n,r){const s=j1((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:s}}function j1(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function lc(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const $1=new Set([408,409,425,429,500,502,503,504]),H1=new Set([101,204,205,304]);function A_(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let l;typeof a.options.retry=="number"?l=a.options.retry:l=Cm(a.options.method)?0:1;const f=a.response&&a.response.status||500;if(l>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(f):$1.has(f))){const d=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return d>0&&await new Promise(p=>setTimeout(p,d)),i(a.request,{...a.options,retry:l-1})}}const u=N1(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(c,u={}){const l={request:c,options:F1(c,u,t.defaults,n),response:void 0,error:void 0};l.options.method&&(l.options.method=l.options.method.toUpperCase()),l.options.onRequest&&await lc(l,l.options.onRequest),typeof l.request=="string"&&(l.options.baseURL&&(l.request=R1(l.request,l.options.baseURL)),l.options.query&&(l.request=T_(l.request,l.options.query),delete l.options.query),"query"in l.options&&delete l.options.query,"params"in l.options&&delete l.options.params),l.options.body&&Cm(l.options.method)&&(L1(l.options.body)?(l.options.body=typeof l.options.body=="string"?l.options.body:JSON.stringify(l.options.body),l.options.headers=new n(l.options.headers||{}),l.options.headers.has("content-type")||l.options.headers.set("content-type","application/json"),l.options.headers.has("accept")||l.options.headers.set("accept","application/json")):("pipeTo"in l.options.body&&typeof l.options.body.pipeTo=="function"||typeof l.options.body.pipe=="function")&&("duplex"in l.options||(l.options.duplex="half")));let f;if(!l.options.signal&&l.options.timeout){const p=new r;f=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,p.abort(g)},l.options.timeout),l.options.signal=p.signal}try{l.response=await e(l.request,l.options)}catch(p){return l.error=p,l.options.onRequestError&&await lc(l,l.options.onRequestError),await s(l)}finally{f&&clearTimeout(f)}if((l.response.body||l.response._bodyInit)&&!H1.has(l.response.status)&&l.options.method!=="HEAD"){const p=(l.options.parseResponse?"json":l.options.responseType)||U1(l.response.headers.get("content-type")||"");switch(p){case"json":{const g=await l.response.text(),m=l.options.parseResponse||tl;l.response._data=m(g);break}case"stream":{l.response._data=l.response.body||l.response._bodyInit;break}default:l.response._data=await l.response[p]()}}return l.options.onResponse&&await lc(l,l.options.onResponse),!l.options.ignoreResponseError&&l.response.status>=400&&l.response.status<600?(l.options.onResponseError&&await lc(l,l.options.onResponseError),await s(l)):l.response},o=async function(c,u){return(await i(c,u))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},c={})=>A_({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const rl=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),V1=rl.fetch?(...t)=>rl.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),K1=rl.Headers,q1=rl.AbortController,z1=A_({fetch:V1,Headers:K1,AbortController:q1}),G1=z1,W1=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},sl=W1().app,Q1=()=>sl.baseURL,J1=()=>sl.buildAssetsDir,Yd=(...t)=>I_(P_(),J1(),...t),P_=(...t)=>{const e=sl.cdnURL||sl.baseURL;return t.length?I_(e,...t):e};globalThis.__buildAssetsURL=Yd,globalThis.__publicAssetsURL=P_;globalThis.$fetch||(globalThis.$fetch=G1.create({baseURL:Q1()}));"global"in globalThis||(globalThis.global=globalThis);function kh(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?kh(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const Y1={run:t=>t()},X1=()=>Y1,x_=typeof console.createTask<"u"?console.createTask:X1;function Z1(t,e){const n=e.shift(),r=x_(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function eR(t,e){const n=e.shift(),r=x_(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function nf(t,e){for(const n of[...t])n(e)}class tR{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=kh(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=kh(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(Z1,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(eR,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&nf(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&nf(this._after,s)}):(this._after&&s&&nf(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function O_(){return new tR}function nR(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const c=()=>{e=o},u=()=>e===o?c:void 0;Rh.add(u);try{const l=s?s.run(o,a):a();return n||(e=void 0),await l}finally{Rh.delete(u)}}}}function rR(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=nR({...t,...r})),e[n]}}}const il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Em="__unctx__",sR=il[Em]||(il[Em]=rR()),iR=(t,e={})=>sR.get(t,e),Tm="__unctx_async_handlers__",Rh=il[Tm]||(il[Tm]=new Set);function Pi(t){const e=[];for(const s of Rh){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const oR=!1,Sm=!1,aR=!1,m5={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},cR=null,lR="#__nuxt",N_="nuxt-app",Im=36e5,uR="vite:preloadError";function M_(t=N_){return iR(t,{asyncContext:!1})}const fR="__nuxt_plugin";function hR(t){var s;let e=0;const n={_id:t.id||N_||"nuxt-app",_scope:Rd(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.17.5"},get vue(){return n.vueApp.version}},payload:Qn({...((s=t.ssrContext)==null?void 0:s.payload)||{},data:Qn({}),state:br({}),once:new Set,_errors:Qn({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!Ll()?n._scope.run(()=>km(n,i)):km(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Qn({}),_payloadRevivers:{},...t};{const i=window.__NUXT__;if(i)for(const o in i)switch(o){case"data":case"state":case"_errors":Object.assign(n.payload[o],i[o]);break;default:n.payload[o]=i[o]}}n.hooks=O_(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,o)=>{const a="$"+i;uc(n,a,o),uc(n.vueApp.config.globalProperties,a,o)},uc(n.vueApp,"$nuxt",n),uc(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(uR,o=>{n.callHook("app:chunkError",{error:o.payload}),o.payload.message.includes("Unable to preload CSS")&&o.preventDefault()}),window.useNuxtApp||(window.useNuxtApp=Ht);const i=n.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}function dR(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function pR(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function gR(t,e){const n=new Set,r=[],s=[],i=[];let o=0;async function a(c){var l;const u=((l=c.dependsOn)==null?void 0:l.filter(f=>e.some(d=>d._name===f)&&!n.has(f)))??[];if(u.length>0)r.push([new Set(u),c]);else{const f=pR(t,c).then(async()=>{c._name&&(n.add(c._name),await Promise.all(r.map(async([d,p])=>{d.has(c._name)&&(d.delete(c._name),d.size===0&&(o++,await a(p)))})))});c.parallel?s.push(f.catch(d=>i.push(d))):await f}}for(const c of e)dR(t,c);for(const c of e)await a(c);if(await Promise.all(s),o)for(let c=0;c<o;c++)await Promise.all(s);if(i.length)throw i[0]}function wn(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[fR]:!0,_name:e})}function km(t,e,n){const r=()=>e();return M_(t._id).set(t),t.vueApp.runWithContext(r)}function mR(t){var n;let e;return Fl()&&(e=(n=tr())==null?void 0:n.appContext.app.$nuxt),e||(e=M_(t).tryUse()),e||null}function Ht(t){const e=mR(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Kl(t){return Ht().$config}function uc(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function yR(t,e){return{ctx:{table:t},matchAll:n=>D_(n,t)}}function L_(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,L_(s)])):new Map(Object.entries(t[n]));return e}function vR(t){return yR(L_(t))}function D_(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of Rm(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Rm(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...D_(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function Rm(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function rf(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Ah(t,e,n=".",r){if(!rf(e))return Ah(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:rf(o)&&rf(s[i])?s[i]=Ah(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function wR(t){return(...e)=>e.reduce((n,r)=>Ah(n,r,"",t),{})}const B_=wR();function _R(t,e){try{return e in t}catch{return!1}}class Ph extends Error{constructor(n,r={}){super(n,r);Qr(this,"statusCode",500);Qr(this,"fatal",!1);Qr(this,"unhandled",!1);Qr(this,"statusMessage");Qr(this,"data");Qr(this,"cause");r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const n={message:this.message,statusCode:xh(this.statusCode,500)};return this.statusMessage&&(n.statusMessage=U_(this.statusMessage)),this.data!==void 0&&(n.data=this.data),n}}Qr(Ph,"__h3_error__",!0);function bR(t){if(typeof t=="string")return new Ph(t);if(CR(t))return t;const e=new Ph(t.message??t.statusMessage??"",{cause:t.cause||t});if(_R(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=xh(t.statusCode,e.statusCode):t.status&&(e.statusCode=xh(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;U_(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function CR(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const ER=/[^\u0009\u0020-\u007E]/g;function U_(t=""){return t.replace(ER,"")}function xh(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const F_=Symbol("layout-meta"),Gs=Symbol("route"),On=()=>{var t;return(t=Ht())==null?void 0:t.$router},ql=()=>Fl()?Tt(Gs,Ht()._route):Ht()._route;const TR=()=>{try{if(Ht()._processingMiddleware)return!0}catch{return!1}return!1},y5=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:"path"in t?SR(t):On().resolve(t).href;if(e!=null&&e.open){const{target:c="_blank",windowFeatures:u={}}=e.open,l=Object.entries(u).filter(([f,d])=>d!==void 0).map(([f,d])=>`${f.toLowerCase()}=${d}`).join(", ");return open(n,c,l),Promise.resolve()}const r=ri(n,{acceptRelative:!0}),s=(e==null?void 0:e.external)||r;if(s){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&I1(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const i=TR();if(!s&&i){if(e!=null&&e.replace){if(typeof t=="string"){const{pathname:c,search:u,hash:l}=R_(t);return{path:c,...u&&{query:E_(u)},...l&&{hash:l},replace:!0}}return{...t,replace:!0}}return t}const o=On(),a=Ht();return s?(a._scope.stop(),e!=null&&e.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?o.replace(t):o.push(t)};function SR(t){return T_(t.path||"",t.query||{})+(t.hash||"")}const j_="__nuxt_error",zl=()=>dI(Ht().payload,"error"),Ns=t=>{const e=Vs(t);try{const n=Ht(),r=zl();n.hooks.callHook("app:error",e),r.value||(r.value=e)}catch{throw e}return e},IR=async(t={})=>{const e=Ht(),n=zl();e.callHook("app:error:cleared",t),t.redirect&&await On().replace(t.redirect),n.value=cR},$_=t=>!!t&&typeof t=="object"&&j_ in t,Vs=t=>{const e=bR(t);return Object.defineProperty(e,j_,{value:!0,configurable:!1,writable:!1}),e};function Am(t){const e=RR(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const kR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function RR(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=kR.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const AR=-1,PR=-2,xR=-3,OR=-4,NR=-5,MR=-6;function LR(t,e){return DR(JSON.parse(t),e)}function DR(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===AR)return;if(i===xR)return NaN;if(i===OR)return 1/0;if(i===NR)return-1/0;if(i===MR)return-0;if(o)throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const c=a[0],u=e==null?void 0:e[c];if(u)return r[i]=u(s(a[1]));switch(c){case"Date":r[i]=new Date(a[1]);break;case"Set":const l=new Set;r[i]=l;for(let p=1;p<a.length;p+=1)l.add(s(a[p]));break;case"Map":const f=new Map;r[i]=f;for(let p=1;p<a.length;p+=2)f.set(s(a[p]),s(a[p+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const d=Object.create(null);r[i]=d;for(let p=1;p<a.length;p+=2)d[a[p]]=s(a[p+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const p=globalThis[c],g=a[1],m=Am(g),b=new p(m);r[i]=b;break}case"ArrayBuffer":{const p=a[1],g=Am(p);r[i]=g;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(a.length);r[i]=c;for(let u=0;u<a.length;u+=1){const l=a[u];l!==PR&&(c[u]=s(l))}}else{const c={};r[i]=c;for(const u in a){const l=a[u];c[u]=s(l)}}return r[i]}return s(0)}const BR=new Set(["link","style","script","noscript"]),UR=new Set(["title","titleTemplate","script","style","noscript"]),Pm=new Set(["base","meta","link","style","script","noscript"]),FR=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),jR=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),$R=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),HR=new Set(["templateParams","htmlAttrs","bodyAttrs"]),VR=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);const KR=["name","property","http-equiv"];function H_(t){const e=t.split(":");return e.length?VR.has(e[1]):!1}function Oh(t){const{props:e,tag:n}=t;if(jR.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of KR)if(e[r]!==void 0)return`${n}:${e[r]}`}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(UR.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function xm(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function ol(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>ol(i,e));if((s==null?void 0:s.constructor)===Object){const i={};for(const o of Object.keys(s))i[o]=ol(s[o],e,o);return i}return s}function qR(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(c=>c.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function V_(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=qR(n,r);return}if($R.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!(o!=null&&o.endsWith("json"))&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t}function zR(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=V_({tag:t,props:{}},n);return r.key&&BR.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function GR(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=ol(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(zR(s,o))}),r.flat()}const Nh=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Om={base:-10,title:10},WR={critical:-8,high:-1,low:2},Nm={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},QR=/@import/,yo=t=>t===""||t===!0;function JR(t,e){var i;if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=WR[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Nm;if(e.tag in Om)n=Om[e.tag];else if(e.tag==="meta"){const o=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;o&&(n=Nm.meta[o])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?yo(e.props.async)?n=s.script.async:e.props.src&&!yo(e.props.defer)&&!yo(e.props.async)&&e.props.type!=="module"&&!((i=e.props.type)!=null&&i.endsWith("json"))?n=s.script.sync:yo(e.props.defer)&&e.props.src&&!yo(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&QR.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function Mm(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function YR(t={}){var a;const e=O_();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=[],o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:c=>Mm(o,c),push(c,u){const l={...u||{}};delete l.head;const f=l._index??o._entryCount++,d={_i:f,input:c,options:l},p={_poll(g=!1){o.dirty=!0,!g&&i.push(f),e.callHook("entries:updated",o)},dispose(){r.delete(f)&&p._poll(!0)},patch(g){(!l.mode||l.mode==="server"&&n||l.mode==="client"&&!n)&&(d.input=g,r.set(f,d),p._poll())}};return p.patch(c),p},async resolveTags(){var p;const c={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",c);i.length;){const g=i.shift(),m=r.get(g);if(m){const b={tags:GR(m.input,t.propResolvers||[]).map(R=>Object.assign(R,m.options)),entry:m};await e.callHook("entries:normalize",b),m._tags=b.tags.map((R,A)=>(R._w=JR(o,R),R._p=(m._i<<10)+A,R._d=Oh(R),R))}}let u=!1;c.entries.flatMap(g=>(g._tags||[]).map(m=>({...m,props:{...m.props}}))).sort(Nh).reduce((g,m)=>{const b=String(m._d||m._p);if(!g.has(b))return g.set(b,m);const R=g.get(b);if(((m==null?void 0:m.tagDuplicateStrategy)||(HR.has(m.tag)?"merge":null)||(m.key&&m.key===R.key?"merge":null))==="merge"){const T={...R.props};Object.entries(m.props).forEach(([x,L])=>T[x]=x==="style"?new Map([...R.props.style||new Map,...L]):x==="class"?new Set([...R.props.class||new Set,...L]):L),g.set(b,{...m,props:T})}else m._p>>10===R._p>>10&&m.tag==="meta"&&H_(b)?(g.set(b,Object.assign([...Array.isArray(R)?R:[R],m],m)),u=!0):(m._w===R._w?m._p>R._p:(m==null?void 0:m._w)<(R==null?void 0:R._w))&&g.set(b,m);return g},c.tagMap);const l=c.tagMap.get("title"),f=c.tagMap.get("titleTemplate");if(o._title=l==null?void 0:l.textContent,f){const g=f==null?void 0:f.textContent;if(o._titleTemplate=g,g){let m=typeof g=="function"?g(l==null?void 0:l.textContent):g;typeof m=="string"&&!o.plugins.has("template-params")&&(m=m.replace("%s",(l==null?void 0:l.textContent)||"")),l?m===null?c.tagMap.delete("title"):c.tagMap.set("title",{...l,textContent:m}):(f.tag="title",f.textContent=m)}}c.tags=Array.from(c.tagMap.values()),u&&(c.tags=c.tags.flat().sort(Nh)),await e.callHook("tags:beforeResolve",c),await e.callHook("tags:resolve",c),await e.callHook("tags:afterResolve",c);const d=[];for(const g of c.tags){const{innerHTML:m,tag:b,props:R}=g;if(FR.has(b)&&!(Object.keys(R).length===0&&!g.innerHTML&&!g.textContent)&&!(b==="meta"&&!R.content&&!R["http-equiv"]&&!R.charset)){if(b==="script"&&m){if((p=R.type)!=null&&p.endsWith("json")){const A=typeof m=="string"?m:JSON.stringify(m);g.innerHTML=A.replace(/</g,"\\u003C")}else typeof m=="string"&&(g.innerHTML=m.replace(new RegExp(`</${b}`,"g"),`<\\/${b}`));g._d=Oh(g)}d.push(g)}}return d}};return((t==null?void 0:t.plugins)||[]).forEach(c=>Mm(o,c)),o.hooks.callHook("init",o),(a=t.init)==null||a.forEach(c=>c&&o.push(c)),o}const ns="%separator",XR=new RegExp(`${ns}(?:\\s*${ns})*`,"g");function ZR(t,e,n=!1){var s;let r;if(e==="s"||e==="pageTitle")r=t.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");r=(s=t[e.substring(0,i)])==null?void 0:s[e.substring(i+1)]}else r=t[e];if(r!==void 0)return n?(r||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):r||""}function fc(t,e,n,r=!1){if(typeof t!="string"||!t.includes("%"))return t;let s=t;try{s=decodeURI(t)}catch{}const i=s.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const o=t.includes(ns);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===ns||!i.includes(a))return a;const c=ZR(e,a.slice(1),r);return c!==void 0?c:a}).trim(),o&&(t.endsWith(ns)&&(t=t.slice(0,-ns.length)),t.startsWith(ns)&&(t=t.slice(ns.length)),t=t.replace(XR,n||"").trim()),t}const Lm=t=>t.includes(":key")?t:t.split(":").join(":key:"),eA={key:"aliasSorting",hooks:{"tags:resolve":t=>{let e=!1;for(const n of t.tags){const r=n.tagPriority;if(!r)continue;const s=String(r);if(s.startsWith("before:")){const i=Lm(s.slice(7)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p-1,e=!0)}else if(s.startsWith("after:")){const i=Lm(s.slice(6)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p+1,e=!0)}}e&&(t.tags=t.tags.sort(Nh))}}},tA={key:"deprecations",hooks:{"entries:normalize":({tags:t})=>{for(const e of t)e.props.children&&(e.innerHTML=e.props.children,delete e.props.children),e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.body&&(e.tagPosition="bodyClose",delete e.props.body)}}};async function Mh(t){if(typeof t==="function")return t;if(t instanceof Promise)return await t;if(Array.isArray(t))return await Promise.all(t.map(n=>Mh(n)));if((t==null?void 0:t.constructor)===Object){const n={};for(const r of Object.keys(t))n[r]=await Mh(t[r]);return n}return t}const nA={key:"promises",hooks:{"entries:resolve":async t=>{const e=[];for(const n in t.entries)t.entries[n]._promisesProcessed||e.push(Mh(t.entries[n].input).then(r=>{t.entries[n].input=r,t.entries[n]._promisesProcessed=!0}));await Promise.all(e)}}},rA={meta:"content",link:"href",htmlAttrs:"lang"},sA=["innerHTML","textContent"],iA=t=>({key:"template-params",hooks:{"entries:normalize":e=>{var r,s,i;const n=((s=(r=e.tags.filter(o=>o.tag==="templateParams"&&o.mode==="server"))==null?void 0:r[0])==null?void 0:s.props)||{};Object.keys(n).length&&(t._ssrPayload={templateParams:{...((i=t._ssrPayload)==null?void 0:i.templateParams)||{},...n}})},"tags:resolve":({tagMap:e,tags:n})=>{var i;const r=((i=e.get("templateParams"))==null?void 0:i.props)||{},s=r.separator||"|";delete r.separator,r.pageTitle=fc(r.pageTitle||t._title||"",r,s);for(const o of n){if(o.processTemplateParams===!1)continue;const a=rA[o.tag];if(a&&typeof o.props[a]=="string")o.props[a]=fc(o.props[a],r,s);else if(o.processTemplateParams||o.tag==="titleTemplate"||o.tag==="title")for(const c of sA)typeof o[c]=="string"&&(o[c]=fc(o[c],r,s,o.tag==="script"&&o.props.type.endsWith("json")))}t._templateParams=r,t._separator=s},"tags:afterResolve":({tagMap:e})=>{const n=e.get("title");n!=null&&n.textContent&&n.processTemplateParams!==!1&&(n.textContent=fc(n.textContent,t._templateParams,t._separator))}}}),oA=(t,e)=>Ct(e)?lI(e):e,K_="usehead";function aA(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(K_,t)}}.install}function cA(){if(Fl()){const t=Tt(K_);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function v5(t,e={}){const n=e.head||cA();return n.ssr?n.push(t||{},e):lA(n,t,e)}function lA(t,e,n={}){const r=bt(!1);let s;return r_(()=>{const o=r.value?{}:ol(e,oA);s?s.patch(o):s=t.push(o,n)}),tr()&&(Ra(()=>{s.dispose()}),Nw(()=>{r.value=!0}),Ow(()=>{r.value=!1})),s}const uA="modulepreload",fA=function(t,e){return new URL(t,e).href},Dm={},xi=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(l){return Promise.all(l.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(n.map(l=>{if(l=fA(l,r),l in Dm)return;Dm[l]=!0;const f=l.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!r)for(let m=a.length-1;m>=0;m--){const b=a[m];if(b.href===l&&(!f||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":uA,f||(g.as="script"),g.crossOrigin="",g.href=l,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((m,b)=>{g.addEventListener("load",m),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let Ac,Pc;function hA(){return Ac=$fetch(Yd(`builds/meta/${Kl().app.buildId}.json`),{responseType:"json"}),Ac.then(t=>{Pc=vR(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Ac}function Gl(){return Ac||hA()}async function Xd(t){const e=typeof t=="string"?t:t.path;if(await Gl(),!Pc)return console.error("[nuxt] Error creating app manifest matcher.",Pc),{};try{return B_({},...Pc.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function Bm(t,e={}){if(!await z_(t))return null;const r=await pA(t,e);return await q_(r)||null}const dA="_payload.json";async function pA(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||ri(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=Kl(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await z_(t)?i:r.app.baseURL;return Jd(o,n.pathname,dA+(s?`?${s}`:""))}async function q_(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(G_));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function z_(t=ql().path){const e=Ht();return t=ea(t),(await Gl()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await Xd({path:t});return!!r.prerender&&!r.redirect})}let Ps=null;async function gA(){var r;if(Ps)return Ps;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await G_(t.textContent||""),n=t.dataset.src?await q_(t.dataset.src):void 0;return Ps={...e,...n,...window.__NUXT__},(r=Ps.config)!=null&&r.public&&(Ps.config.public=br(Ps.config.public)),Ps}async function G_(t){return await LR(t,Ht()._payloadRevivers)}function mA(t,e){Ht()._payloadRevivers[t]=e}const yA=[["NuxtError",t=>Vs(t)],["EmptyShallowRef",t=>zs(t==="_"?void 0:t==="0n"?BigInt(0):tl(t))],["EmptyRef",t=>bt(t==="_"?void 0:t==="0n"?BigInt(0):tl(t))],["ShallowRef",t=>zs(t)],["ShallowReactive",t=>Qn(t)],["Ref",t=>bt(t)],["Reactive",t=>br(t)]],vA=wn({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of yA)mA(r,s);Object.assign(t.payload,([e,n]=Pi(()=>t.runWithContext(gA)),e=await e,n(),e)),window.__NUXT__=t.payload}});async function Zd(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{var p;const i=new Map,o=new Promise(g=>{t.resolveTags().then(m=>{g(m.map(b=>{const R=i.get(b._d)||0,A={tag:b,id:(R?`${b._d}:${R}`:b._d)||xm(b),shouldRender:!0};return b._d&&H_(b._d)&&i.set(b._d,R+1),A}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const g of["body","head"]){const m=(p=n[g])==null?void 0:p.children;for(const b of m){const R=b.tagName.toLowerCase();if(!Pm.has(R))continue;const A=V_({tag:R,props:{}},{innerHTML:b.innerHTML,...b.getAttributeNames().reduce((T,x)=>(T[x]=b.getAttribute(x),T),{})||{}});if(A.key=b.getAttribute("data-hid")||void 0,A._d=Oh(A)||xm(A),a.elMap.has(A._d)){let T=1,x=A._d;for(;a.elMap.has(x);)x=`${A._d}:${T++}`;a.elMap.set(x,b)}else a.elMap.set(A._d,b)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function c(g,m,b){const R=`${g}:${m}`;a.sideEffects[R]=b,delete a.pendingSideEffects[R]}function u({id:g,$el:m,tag:b}){const R=b.tag.endsWith("Attrs");a.elMap.set(g,m),R||(b.textContent&&b.textContent!==m.textContent&&(m.textContent=b.textContent),b.innerHTML&&b.innerHTML!==m.innerHTML&&(m.innerHTML=b.innerHTML),c(g,"el",()=>{m==null||m.remove(),a.elMap.delete(g)}));for(const A in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,A))continue;const T=b.props[A];if(A.startsWith("on")&&typeof T=="function"){const L=m==null?void 0:m.dataset;if(L&&L[`${A}fired`]){const S=A.slice(0,-5);T.call(m,new Event(S.substring(2)))}m.getAttribute(`data-${A}`)!==""&&((b.tag==="bodyAttrs"?n.defaultView:m).addEventListener(A.substring(2),T.bind(m)),m.setAttribute(`data-${A}`,""));continue}const x=`attr:${A}`;if(A==="class"){if(!T)continue;for(const L of T)R&&c(g,`${x}:${L}`,()=>m.classList.remove(L)),!m.classList.contains(L)&&m.classList.add(L)}else if(A==="style"){if(!T)continue;for(const[L,S]of T)c(g,`${x}:${L}`,()=>{m.style.removeProperty(L)}),m.style.setProperty(L,S)}else T!==!1&&T!==null&&(m.getAttribute(A)!==T&&m.setAttribute(A,T===!0?"":String(T)),R&&c(g,x,()=>m.removeAttribute(A)))}}const l=[],f={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await o;for(const g of d){const{tag:m,shouldRender:b,id:R}=g;if(b){if(m.tag==="title"){n.title=m.textContent,c("title","",()=>n.title=a.title);continue}g.$el=g.$el||a.elMap.get(R),g.$el?u(g):Pm.has(m.tag)&&l.push(g)}}for(const g of l){const m=g.tag.tagPosition||"head";g.$el=n.createElement(g.tag.tag),u(g),f[m]=f[m]||n.createDocumentFragment(),f[m].appendChild(g.$el)}for(const g of d)await t.hooks.callHook("dom:renderTag",g,n,c);f.head&&n.head.appendChild(f.head),f.bodyOpen&&n.body.insertBefore(f.bodyOpen,n.body.firstChild),f.bodyClose&&n.body.appendChild(f.bodyClose);for(const g in a.pendingSideEffects)a.pendingSideEffects[g]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:d}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function wA(t={}){var r,s,i;const e=((r=t.domOptions)==null?void 0:r.render)||Zd;t.document=t.document||(typeof window<"u"?document:void 0);const n=((i=(s=t.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return YR({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function _A(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function bA(t={}){const e=wA({domOptions:{render:_A(()=>Zd(e),n=>setTimeout(n,0))},...t});return e.install=aA(e),e}const CA={disableDefaults:!0,disableCapoSorting:!1,plugins:[tA,nA,iA,eA]},EA=wn({name:"nuxt:head",enforce:"pre",setup(t){const e=bA(CA);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await Zd(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const vi=typeof document<"u";function W_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function TA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&W_(t.default)}const lt=Object.assign;function sf(t,e){const n={};for(const r in e){const s=e[r];n[r]=nr(s)?s.map(t):t(s)}return n}const Do=()=>{},nr=Array.isArray,Q_=/#/g,SA=/&/g,IA=/\//g,kA=/=/g,RA=/\?/g,J_=/\+/g,AA=/%5B/g,PA=/%5D/g,Y_=/%5E/g,xA=/%60/g,X_=/%7B/g,OA=/%7C/g,Z_=/%7D/g,NA=/%20/g;function ep(t){return encodeURI(""+t).replace(OA,"|").replace(AA,"[").replace(PA,"]")}function MA(t){return ep(t).replace(X_,"{").replace(Z_,"}").replace(Y_,"^")}function Lh(t){return ep(t).replace(J_,"%2B").replace(NA,"+").replace(Q_,"%23").replace(SA,"%26").replace(xA,"`").replace(X_,"{").replace(Z_,"}").replace(Y_,"^")}function LA(t){return Lh(t).replace(kA,"%3D")}function DA(t){return ep(t).replace(Q_,"%23").replace(RA,"%3F")}function BA(t){return t==null?"":DA(t).replace(IA,"%2F")}function ta(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const UA=/\/$/,FA=t=>t.replace(UA,"");function of(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=VA(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:ta(o)}}function jA(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Um(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $A(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Hi(e.matched[r],n.matched[s])&&eb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Hi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function eb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!HA(t[n],e[n]))return!1;return!0}function HA(t,e){return nr(t)?Fm(t,e):nr(e)?Fm(e,t):t===e}function Fm(t,e){return nr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function VA(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Un={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var na;(function(t){t.pop="pop",t.push="push"})(na||(na={}));var Bo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Bo||(Bo={}));function KA(t){if(!t)if(vi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),FA(t)}const qA=/^[^#]+#/;function zA(t,e){return t.replace(qA,"#")+e}function GA(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Wl=()=>({left:window.scrollX,top:window.scrollY});function WA(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=GA(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jm(t,e){return(history.state?history.state.position-e:-1)+t}const Dh=new Map;function QA(t,e){Dh.set(t,e)}function JA(t){const e=Dh.get(t);return Dh.delete(t),e}let YA=()=>location.protocol+"//"+location.host;function tb(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),Um(c,"")}return Um(n,t)+r+s}function XA(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const p=tb(t,location),g=n.value,m=e.value;let b=0;if(d){if(n.value=p,e.value=d,o&&o===g){o=null;return}b=m?d.position-m.position:0}else r(p);s.forEach(R=>{R(n.value,g,{delta:b,type:na.pop,direction:b?b>0?Bo.forward:Bo.back:Bo.unknown})})};function c(){o=n.value}function u(d){s.push(d);const p=()=>{const g=s.indexOf(d);g>-1&&s.splice(g,1)};return i.push(p),p}function l(){const{history:d}=window;d.state&&d.replaceState(lt({},d.state,{scroll:Wl()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:u,destroy:f}}function $m(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Wl():null}}function ZA(t){const{history:e,location:n}=window,r={value:tb(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,u,l){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:YA()+t+c;try{e[l?"replaceState":"pushState"](u,"",d),s.value=u}catch(p){console.error(p),n[l?"replace":"assign"](d)}}function o(c,u){const l=lt({},e.state,$m(s.value.back,c,s.value.forward,!0),u,{position:s.value.position});i(c,l,!0),r.value=c}function a(c,u){const l=lt({},s.value,e.state,{forward:c,scroll:Wl()});i(l.current,l,!0);const f=lt({},$m(r.value,c,null),{position:l.position+1},u);i(c,f,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function eP(t){t=KA(t);const e=ZA(t),n=XA(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=lt({location:"",base:t,go:r,createHref:zA.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function tP(t){return typeof t=="string"||t&&typeof t=="object"}function nb(t){return typeof t=="string"||typeof t=="symbol"}const rb=Symbol("");var Hm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Hm||(Hm={}));function Vi(t,e){return lt(new Error,{type:t,[rb]:!0},e)}function Ir(t,e){return t instanceof Error&&rb in t&&(e==null||!!(t.type&e))}const Vm="[^/]+?",nP={sensitive:!1,strict:!1,start:!0,end:!0},rP=/[.+*?^${}()[\]/\\]/g;function sP(t,e){const n=lt({},nP,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const l=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const d=u[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(rP,"\\$&"),p+=40;else if(d.type===1){const{value:g,repeatable:m,optional:b,regexp:R}=d;i.push({name:g,repeatable:m,optional:b});const A=R||Vm;if(A!==Vm){p+=10;try{new RegExp(`(${A})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+x.message)}}let T=m?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(T=b&&u.length<2?`(?:/${T})`:"/"+T),b&&(T+="?"),s+=T,p+=20,b&&(p+=-8),m&&(p+=-20),A===".*"&&(p+=-50)}l.push(p)}r.push(l)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const l=u.match(o),f={};if(!l)return null;for(let d=1;d<l.length;d++){const p=l[d]||"",g=i[d-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function c(u){let l="",f=!1;for(const d of t){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const p of d)if(p.type===0)l+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:b}=p,R=g in u?u[g]:"";if(nr(R)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=nr(R)?R.join("/"):R;if(!A)if(b)d.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);l+=A}}return l||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function iP(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function sb(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=iP(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Km(r))return 1;if(Km(s))return-1}return s.length-r.length}function Km(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const oP={type:0,value:""},aP=/[a-zA-Z0-9_]/;function cP(t){if(!t)return[[]];if(t==="/")return[[oP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,u="",l="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&f(),o()):c===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:aP.test(c)?d():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function lP(t,e,n){const r=sP(cP(t.path),n),s=lt(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function uP(t,e){const n=[],r=new Map;e=Wm({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,d,p){const g=!p,m=zm(f);m.aliasOf=p&&p.record;const b=Wm(e,f),R=[m];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of x)R.push(zm(lt({},m,{components:p?p.record.components:m.components,path:L,aliasOf:p?p.record:m})))}let A,T;for(const x of R){const{path:L}=x;if(d&&L[0]!=="/"){const S=d.record.path,E=S[S.length-1]==="/"?"":"/";x.path=d.record.path+(L&&E+L)}if(A=lP(x,d,b),p?p.alias.push(A):(T=T||A,T!==A&&T.alias.push(A),g&&f.name&&!Gm(A)&&o(f.name)),ib(A)&&c(A),m.children){const S=m.children;for(let E=0;E<S.length;E++)i(S[E],A,p&&p.children[E])}p=p||A}return T?()=>{o(T)}:Do}function o(f){if(nb(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function c(f){const d=dP(f,n);n.splice(d,0,f),f.record.name&&!Gm(f)&&r.set(f.record.name,f)}function u(f,d){let p,g={},m,b;if("name"in f&&f.name){if(p=r.get(f.name),!p)throw Vi(1,{location:f});b=p.record.name,g=lt(qm(d.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&qm(f.params,p.keys.map(T=>T.name))),m=p.stringify(g)}else if(f.path!=null)m=f.path,p=n.find(T=>T.re.test(m)),p&&(g=p.parse(m),b=p.record.name);else{if(p=d.name?r.get(d.name):n.find(T=>T.re.test(d.path)),!p)throw Vi(1,{location:f,currentLocation:d});b=p.record.name,g=lt({},d.params,f.params),m=p.stringify(g)}const R=[];let A=p;for(;A;)R.unshift(A.record),A=A.parent;return{name:b,path:m,params:g,matched:R,meta:hP(R)}}t.forEach(f=>i(f));function l(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:l,getRoutes:a,getRecordMatcher:s}}function qm(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function zm(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:fP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function fP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Gm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function hP(t){return t.reduce((e,n)=>lt(e,n.meta),{})}function Wm(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function dP(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;sb(t,e[i])<0?r=i:n=i+1}const s=pP(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function pP(t){let e=t;for(;e=e.parent;)if(ib(e)&&sb(t,e)===0)return e}function ib({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function gP(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(J_," "),o=i.indexOf("="),a=ta(o<0?i:i.slice(0,o)),c=o<0?null:ta(i.slice(o+1));if(a in e){let u=e[a];nr(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function Qm(t){let e="";for(let n in t){const r=t[n];if(n=LA(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(nr(r)?r.map(i=>i&&Lh(i)):[r&&Lh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function mP(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=nr(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const yP=Symbol(""),Jm=Symbol(""),Ql=Symbol(""),tp=Symbol(""),Bh=Symbol("");function vo(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function rs(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const u=d=>{d===!1?c(Vi(4,{from:n,to:e})):d instanceof Error?c(d):tP(d)?c(Vi(2,{from:e,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},l=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(l);t.length<3&&(f=f.then(u)),f.catch(d=>c(d))})}function af(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(W_(c)){const l=(c.__vccOpts||c)[e];l&&i.push(rs(l,n,r,o,a,s))}else{let u=c();i.push(()=>u.then(l=>{if(!l)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=TA(l)?l.default:l;o.mods[a]=l,o.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&rs(p,n,r,o,a,s)()}))}}return i}function Ym(t){const e=Tt(Ql),n=Tt(tp),r=ze(()=>{const c=Se(t.to);return e.resolve(c)}),s=ze(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],f=n.matched;if(!l||!f.length)return-1;const d=f.findIndex(Hi.bind(null,l));if(d>-1)return d;const p=Xm(c[u-2]);return u>1&&Xm(l)===p&&f[f.length-1].path!==p?f.findIndex(Hi.bind(null,c[u-2])):d}),i=ze(()=>s.value>-1&&CP(n.params,r.value.params)),o=ze(()=>s.value>-1&&s.value===n.matched.length-1&&eb(n.params,r.value.params));function a(c={}){if(bP(c)){const u=e[Se(t.replace)?"replace":"push"](Se(t.to)).catch(Do);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ze(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function vP(t){return t.length===1?t[0]:t}const wP=It({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ym,setup(t,{slots:e}){const n=br(Ym(t)),{options:r}=Tt(Ql),s=ze(()=>({[Zm(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Zm(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&vP(e.default(n));return t.custom?i:At("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),_P=wP;function bP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CP(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!nr(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Xm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Zm=(t,e,n)=>t??e??n,EP=It({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Tt(Bh),s=ze(()=>t.route||r.value),i=Tt(Jm,0),o=ze(()=>{let u=Se(i);const{matched:l}=s.value;let f;for(;(f=l[u])&&!f.components;)u++;return u}),a=ze(()=>s.value.matched[o.value]);Mr(Jm,ze(()=>o.value+1)),Mr(yP,a),Mr(Bh,s);const c=bt();return pr(()=>[c.value,a.value,t.name],([u,l,f],[d,p,g])=>{l&&(l.instances[f]=u,p&&p!==l&&u&&u===d&&(l.leaveGuards.size||(l.leaveGuards=p.leaveGuards),l.updateGuards.size||(l.updateGuards=p.updateGuards))),u&&l&&(!p||!Hi(l,p)||!d)&&(l.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=s.value,l=t.name,f=a.value,d=f&&f.components[l];if(!d)return ey(n.default,{Component:d,route:u});const p=f.props[l],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,b=At(d,lt({},g,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(f.instances[l]=null)},ref:c}));return ey(n.default,{Component:b,route:u})||b}}});function ey(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ob=EP;function TP(t){const e=uP(t.routes,t),n=t.parseQuery||gP,r=t.stringifyQuery||Qm,s=t.history,i=vo(),o=vo(),a=vo(),c=zs(Un);let u=Un;vi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=sf.bind(null,H=>""+H),f=sf.bind(null,BA),d=sf.bind(null,ta);function p(H,Y){let X,ne;return nb(H)?(X=e.getRecordMatcher(H),ne=Y):ne=H,e.addRoute(ne,X)}function g(H){const Y=e.getRecordMatcher(H);Y&&e.removeRoute(Y)}function m(){return e.getRoutes().map(H=>H.record)}function b(H){return!!e.getRecordMatcher(H)}function R(H,Y){if(Y=lt({},Y||c.value),typeof H=="string"){const B=of(n,H,Y.path),z=e.resolve({path:B.path},Y),Z=s.createHref(B.fullPath);return lt(B,z,{params:d(z.params),hash:ta(B.hash),redirectedFrom:void 0,href:Z})}let X;if(H.path!=null)X=lt({},H,{path:of(n,H.path,Y.path).path});else{const B=lt({},H.params);for(const z in B)B[z]==null&&delete B[z];X=lt({},H,{params:f(B)}),Y.params=f(Y.params)}const ne=e.resolve(X,Y),ce=H.hash||"";ne.params=l(d(ne.params));const pe=jA(r,lt({},H,{hash:MA(ce),path:ne.path})),N=s.createHref(pe);return lt({fullPath:pe,hash:ce,query:r===Qm?mP(H.query):H.query||{}},ne,{redirectedFrom:void 0,href:N})}function A(H){return typeof H=="string"?of(n,H,c.value.path):lt({},H)}function T(H,Y){if(u!==H)return Vi(8,{from:Y,to:H})}function x(H){return E(H)}function L(H){return x(lt(A(H),{replace:!0}))}function S(H){const Y=H.matched[H.matched.length-1];if(Y&&Y.redirect){const{redirect:X}=Y;let ne=typeof X=="function"?X(H):X;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=A(ne):{path:ne},ne.params={}),lt({query:H.query,hash:H.hash,params:ne.path!=null?{}:H.params},ne)}}function E(H,Y){const X=u=R(H),ne=c.value,ce=H.state,pe=H.force,N=H.replace===!0,B=S(X);if(B)return E(lt(A(B),{state:typeof B=="object"?lt({},ce,B.state):ce,force:pe,replace:N}),Y||X);const z=X;z.redirectedFrom=Y;let Z;return!pe&&$A(r,ne,X)&&(Z=Vi(16,{to:z,from:ne}),we(ne,ne,!0,!1)),(Z?Promise.resolve(Z):y(z,ne)).catch(J=>Ir(J)?Ir(J,2)?J:he(J):K(J,z,ne)).then(J=>{if(J){if(Ir(J,2))return E(lt({replace:N},A(J.to),{state:typeof J.to=="object"?lt({},ce,J.to.state):ce,force:pe}),Y||z)}else J=_(z,ne,!0,N,ce);return w(z,ne,J),J})}function k(H,Y){const X=T(H,Y);return X?Promise.reject(X):Promise.resolve()}function v(H){const Y=ke.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(H):H()}function y(H,Y){let X;const[ne,ce,pe]=SP(H,Y);X=af(ne.reverse(),"beforeRouteLeave",H,Y);for(const B of ne)B.leaveGuards.forEach(z=>{X.push(rs(z,H,Y))});const N=k.bind(null,H,Y);return X.push(N),ye(X).then(()=>{X=[];for(const B of i.list())X.push(rs(B,H,Y));return X.push(N),ye(X)}).then(()=>{X=af(ce,"beforeRouteUpdate",H,Y);for(const B of ce)B.updateGuards.forEach(z=>{X.push(rs(z,H,Y))});return X.push(N),ye(X)}).then(()=>{X=[];for(const B of pe)if(B.beforeEnter)if(nr(B.beforeEnter))for(const z of B.beforeEnter)X.push(rs(z,H,Y));else X.push(rs(B.beforeEnter,H,Y));return X.push(N),ye(X)}).then(()=>(H.matched.forEach(B=>B.enterCallbacks={}),X=af(pe,"beforeRouteEnter",H,Y,v),X.push(N),ye(X))).then(()=>{X=[];for(const B of o.list())X.push(rs(B,H,Y));return X.push(N),ye(X)}).catch(B=>Ir(B,8)?B:Promise.reject(B))}function w(H,Y,X){a.list().forEach(ne=>v(()=>ne(H,Y,X)))}function _(H,Y,X,ne,ce){const pe=T(H,Y);if(pe)return pe;const N=Y===Un,B=vi?history.state:{};X&&(ne||N?s.replace(H.fullPath,lt({scroll:N&&B&&B.scroll},ce)):s.push(H.fullPath,ce)),c.value=H,we(H,Y,X,N),he()}let I;function M(){I||(I=s.listen((H,Y,X)=>{if(!Ee.listening)return;const ne=R(H),ce=S(ne);if(ce){E(lt(ce,{replace:!0,force:!0}),ne).catch(Do);return}u=ne;const pe=c.value;vi&&QA(jm(pe.fullPath,X.delta),Wl()),y(ne,pe).catch(N=>Ir(N,12)?N:Ir(N,2)?(E(lt(A(N.to),{force:!0}),ne).then(B=>{Ir(B,20)&&!X.delta&&X.type===na.pop&&s.go(-1,!1)}).catch(Do),Promise.reject()):(X.delta&&s.go(-X.delta,!1),K(N,ne,pe))).then(N=>{N=N||_(ne,pe,!1),N&&(X.delta&&!Ir(N,8)?s.go(-X.delta,!1):X.type===na.pop&&Ir(N,20)&&s.go(-1,!1)),w(ne,pe,N)}).catch(Do)}))}let V=vo(),D=vo(),q;function K(H,Y,X){he(H);const ne=D.list();return ne.length?ne.forEach(ce=>ce(H,Y,X)):console.error(H),Promise.reject(H)}function oe(){return q&&c.value!==Un?Promise.resolve():new Promise((H,Y)=>{V.add([H,Y])})}function he(H){return q||(q=!H,M(),V.list().forEach(([Y,X])=>H?X(H):Y()),V.reset()),H}function we(H,Y,X,ne){const{scrollBehavior:ce}=t;if(!vi||!ce)return Promise.resolve();const pe=!X&&JA(jm(H.fullPath,0))||(ne||!X)&&history.state&&history.state.scroll||null;return er().then(()=>ce(H,Y,pe)).then(N=>N&&WA(N)).catch(N=>K(N,H,Y))}const _e=H=>s.go(H);let Be;const ke=new Set,Ee={currentRoute:c,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:m,resolve:R,options:t,push:x,replace:L,go:_e,back:()=>_e(-1),forward:()=>_e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:oe,install(H){const Y=this;H.component("RouterLink",_P),H.component("RouterView",ob),H.config.globalProperties.$router=Y,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>Se(c)}),vi&&!Be&&c.value===Un&&(Be=!0,x(s.location).catch(ce=>{}));const X={};for(const ce in Un)Object.defineProperty(X,ce,{get:()=>c.value[ce],enumerable:!0});H.provide(Ql,Y),H.provide(tp,Qn(X)),H.provide(Bh,c);const ne=H.unmount;ke.add(H),H.unmount=function(){ke.delete(H),ke.size<1&&(u=Un,I&&I(),I=null,c.value=Un,Be=!1,q=!1),ne()}}};function ye(H){return H.reduce((Y,X)=>Y.then(()=>v(X)),Promise.resolve())}return Ee}function SP(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Hi(u,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>Hi(u,c))||s.push(c))}return[n,r,s]}function w5(){return Tt(Ql)}function ab(t){return Tt(tp)}const IP=/(:\w+)\([^)]+\)/g,kP=/(:\w+)[?+*]/g,RP=/:\w+/g,AP=(t,e)=>e.path.replace(IP,"$1").replace(kP,"$1").replace(RP,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),Uh=(t,e)=>{const n=t.route.matched.find(s=>{var i;return((i=s.components)==null?void 0:i.default)===t.Component.type}),r=e??(n==null?void 0:n.meta.key)??(n&&AP(t.route,n));return typeof r=="function"?r(t.route):r},PP=(t,e)=>({default:()=>t?At(PI,t===!0?{}:t,e):e});function np(t){return Array.isArray(t)?t:[t]}const cf=[{name:"index",path:"/",component:()=>xi(()=>import("./BUIePj9P.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)},{name:"privacy-policy",path:"/privacy-policy",component:()=>xi(()=>import("./BLdam4EC.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)},{name:"terms-conditions",path:"/terms-conditions",component:()=>xi(()=>import("./XHAhVUAq.js"),__vite__mapDeps([6,1,2,7]),import.meta.url)}],cb=(t,e)=>({default:()=>{var n;return t?At(Vl,t===!0?{}:t,e):(n=e.default)==null?void 0:n.call(e)}}),xP=/(:\w+)\([^)]+\)/g,OP=/(:\w+)[?+*]/g,NP=/:\w+/g;function ty(t){const e=(t==null?void 0:t.meta.key)??t.path.replace(xP,"$1").replace(OP,"$1").replace(NP,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""});return typeof e=="function"?e(t):e}function MP(t,e){return t===e||e===Un?!1:ty(t)!==ty(e)?!0:!t.matched.every((r,s)=>{var i,o;return r.components&&r.components.default===((o=(i=e.matched[s])==null?void 0:i.components)==null?void 0:o.default)})}const LP={scrollBehavior(t,e,n){var c;const r=Ht(),s=((c=On().options)==null?void 0:c.scrollBehaviorType)??"auto";if(t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:lb(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;let o=n||void 0;!o&&MP(t,e)&&(o={left:0,top:0});const a=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(u=>{if(e===Un){u(ny(t,"instant",o));return}r.hooks.hookOnce(a,()=>{requestAnimationFrame(()=>u(ny(t,"instant",o)))})})}};function lb(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function ny(t,e,n){return n||(t.hash?{el:t.hash,top:lb(t.hash),behavior:e}:{left:0,top:0,behavior:e})}const DP={hashMode:!1,scrollBehaviorType:"auto"},cr={...DP,...LP},BP=async(t,e)=>{var o;let n,r;if(!((o=t.meta)!=null&&o.validate))return;const s=([n,r]=Pi(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=Vs({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},UP=async t=>{let e,n;const r=([e,n]=Pi(()=>Xd({path:t.path})),e=await e,n(),e);if(r.redirect)return ri(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},FP=[BP,UP],Uo={};function jP(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const u=i.includes(t.slice(o))?t.slice(o).length:1;let l=i.slice(u);return l[0]!=="/"&&(l="/"+l),_m(l,"")}const a=_m(r,t),c=!n||P1(a,n)?a:n;return c+(c.includes("?")?"":s)+i}const $P=wn({name:"nuxt:router",enforce:"pre",async setup(t){var b;let e,n,r=Kl().app.baseURL;const s=((b=cr.history)==null?void 0:b.call(cr,r))??eP(r),i=cr.routes?([e,n]=Pi(()=>cr.routes(cf)),e=await e,n(),e??cf):cf;let o;const a=TP({...cr,scrollBehavior:(R,A,T)=>{if(A===Un){o=T;return}if(cr.scrollBehavior){if(a.options.scrollBehavior=cr.scrollBehavior,"scrollRestoration"in window.history){const x=a.beforeEach(()=>{x(),window.history.scrollRestoration="manual"})}return cr.scrollBehavior(R,Un,o||T)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const c=zs(a.currentRoute.value);a.afterEach((R,A)=>{c.value=A}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const u=jP(r,window.location,t.payload.path),l=zs(a.currentRoute.value),f=()=>{l.value=a.currentRoute.value};t.hook("page:finish",f),a.afterEach((R,A)=>{var T,x,L,S;((x=(T=R.matched[0])==null?void 0:T.components)==null?void 0:x.default)===((S=(L=A.matched[0])==null?void 0:L.components)==null?void 0:S.default)&&f()});const d={};for(const R in l.value)Object.defineProperty(d,R,{get:()=>l.value[R],enumerable:!0});t._route=Qn(d),t._middleware||(t._middleware={global:[],named:{}});const p=zl();a.afterEach(async(R,A,T)=>{delete t._processingMiddleware,!t.isHydrating&&p.value&&await t.runWithContext(IR),T&&await t.callHook("page:loading:end")});try{[e,n]=Pi(()=>a.isReady()),await e,n()}catch(R){[e,n]=Pi(()=>t.runWithContext(()=>Ns(R))),await e,n()}const g=u!==a.currentRoute.value.fullPath?a.resolve(u):a.currentRoute.value;f();const m=t.payload.state._layout;return a.beforeEach(async(R,A)=>{var T;await t.callHook("page:loading:start"),R.meta=br(R.meta),t.isHydrating&&m&&!Ur(R.meta.layout)&&(R.meta.layout=m),t._processingMiddleware=!0;{const x=new Set([...FP,...t._middleware.global]);for(const L of R.matched){const S=L.meta.middleware;if(S)for(const E of np(S))x.add(E)}{const L=await t.runWithContext(()=>Xd({path:R.path}));if(L.appMiddleware)for(const S in L.appMiddleware)L.appMiddleware[S]?x.add(S):x.delete(S)}for(const L of x){const S=typeof L=="string"?t._middleware.named[L]||await((T=Uo[L])==null?void 0:T.call(Uo).then(E=>E.default||E)):L;if(!S)throw new Error(`Unknown route middleware: '${L}'.`);try{const E=await t.runWithContext(()=>S(R,A));if(!t.payload.serverRendered&&t.isHydrating&&(E===!1||E instanceof Error)){const k=E||Vs({statusCode:404,statusMessage:`Page Not Found: ${u}`});return await t.runWithContext(()=>Ns(k)),!1}if(E===!0)continue;if(E===!1)return E;if(E)return $_(E)&&E.fatal&&await t.runWithContext(()=>Ns(E)),E}catch(E){const k=Vs(E);return k.fatal&&await t.runWithContext(()=>Ns(k)),k}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(async(R,A)=>{R.matched.length===0&&await t.runWithContext(()=>Ns(Vs({statusCode:404,fatal:!1,statusMessage:`Page not found: ${R.fullPath}`,data:{path:R.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in g&&(g.name=void 0),await a.replace({...g,force:!0}),a.options.scrollBehavior=cr.scrollBehavior}catch(R){await t.runWithContext(()=>Ns(R))}}),{provide:{router:a}}}}),ry=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),_5=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),rp=t=>{const e=Ht();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{ry(()=>t())}):ry(()=>t())},HP=wn({name:"nuxt:payload",setup(t){const e=new Set;On().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await Bm(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),rp(()=>{var n;t.hooks.hook("link:prefetch",async r=>{const{hostname:s}=new URL(r,window.location.href);s===window.location.hostname&&await Bm(r).catch(()=>{console.warn("[nuxt] Error preloading payload for",r)})}),((n=navigator.connection)==null?void 0:n.effectiveType)!=="slow-2g"&&setTimeout(Gl,1e3)})}}),VP=wn(()=>{const t=On();rp(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),KP=wn(t=>{let e;async function n(){const r=await Gl();e&&clearTimeout(e),e=setTimeout(n,Im);try{const s=await $fetch(Yd("builds/latest.json")+`?${Date.now()}`);s.id!==r.id&&t.hooks.callHook("app:manifest:update",s)}catch{}}rp(()=>{e=setTimeout(n,Im)})});function qP(t={}){const e=t.path||window.location.pathname;let n={};try{n=tl(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Ht().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const zP=wn({name:"nuxt:chunk-reload",setup(t){const e=On(),n=Kl(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const a="href"in i&&i.href[0]==="#"?n.app.baseURL+i.href:Jd(n.app.baseURL,i.fullPath);qP({path:a,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}}),GP=wn({name:"nuxt:global-components"}),cs={};function WP(t){if(t!=null&&t.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function QP(t,e=On()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(n)))return;const s=e._preloadPromises||(e._preloadPromises=[]);if(s.length>4)return Promise.all(s).then(()=>QP(t,e));e._routePreloaded.add(n);const i=r.map(o=>{var a;return(a=o.components)==null?void 0:a.default}).filter(o=>typeof o=="function");for(const o of i){const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const JP=wn({name:"nuxt:prefetch",setup(t){const e=On();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var s;const r=(s=n==null?void 0:n.meta)==null?void 0:s.layout;r&&typeof cs[r]=="function"&&await cs[r]()})}),t.hooks.hook("link:prefetch",n=>{if(ri(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=np(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Uo[o]=="function"&&Uo[o]();typeof s=="string"&&s in cs&&WP(cs[s])})}}),ub=Symbol(),xc="el",YP="is-",xs=(t,e,n,r,s)=>{let i=`${t}-${e}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),s&&(i+=`--${s}`),i},fb=Symbol("namespaceContextKey"),XP=t=>{const e=t||(tr()?Tt(fb,bt(xc)):bt(xc));return ze(()=>Se(e)||xc)},sp=(t,e)=>{const n=XP(e);return{namespace:n,b:(m="")=>xs(n.value,t,m,"",""),e:m=>m?xs(n.value,t,"",m,""):"",m:m=>m?xs(n.value,t,"","",m):"",be:(m,b)=>m&&b?xs(n.value,t,m,b,""):"",em:(m,b)=>m&&b?xs(n.value,t,"",m,b):"",bm:(m,b)=>m&&b?xs(n.value,t,m,"",b):"",bem:(m,b,R)=>m&&b&&R?xs(n.value,t,m,b,R):"",is:(m,...b)=>{const R=b.length>=1?b[0]:!0;return m&&R?`${YP}${m}`:""},cssVar:m=>{const b={};for(const R in m)m[R]&&(b[`--${n.value}-${R}`]=m[R]);return b},cssVarName:m=>`--${n.value}-${m}`,cssVarBlock:m=>{const b={};for(const R in m)m[R]&&(b[`--${n.value}-${t}-${R}`]=m[R]);return b},cssVarBlockName:m=>`--${n.value}-${t}-${m}`}};var ZP=typeof global=="object"&&global&&global.Object===Object&&global,ex=typeof self=="object"&&self&&self.Object===Object&&self,ip=ZP||ex||Function("return this")(),Ki=ip.Symbol,hb=Object.prototype,tx=hb.hasOwnProperty,nx=hb.toString,wo=Ki?Ki.toStringTag:void 0;function rx(t){var e=tx.call(t,wo),n=t[wo];try{t[wo]=void 0;var r=!0}catch{}var s=nx.call(t);return r&&(e?t[wo]=n:delete t[wo]),s}var sx=Object.prototype,ix=sx.toString;function ox(t){return ix.call(t)}var ax="[object Null]",cx="[object Undefined]",sy=Ki?Ki.toStringTag:void 0;function db(t){return t==null?t===void 0?cx:ax:sy&&sy in Object(t)?rx(t):ox(t)}function lx(t){return t!=null&&typeof t=="object"}var ux="[object Symbol]";function op(t){return typeof t=="symbol"||lx(t)&&db(t)==ux}function fx(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var ap=Array.isArray,iy=Ki?Ki.prototype:void 0,oy=iy?iy.toString:void 0;function pb(t){if(typeof t=="string")return t;if(ap(t))return fx(t,pb)+"";if(op(t))return oy?oy.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function gb(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hx="[object AsyncFunction]",dx="[object Function]",px="[object GeneratorFunction]",gx="[object Proxy]";function mx(t){if(!gb(t))return!1;var e=db(t);return e==dx||e==px||e==hx||e==gx}var lf=ip["__core-js_shared__"],ay=function(){var t=/[^.]+$/.exec(lf&&lf.keys&&lf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yx(t){return!!ay&&ay in t}var vx=Function.prototype,wx=vx.toString;function _x(t){if(t!=null){try{return wx.call(t)}catch{}try{return t+""}catch{}}return""}var bx=/[\\^$.*+?()[\]{}|]/g,Cx=/^\[object .+?Constructor\]$/,Ex=Function.prototype,Tx=Object.prototype,Sx=Ex.toString,Ix=Tx.hasOwnProperty,kx=RegExp("^"+Sx.call(Ix).replace(bx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rx(t){if(!gb(t)||yx(t))return!1;var e=mx(t)?kx:Cx;return e.test(_x(t))}function Ax(t,e){return t==null?void 0:t[e]}function mb(t,e){var n=Ax(t,e);return Rx(n)?n:void 0}function Px(t,e){return t===e||t!==t&&e!==e}var xx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ox=/^\w*$/;function Nx(t,e){if(ap(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||op(t)?!0:Ox.test(t)||!xx.test(t)||e!=null&&t in Object(e)}var ra=mb(Object,"create");function Mx(){this.__data__=ra?ra(null):{},this.size=0}function Lx(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Dx="__lodash_hash_undefined__",Bx=Object.prototype,Ux=Bx.hasOwnProperty;function Fx(t){var e=this.__data__;if(ra){var n=e[t];return n===Dx?void 0:n}return Ux.call(e,t)?e[t]:void 0}var jx=Object.prototype,$x=jx.hasOwnProperty;function Hx(t){var e=this.__data__;return ra?e[t]!==void 0:$x.call(e,t)}var Vx="__lodash_hash_undefined__";function Kx(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ra&&e===void 0?Vx:e,this}function Ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ws.prototype.clear=Mx;Ws.prototype.delete=Lx;Ws.prototype.get=Fx;Ws.prototype.has=Hx;Ws.prototype.set=Kx;function qx(){this.__data__=[],this.size=0}function Jl(t,e){for(var n=t.length;n--;)if(Px(t[n][0],e))return n;return-1}var zx=Array.prototype,Gx=zx.splice;function Wx(t){var e=this.__data__,n=Jl(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Gx.call(e,n,1),--this.size,!0}function Qx(t){var e=this.__data__,n=Jl(e,t);return n<0?void 0:e[n][1]}function Jx(t){return Jl(this.__data__,t)>-1}function Yx(t,e){var n=this.__data__,r=Jl(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function so(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}so.prototype.clear=qx;so.prototype.delete=Wx;so.prototype.get=Qx;so.prototype.has=Jx;so.prototype.set=Yx;var Xx=mb(ip,"Map");function Zx(){this.size=0,this.__data__={hash:new Ws,map:new(Xx||so),string:new Ws}}function eO(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Yl(t,e){var n=t.__data__;return eO(e)?n[typeof e=="string"?"string":"hash"]:n.map}function tO(t){var e=Yl(this,t).delete(t);return this.size-=e?1:0,e}function nO(t){return Yl(this,t).get(t)}function rO(t){return Yl(this,t).has(t)}function sO(t,e){var n=Yl(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function si(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}si.prototype.clear=Zx;si.prototype.delete=tO;si.prototype.get=nO;si.prototype.has=rO;si.prototype.set=sO;var iO="Expected a function";function cp(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(iO);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(cp.Cache||si),n}cp.Cache=si;var oO=500;function aO(t){var e=cp(t,function(r){return n.size===oO&&n.clear(),r}),n=e.cache;return e}var cO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lO=/\\(\\)?/g,uO=aO(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(cO,function(n,r,s,i){e.push(s?i.replace(lO,"$1"):r||n)}),e});function fO(t){return t==null?"":pb(t)}function hO(t,e){return ap(t)?t:Nx(t,e)?[t]:uO(fO(t))}function dO(t){if(typeof t=="string"||op(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function pO(t,e){e=hO(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[dO(e[n++])];return n&&n==r?t:void 0}function gO(t,e,n){var r=t==null?void 0:pO(t,e);return r===void 0?n:r}function mO(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var s=t[e];r[s[0]]=s[1]}return r}function yO(t){return t==null}const vO=t=>t===void 0,uf=t=>typeof t=="boolean",Qs=t=>typeof t=="number",wO=t=>typeof Element>"u"?!1:t instanceof Element,b5=t=>yO(t),_O=t=>at(t)?!Number.isNaN(Number(t)):!1;var bO=Object.defineProperty,CO=Object.defineProperties,EO=Object.getOwnPropertyDescriptors,cy=Object.getOwnPropertySymbols,TO=Object.prototype.hasOwnProperty,SO=Object.prototype.propertyIsEnumerable,ly=(t,e,n)=>e in t?bO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IO=(t,e)=>{for(var n in e||(e={}))TO.call(e,n)&&ly(t,n,e[n]);if(cy)for(var n of cy(e))SO.call(e,n)&&ly(t,n,e[n]);return t},kO=(t,e)=>CO(t,EO(e));function C5(t,e){var n;const r=zs();return r_(()=>{r.value=t()},kO(IO({},e),{flush:(n=void 0)!=null?n:"sync"})),Bl(r)}var uy;const bs=typeof window<"u",RO=t=>typeof t=="string",yb=()=>{},AO=bs&&((uy=window==null?void 0:window.navigator)==null?void 0:uy.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function lp(t){return typeof t=="function"?t():Se(t)}function PO(t){return t}function up(t){return Ll()?(ew(t),!0):!1}function xO(t,e=!0){tr()?ka(t):e?t():er(t)}function OO(t,e,n={}){const{immediate:r=!0}=n,s=bt(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){s.value=!1,o()}function c(...u){o(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,t(...u)},lp(e))}return r&&(s.value=!0,bs&&c()),up(a),{isPending:Bl(s),start:c,stop:a}}function Ci(t){var e;const n=lp(t);return(e=n==null?void 0:n.$el)!=null?e:n}const fp=bs?window:void 0;function Oc(...t){let e,n,r,s;if(RO(t[0])||Array.isArray(t[0])?([n,r,s]=t,e=fp):[e,n,r,s]=t,!e)return yb;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(l=>l()),i.length=0},a=(l,f,d,p)=>(l.addEventListener(f,d,p),()=>l.removeEventListener(f,d,p)),c=pr(()=>[Ci(e),lp(s)],([l,f])=>{o(),l&&i.push(...n.flatMap(d=>r.map(p=>a(l,d,p,f))))},{immediate:!0,flush:"post"}),u=()=>{c(),o()};return up(u),u}let fy=!1;function E5(t,e,n={}){const{window:r=fp,ignore:s=[],capture:i=!0,detectIframe:o=!1}=n;if(!r)return;AO&&!fy&&(fy=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",yb)));let a=!0;const c=d=>s.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(g=>g===d.target||d.composedPath().includes(g));{const g=Ci(p);return g&&(d.target===g||d.composedPath().includes(g))}}),l=[Oc(r,"click",d=>{const p=Ci(t);if(!(!p||p===d.target||d.composedPath().includes(p))){if(d.detail===0&&(a=!c(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:i}),Oc(r,"pointerdown",d=>{const p=Ci(t);p&&(a=!d.composedPath().includes(p)&&!c(d))},{passive:!0}),o&&Oc(r,"blur",d=>{var p;const g=Ci(t);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&e(d)})].filter(Boolean);return()=>l.forEach(d=>d())}function NO(t,e=!1){const n=bt(),r=()=>n.value=!!t();return r(),xO(r,e),n}const hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dy="__vueuse_ssr_handlers__";hy[dy]=hy[dy]||{};var py=Object.getOwnPropertySymbols,MO=Object.prototype.hasOwnProperty,LO=Object.prototype.propertyIsEnumerable,DO=(t,e)=>{var n={};for(var r in t)MO.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&py)for(var r of py(t))e.indexOf(r)<0&&LO.call(t,r)&&(n[r]=t[r]);return n};function BO(t,e,n={}){const r=n,{window:s=fp}=r,i=DO(r,["window"]);let o;const a=NO(()=>s&&"ResizeObserver"in s),c=()=>{o&&(o.disconnect(),o=void 0)},u=pr(()=>Ci(t),f=>{c(),a.value&&s&&f&&(o=new ResizeObserver(e),o.observe(f,i))},{immediate:!0,flush:"post"}),l=()=>{c(),u()};return up(l),{isSupported:a,stop:l}}var gy;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(gy||(gy={}));var UO=Object.defineProperty,my=Object.getOwnPropertySymbols,FO=Object.prototype.hasOwnProperty,jO=Object.prototype.propertyIsEnumerable,yy=(t,e,n)=>e in t?UO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$O=(t,e)=>{for(var n in e||(e={}))FO.call(e,n)&&yy(t,n,e[n]);if(my)for(var n of my(e))jO.call(e,n)&&yy(t,n,e[n]);return t};const HO={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};$O({linear:PO},HO);const vy={current:0},wy=bt(0),vb=2e3,_y=Symbol("elZIndexContextKey"),wb=Symbol("zIndexContextKey"),VO=t=>{const e=tr()?Tt(_y,vy):vy,n=t||(tr()?Tt(wb,void 0):void 0),r=ze(()=>{const o=Se(n);return Qs(o)?o:vb}),s=ze(()=>r.value+wy.value),i=()=>(e.current++,wy.value=e.current,s.value);return!bs&&Tt(_y),{initialZIndex:r,currentZIndex:s,nextZIndex:i}};var KO={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const qO=t=>(e,n)=>zO(e,n,Se(t)),zO=(t,e,n)=>gO(n,t,t).replace(/\{(\w+)\}/g,(r,s)=>{var i;return`${(i=e==null?void 0:e[s])!=null?i:`{${s}}`}`}),GO=t=>{const e=ze(()=>Se(t).name),n=Ct(t)?t:bt(t);return{lang:e,locale:n,t:qO(t)}},_b=Symbol("localeContextKey"),WO=t=>{const e=t||Tt(_b,bt());return GO(ze(()=>e.value||KO))},bb="__epPropKey",qi=t=>t,QO=t=>ut(t)&&!!t[bb],Cb=(t,e)=>{if(!ut(t)||QO(t))return t;const{values:n,required:r,default:s,type:i,validator:o}=t,c={type:i,required:!!r,validator:n||o?u=>{let l=!1,f=[];if(n&&(f=Array.from(n),rt(t,"default")&&f.push(s),l||(l=f.includes(u))),o&&(l||(l=o(u))),!l&&f.length>0){const d=[...new Set(f)].map(p=>JSON.stringify(p)).join(", ");Sk(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return l}:void 0,[bb]:!0};return rt(t,"default")&&(c.default=s),c},Xl=t=>mO(Object.entries(t).map(([e,n])=>[e,Cb(n,e)])),JO=["","default","small","large"],T5=Cb({type:String,values:JO,required:!1}),YO=Symbol("size"),XO=Symbol("emptyValuesContextKey"),S5=Xl({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>Me(t)?!t():!t}}),by=t=>Object.keys(t),al=bt();function Eb(t,e=void 0){const n=tr()?Tt(ub,al):al;return t?ze(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[t])!=null?s:e}):n}function Tb(t,e){const n=Eb(),r=sp(t,ze(()=>{var a;return((a=n.value)==null?void 0:a.namespace)||xc})),s=WO(ze(()=>{var a;return(a=n.value)==null?void 0:a.locale})),i=VO(ze(()=>{var a;return((a=n.value)==null?void 0:a.zIndex)||vb})),o=ze(()=>{var a;return Se(e)||((a=n.value)==null?void 0:a.size)||""});return ZO(ze(()=>Se(n)||{})),{ns:r,locale:s,zIndex:i,size:o}}const ZO=(t,e,n=!1)=>{var r;const s=!!tr(),i=s?Eb():void 0,o=(r=void 0)!=null?r:s?Mr:void 0;if(!o)return;const a=ze(()=>{const c=Se(t);return i!=null&&i.value?eN(i.value,c):c});return o(ub,a),o(_b,ze(()=>a.value.locale)),o(fb,ze(()=>a.value.namespace)),o(wb,ze(()=>a.value.zIndex)),o(YO,{size:ze(()=>a.value.size||"")}),o(XO,ze(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(n||!al.value)&&(al.value=a.value),a},eN=(t,e)=>{const n=[...new Set([...by(t),...by(e)])],r={};for(const s of n)r[s]=e[s]!==void 0?e[s]:t[s];return r};var hp=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};const Sb=(t="")=>t.split(" ").filter(e=>!!e.trim()),I5=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Cy=(t,e)=>{!t||!e.trim()||t.classList.add(...Sb(e))},cl=(t,e)=>{!t||!e.trim()||t.classList.remove(...Sb(e))},_o=(t,e)=>{var n;if(!bs||!t||!e)return"";let r=An(e);r==="float"&&(r="cssFloat");try{const s=t.style[r];if(s)return s;const i=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return i?i[r]:""}catch{return t.style[r]}};function Fh(t,e="px"){if(!t)return"";if(Qs(t)||_O(t))return`${t}${e}`;if(at(t))return t}const Ib=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},tN=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),k5=t=>(t.install=Hn,t),nN=Xl({size:{type:qi([Number,String])},color:{type:String}}),rN=It({name:"ElIcon",inheritAttrs:!1}),sN=It({...rN,props:nN,setup(t){const e=t,n=sp("icon"),r=ze(()=>{const{size:s,color:i}=e;return!s&&!i?{}:{fontSize:vO(s)?void 0:Fh(s),"--color":i}});return(s,i)=>(ft(),Pn("i",Gd({class:Se(n).b(),style:Se(r)},s.$attrs),[Qc(s.$slots,"default")],16))}});var iN=hp(sN,[["__file","icon.vue"]]);const Ey=Ib(iN);/*! Element Plus Icons Vue v2.3.1 */var oN=It({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),R5=oN,aN=It({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),A5=aN,cN=It({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),lN=cN,uN=It({name:"Close",__name:"close",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),kb=uN,fN=It({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),Ty=fN,hN=It({name:"More",__name:"more",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),P5=hN,dN=It({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),pN=dN,gN=It({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(ft(),Pn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[xn("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),mN=gN;const yN=qi([String,Object,Function]),x5={Close:kb},vN={Close:kb},Sy={primary:Ty,success:pN,warning:mN,error:lN,info:Ty},wN=t=>t,_N={tab:"Tab",enter:"Enter",space:"Space",up:"ArrowUp",down:"ArrowDown",esc:"Escape",numpadEnter:"NumpadEnter"},bN=Xl({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:qi([String,Object,Array])},offset:{type:qi(Array),default:[0,0]},badgeClass:{type:String}}),CN=It({name:"ElBadge"}),EN=It({...CN,props:bN,setup(t,{expose:e}){const n=t,r=sp("badge"),s=ze(()=>n.isDot?"":Qs(n.value)&&Qs(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),i=ze(()=>{var o,a,c,u,l;return[{backgroundColor:n.color,marginRight:Fh(-((a=(o=n.offset)==null?void 0:o[0])!=null?a:0)),marginTop:Fh((u=(c=n.offset)==null?void 0:c[1])!=null?u:0)},(l=n.badgeStyle)!=null?l:{}]});return e({content:s}),(o,a)=>(ft(),Pn("div",{class:Fn(Se(r).b())},[Qc(o.$slots,"default"),gt(Vl,{name:`${Se(r).namespace.value}-zoom-in-center`,persisted:""},{default:fs(()=>[Ud(xn("sup",{class:Fn([Se(r).e("content"),Se(r).em("content",o.type),Se(r).is("fixed",!!o.$slots.default),Se(r).is("dot",o.isDot),Se(r).is("hide-zero",!o.showZero&&n.value===0),o.badgeClass]),style:no(Se(i))},[Qc(o.$slots,"content",{value:Se(s)},()=>[qd(kd(Se(s)),1)])],6),[[Wd,!o.hidden&&(Se(s)||o.isDot||o.$slots.content)]])]),_:3},8,["name"])],2))}});var TN=hp(EN,[["__file","badge.vue"]]);const SN=Ib(TN);function Rb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Bn={};function IN(t,e){let n;const r=bt(!1),s=br({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(p){s.text=p}function o(){const p=s.parent,g=d.ns;if(!p.vLoadingAddClassList){let m=p.getAttribute("loading-number");m=Number.parseInt(m)-1,m?p.setAttribute("loading-number",m.toString()):(cl(p,g.bm("parent","relative")),p.removeAttribute("loading-number")),cl(p,g.bm("parent","hidden"))}a(),f.unmount()}function a(){var p,g;(g=(p=d.$el)==null?void 0:p.parentNode)==null||g.removeChild(d.$el)}function c(){var p;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(u,400),s.visible=!1,(p=t.closed)==null||p.call(t))}function u(){if(!r.value)return;const p=s.parent;r.value=!1,p.vLoadingAddClassList=void 0,o()}const f=__(It({name:"ElLoading",setup(p,{expose:g}){const{ns:m,zIndex:b}=Tb("loading");return g({ns:m,zIndex:b}),()=>{const R=s.spinner||s.svg,A=At("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...R?{innerHTML:R}:{}},[At("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),T=s.text?At("p",{class:m.b("text")},[s.text]):void 0;return At(Vl,{name:m.b("fade"),onAfterLeave:u},{default:fs(()=>[Ud(gt("div",{style:{backgroundColor:s.background||""},class:[m.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[At("div",{class:m.b("spinner")},[A,T])]),[[Wd,s.visible]])])})}}}));Object.assign(f._context,e??{});const d=f.mount(document.createElement("div"));return{...yw(s),setText:i,removeElLoadingChild:a,close:c,handleAfterLeave:u,vm:d,get $el(){return d.$el}}}let hc;const Oi=function(t={}){if(!bs)return;const e=kN(t);if(e.fullscreen&&hc)return hc;const n=IN({...e,closed:()=>{var s;(s=e.closed)==null||s.call(e),e.fullscreen&&(hc=void 0)}},Oi._context);RN(e,e.parent,n),Iy(e,e.parent,n),e.parent.vLoadingAddClassList=()=>Iy(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),er(()=>n.visible.value=e.visible),e.fullscreen&&(hc=n),n},kN=t=>{var e,n,r,s;let i;return at(t.target)?i=(e=document.querySelector(t.target))!=null?e:document.body:i=t.target||document.body,{parent:i===document.body||t.body?document.body:i,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:i===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(s=t.visible)!=null?s:!0,beforeClose:t.beforeClose,closed:t.closed,target:i}},RN=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,s={};if(t.fullscreen)n.originalPosition.value=_o(document.body,"position"),n.originalOverflow.value=_o(document.body,"overflow"),s.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=_o(document.body,"position"),await er();for(const i of["top","left"]){const o=i==="top"?"scrollTop":"scrollLeft";s[i]=`${t.target.getBoundingClientRect()[i]+document.body[o]+document.documentElement[o]-Number.parseInt(_o(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])s[i]=`${t.target.getBoundingClientRect()[i]}px`}else n.originalPosition.value=_o(e,"position");for(const[i,o]of Object.entries(s))n.$el.style[i]=o},Iy=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?cl(e,r.bm("parent","relative")):Cy(e,r.bm("parent","relative")),t.fullscreen&&t.lock?Cy(e,r.bm("parent","hidden")):cl(e,r.bm("parent","hidden"))};Oi._context=null;const Nc=Symbol("ElLoading"),ky=(t,e)=>{var n,r,s,i;const o=e.instance,a=p=>ut(e.value)?e.value[p]:void 0,c=p=>{const g=at(p)&&(o==null?void 0:o[p])||p;return g&&bt(g)},u=p=>c(a(p)||t.getAttribute(`element-loading-${Gr(p)}`)),l=(n=a("fullscreen"))!=null?n:e.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:l,target:(r=a("target"))!=null?r:l?void 0:t,body:(s=a("body"))!=null?s:e.modifiers.body,lock:(i=a("lock"))!=null?i:e.modifiers.lock},d=Oi(f);d._context=Fo._context,t[Nc]={options:f,instance:d}},AN=(t,e)=>{for(const n of Object.keys(e))Ct(e[n])&&(e[n].value=t[n])},Fo={mounted(t,e){e.value&&ky(t,e)},updated(t,e){const n=t[Nc];e.oldValue!==e.value&&(e.value&&!e.oldValue?ky(t,e):e.value&&e.oldValue?ut(e.value)&&AN(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[Nc])==null||e.instance.close(),t[Nc]=null}};Fo._context=null;const PN={install(t){Oi._context=t._context,Fo._context=t._context,t.directive("loading",Fo),t.config.globalProperties.$loading=Oi},directive:Fo,service:Oi},Ab=["primary","success","info","warning","error"],pn=wN({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:bs?document.body:void 0}),xN=Xl({customClass:{type:String,default:pn.customClass},dangerouslyUseHTMLString:{type:Boolean,default:pn.dangerouslyUseHTMLString},duration:{type:Number,default:pn.duration},icon:{type:yN,default:pn.icon},id:{type:String,default:pn.id},message:{type:qi([String,Object,Function]),default:pn.message},onClose:{type:qi(Function),default:pn.onClose},showClose:{type:Boolean,default:pn.showClose},type:{type:String,values:Ab,default:pn.type},plain:{type:Boolean,default:pn.plain},offset:{type:Number,default:pn.offset},zIndex:{type:Number,default:pn.zIndex},grouping:{type:Boolean,default:pn.grouping},repeatNum:{type:Number,default:pn.repeatNum}}),ON={destroy:()=>!0},Jn=Qn([]),NN=t=>{const e=Jn.findIndex(s=>s.id===t),n=Jn[e];let r;return e>0&&(r=Jn[e-1]),{current:n,prev:r}},MN=t=>{const{prev:e}=NN(t);return e?e.vm.exposed.bottom.value:0},LN=(t,e)=>Jn.findIndex(r=>r.id===t)>0?16:e,DN=It({name:"ElMessage"}),BN=It({...DN,props:xN,emits:ON,setup(t,{expose:e,emit:n}){const r=t,{Close:s}=vN,i=bt(!1),{ns:o,zIndex:a}=Tb("message"),{currentZIndex:c,nextZIndex:u}=a,l=bt(),f=bt(!1),d=bt(0);let p;const g=ze(()=>r.type?r.type==="error"?"danger":r.type:"info"),m=ze(()=>{const v=r.type;return{[o.bm("icon",v)]:v&&Sy[v]}}),b=ze(()=>r.icon||Sy[r.type]||""),R=ze(()=>MN(r.id)),A=ze(()=>LN(r.id,r.offset)+R.value),T=ze(()=>d.value+A.value),x=ze(()=>({top:`${A.value}px`,zIndex:c.value}));function L(){r.duration!==0&&({stop:p}=OO(()=>{E()},r.duration))}function S(){p==null||p()}function E(){f.value=!1,er(()=>{var v;i.value||((v=r.onClose)==null||v.call(r),n("destroy"))})}function k({code:v}){v===_N.esc&&E()}return ka(()=>{L(),u(),f.value=!0}),pr(()=>r.repeatNum,()=>{S(),L()}),Oc(document,"keydown",k),BO(l,()=>{d.value=l.value.getBoundingClientRect().height}),e({visible:f,bottom:T,close:E}),(v,y)=>(ft(),mn(Vl,{name:Se(o).b("fade"),onBeforeEnter:w=>i.value=!0,onBeforeLeave:v.onClose,onAfterLeave:w=>v.$emit("destroy"),persisted:""},{default:fs(()=>[Ud(xn("div",{id:v.id,ref_key:"messageRef",ref:l,class:Fn([Se(o).b(),{[Se(o).m(v.type)]:v.type},Se(o).is("closable",v.showClose),Se(o).is("plain",v.plain),v.customClass]),style:no(Se(x)),role:"alert",onMouseenter:S,onMouseleave:L},[v.repeatNum>1?(ft(),mn(Se(SN),{key:0,value:v.repeatNum,type:Se(g),class:Fn(Se(o).e("badge"))},null,8,["value","type","class"])):cc("v-if",!0),Se(b)?(ft(),mn(Se(Ey),{key:1,class:Fn([Se(o).e("icon"),Se(m)])},{default:fs(()=>[(ft(),mn(jw(Se(b))))]),_:1},8,["class"])):cc("v-if",!0),Qc(v.$slots,"default",{},()=>[v.dangerouslyUseHTMLString?(ft(),Pn(Jt,{key:1},[cc(" Caution here, message could've been compromised, never use user's input as message "),xn("p",{class:Fn(Se(o).e("content")),innerHTML:v.message},null,10,["innerHTML"])],2112)):(ft(),Pn("p",{key:0,class:Fn(Se(o).e("content"))},kd(v.message),3))]),v.showClose?(ft(),mn(Se(Ey),{key:2,class:Fn(Se(o).e("closeBtn")),onClick:Xk(E,["stop"])},{default:fs(()=>[gt(Se(s))]),_:1},8,["class","onClick"])):cc("v-if",!0)],46,["id"]),[[Wd,f.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var UN=hp(BN,[["__file","message.vue"]]);let FN=1;const Pb=t=>{const e=!t||at(t)||Fr(t)||Me(t)?{message:t}:t,n={...pn,...e};if(!n.appendTo)n.appendTo=document.body;else if(at(n.appendTo)){let r=document.querySelector(n.appendTo);wO(r)||(r=document.body),n.appendTo=r}return uf(Bn.grouping)&&!n.grouping&&(n.grouping=Bn.grouping),Qs(Bn.duration)&&n.duration===3e3&&(n.duration=Bn.duration),Qs(Bn.offset)&&n.offset===16&&(n.offset=Bn.offset),uf(Bn.showClose)&&!n.showClose&&(n.showClose=Bn.showClose),uf(Bn.plain)&&!n.plain&&(n.plain=Bn.plain),n},jN=t=>{const e=Jn.indexOf(t);if(e===-1)return;Jn.splice(e,1);const{handler:n}=t;n.close()},$N=({appendTo:t,...e},n)=>{const r=`message_${FN++}`,s=e.onClose,i=document.createElement("div"),o={...e,id:r,onClose:()=>{s==null||s(),jN(l)},onDestroy:()=>{wm(null,i)}},a=gt(UN,o,Me(o.message)||Fr(o.message)?{default:Me(o.message)?o.message:()=>o.message}:null);a.appContext=n||zi._context,wm(a,i),t.appendChild(i.firstElementChild);const c=a.component,l={id:r,vnode:a,vm:c,handler:{close:()=>{c.exposed.close()}},props:a.component.props};return l},zi=(t={},e)=>{if(!bs)return{close:()=>{}};const n=Pb(t);if(n.grouping&&Jn.length){const s=Jn.find(({vnode:i})=>{var o;return((o=i.props)==null?void 0:o.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}if(Qs(Bn.max)&&Jn.length>=Bn.max)return{close:()=>{}};const r=$N(n,e);return Jn.push(r),r.handler};Ab.forEach(t=>{zi[t]=(e={},n)=>{const r=Pb(e);return zi({...r,type:t},n)}});function HN(t){const e=[...Jn];for(const n of e)(!t||t===n.props.type)&&n.handler.close()}zi.closeAll=HN;zi._context=null;const Gn=tN(zi,"$message");var dc={exports:{}},ff,Ry;function xb(){return Ry||(Ry=1,ff=function(e,n){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(n,s)}}),ff}var hf,Ay;function Mn(){if(Ay)return hf;Ay=1;var t=xb(),e=Object.prototype.toString;function n(k){return e.call(k)==="[object Array]"}function r(k){return typeof k>"u"}function s(k){return k!==null&&!r(k)&&k.constructor!==null&&!r(k.constructor)&&typeof k.constructor.isBuffer=="function"&&k.constructor.isBuffer(k)}function i(k){return e.call(k)==="[object ArrayBuffer]"}function o(k){return typeof FormData<"u"&&k instanceof FormData}function a(k){var v;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?v=ArrayBuffer.isView(k):v=k&&k.buffer&&k.buffer instanceof ArrayBuffer,v}function c(k){return typeof k=="string"}function u(k){return typeof k=="number"}function l(k){return k!==null&&typeof k=="object"}function f(k){if(e.call(k)!=="[object Object]")return!1;var v=Object.getPrototypeOf(k);return v===null||v===Object.prototype}function d(k){return e.call(k)==="[object Date]"}function p(k){return e.call(k)==="[object File]"}function g(k){return e.call(k)==="[object Blob]"}function m(k){return e.call(k)==="[object Function]"}function b(k){return l(k)&&m(k.pipe)}function R(k){return typeof URLSearchParams<"u"&&k instanceof URLSearchParams}function A(k){return k.trim?k.trim():k.replace(/^\s+|\s+$/g,"")}function T(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function x(k,v){if(!(k===null||typeof k>"u"))if(typeof k!="object"&&(k=[k]),n(k))for(var y=0,w=k.length;y<w;y++)v.call(null,k[y],y,k);else for(var _ in k)Object.prototype.hasOwnProperty.call(k,_)&&v.call(null,k[_],_,k)}function L(){var k={};function v(_,I){f(k[I])&&f(_)?k[I]=L(k[I],_):f(_)?k[I]=L({},_):n(_)?k[I]=_.slice():k[I]=_}for(var y=0,w=arguments.length;y<w;y++)x(arguments[y],v);return k}function S(k,v,y){return x(v,function(_,I){y&&typeof _=="function"?k[I]=t(_,y):k[I]=_}),k}function E(k){return k.charCodeAt(0)===65279&&(k=k.slice(1)),k}return hf={isArray:n,isArrayBuffer:i,isBuffer:s,isFormData:o,isArrayBufferView:a,isString:c,isNumber:u,isObject:l,isPlainObject:f,isUndefined:r,isDate:d,isFile:p,isBlob:g,isFunction:m,isStream:b,isURLSearchParams:R,isStandardBrowserEnv:T,forEach:x,merge:L,extend:S,trim:A,stripBOM:E},hf}var df,Py;function Ob(){if(Py)return df;Py=1;var t=Mn();function e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return df=function(r,s,i){if(!s)return r;var o;if(i)o=i(s);else if(t.isURLSearchParams(s))o=s.toString();else{var a=[];t.forEach(s,function(l,f){l===null||typeof l>"u"||(t.isArray(l)?f=f+"[]":l=[l],t.forEach(l,function(p){t.isDate(p)?p=p.toISOString():t.isObject(p)&&(p=JSON.stringify(p)),a.push(e(f)+"="+e(p))}))}),o=a.join("&")}if(o){var c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},df}var pf,xy;function VN(){if(xy)return pf;xy=1;var t=Mn();function e(){this.handlers=[]}return e.prototype.use=function(r,s,i){return this.handlers.push({fulfilled:r,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)},e.prototype.forEach=function(r){t.forEach(this.handlers,function(i){i!==null&&r(i)})},pf=e,pf}var gf,Oy;function KN(){if(Oy)return gf;Oy=1;var t=Mn();return gf=function(n,r){t.forEach(n,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(n[r]=i,delete n[o])})},gf}var mf,Ny;function Nb(){return Ny||(Ny=1,mf=function(e,n,r,s,i){return e.config=n,r&&(e.code=r),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}),mf}var yf,My;function Mb(){if(My)return yf;My=1;var t=Nb();return yf=function(n,r,s,i,o){var a=new Error(n);return t(a,r,s,i,o)},yf}var vf,Ly;function qN(){if(Ly)return vf;Ly=1;var t=Mb();return vf=function(n,r,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?n(s):r(t("Request failed with status code "+s.status,s.config,null,s.request,s))},vf}var wf,Dy;function zN(){if(Dy)return wf;Dy=1;var t=Mn();return wf=t.isStandardBrowserEnv()?function(){return{write:function(r,s,i,o,a,c){var u=[];u.push(r+"="+encodeURIComponent(s)),t.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),wf}var _f,By;function GN(){return By||(By=1,_f=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),_f}var bf,Uy;function WN(){return Uy||(Uy=1,bf=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),bf}var Cf,Fy;function QN(){if(Fy)return Cf;Fy=1;var t=GN(),e=WN();return Cf=function(r,s){return r&&!t(s)?e(r,s):s},Cf}var Ef,jy;function JN(){if(jy)return Ef;jy=1;var t=Mn(),e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Ef=function(r){var s={},i,o,a;return r&&t.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),i=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},Ef}var Tf,$y;function YN(){if($y)return Tf;$y=1;var t=Mn();return Tf=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),s;function i(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=i(window.location.href),function(a){var c=t.isString(a)?i(a):a;return c.protocol===s.protocol&&c.host===s.host}}():function(){return function(){return!0}}(),Tf}var Sf,Hy;function Vy(){if(Hy)return Sf;Hy=1;var t=Mn(),e=qN(),n=zN(),r=Ob(),s=QN(),i=JN(),o=YN(),a=Mb();return Sf=function(u){return new Promise(function(f,d){var p=u.data,g=u.headers,m=u.responseType;t.isFormData(p)&&delete g["Content-Type"];var b=new XMLHttpRequest;if(u.auth){var R=u.auth.username||"",A=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"";g.Authorization="Basic "+btoa(R+":"+A)}var T=s(u.baseURL,u.url);b.open(u.method.toUpperCase(),r(T,u.params,u.paramsSerializer),!0),b.timeout=u.timeout;function x(){if(b){var S="getAllResponseHeaders"in b?i(b.getAllResponseHeaders()):null,E=!m||m==="text"||m==="json"?b.responseText:b.response,k={data:E,status:b.status,statusText:b.statusText,headers:S,config:u,request:b};e(f,d,k),b=null}}if("onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(d(a("Request aborted",u,"ECONNABORTED",b)),b=null)},b.onerror=function(){d(a("Network Error",u,null,b)),b=null},b.ontimeout=function(){var E="timeout of "+u.timeout+"ms exceeded";u.timeoutErrorMessage&&(E=u.timeoutErrorMessage),d(a(E,u,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},t.isStandardBrowserEnv()){var L=(u.withCredentials||o(T))&&u.xsrfCookieName?n.read(u.xsrfCookieName):void 0;L&&(g[u.xsrfHeaderName]=L)}"setRequestHeader"in b&&t.forEach(g,function(E,k){typeof p>"u"&&k.toLowerCase()==="content-type"?delete g[k]:b.setRequestHeader(k,E)}),t.isUndefined(u.withCredentials)||(b.withCredentials=!!u.withCredentials),m&&m!=="json"&&(b.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&b.addEventListener("progress",u.onDownloadProgress),typeof u.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(E){b&&(b.abort(),d(E),b=null)}),p||(p=null),b.send(p)})},Sf}var If,Ky;function dp(){if(Ky)return If;Ky=1;var t=Mn(),e=KN(),n=Nb(),r={"Content-Type":"application/x-www-form-urlencoded"};function s(c,u){!t.isUndefined(c)&&t.isUndefined(c["Content-Type"])&&(c["Content-Type"]=u)}function i(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=Vy()),c}function o(c,u,l){if(t.isString(c))try{return(u||JSON.parse)(c),t.trim(c)}catch(f){if(f.name!=="SyntaxError")throw f}return(l||JSON.stringify)(c)}var a={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:i(),transformRequest:[function(u,l){return e(l,"Accept"),e(l,"Content-Type"),t.isFormData(u)||t.isArrayBuffer(u)||t.isBuffer(u)||t.isStream(u)||t.isFile(u)||t.isBlob(u)?u:t.isArrayBufferView(u)?u.buffer:t.isURLSearchParams(u)?(s(l,"application/x-www-form-urlencoded;charset=utf-8"),u.toString()):t.isObject(u)||l&&l["Content-Type"]==="application/json"?(s(l,"application/json"),o(u)):u}],transformResponse:[function(u){var l=this.transitional,f=l&&l.silentJSONParsing,d=l&&l.forcedJSONParsing,p=!f&&this.responseType==="json";if(p||d&&t.isString(u)&&u.length)try{return JSON.parse(u)}catch(g){if(p)throw g.name==="SyntaxError"?n(g,this,"E_JSON_PARSE"):g}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(u){return u>=200&&u<300}};return a.headers={common:{Accept:"application/json, text/plain, */*"}},t.forEach(["delete","get","head"],function(u){a.headers[u]={}}),t.forEach(["post","put","patch"],function(u){a.headers[u]=t.merge(r)}),If=a,If}var kf,qy;function XN(){if(qy)return kf;qy=1;var t=Mn(),e=dp();return kf=function(r,s,i){var o=this||e;return t.forEach(i,function(c){r=c.call(o,r,s)}),r},kf}var Rf,zy;function Lb(){return zy||(zy=1,Rf=function(e){return!!(e&&e.__CANCEL__)}),Rf}var Af,Gy;function ZN(){if(Gy)return Af;Gy=1;var t=Mn(),e=XN(),n=Lb(),r=dp();function s(i){i.cancelToken&&i.cancelToken.throwIfRequested()}return Af=function(o){s(o),o.headers=o.headers||{},o.data=e.call(o,o.data,o.headers,o.transformRequest),o.headers=t.merge(o.headers.common||{},o.headers[o.method]||{},o.headers),t.forEach(["delete","get","head","post","put","patch","common"],function(u){delete o.headers[u]});var a=o.adapter||r.adapter;return a(o).then(function(u){return s(o),u.data=e.call(o,u.data,u.headers,o.transformResponse),u},function(u){return n(u)||(s(o),u&&u.response&&(u.response.data=e.call(o,u.response.data,u.response.headers,o.transformResponse))),Promise.reject(u)})},Af}var Pf,Wy;function Db(){if(Wy)return Pf;Wy=1;var t=Mn();return Pf=function(n,r){r=r||{};var s={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function u(p,g){return t.isPlainObject(p)&&t.isPlainObject(g)?t.merge(p,g):t.isPlainObject(g)?t.merge({},g):t.isArray(g)?g.slice():g}function l(p){t.isUndefined(r[p])?t.isUndefined(n[p])||(s[p]=u(void 0,n[p])):s[p]=u(n[p],r[p])}t.forEach(i,function(g){t.isUndefined(r[g])||(s[g]=u(void 0,r[g]))}),t.forEach(o,l),t.forEach(a,function(g){t.isUndefined(r[g])?t.isUndefined(n[g])||(s[g]=u(void 0,n[g])):s[g]=u(void 0,r[g])}),t.forEach(c,function(g){g in r?s[g]=u(n[g],r[g]):g in n&&(s[g]=u(void 0,n[g]))});var f=i.concat(o).concat(a).concat(c),d=Object.keys(n).concat(Object.keys(r)).filter(function(g){return f.indexOf(g)===-1});return t.forEach(d,l),s},Pf}const eM="0.21.4",tM={version:eM};var xf,Qy;function nM(){if(Qy)return xf;Qy=1;var t=tM,e={};["object","boolean","number","function","string","symbol"].forEach(function(o,a){e[o]=function(u){return typeof u===o||"a"+(a<1?"n ":" ")+o}});var n={},r=t.version.split(".");function s(o,a){for(var c=a?a.split("."):r,u=o.split("."),l=0;l<3;l++){if(c[l]>u[l])return!0;if(c[l]<u[l])return!1}return!1}e.transitional=function(a,c,u){var l=c&&s(c);function f(d,p){return"[Axios v"+t.version+"] Transitional option '"+d+"'"+p+(u?". "+u:"")}return function(d,p,g){if(a===!1)throw new Error(f(p," has been removed in "+c));return l&&!n[p]&&(n[p]=!0,console.warn(f(p," has been deprecated since v"+c+" and will be removed in the near future"))),a?a(d,p,g):!0}};function i(o,a,c){if(typeof o!="object")throw new TypeError("options must be an object");for(var u=Object.keys(o),l=u.length;l-- >0;){var f=u[l],d=a[f];if(d){var p=o[f],g=p===void 0||d(p,f,o);if(g!==!0)throw new TypeError("option "+f+" must be "+g);continue}if(c!==!0)throw Error("Unknown option "+f)}}return xf={isOlderVersion:s,assertOptions:i,validators:e},xf}var Of,Jy;function rM(){if(Jy)return Of;Jy=1;var t=Mn(),e=Ob(),n=VN(),r=ZN(),s=Db(),i=nM(),o=i.validators;function a(c){this.defaults=c,this.interceptors={request:new n,response:new n}}return a.prototype.request=function(u){typeof u=="string"?(u=arguments[1]||{},u.url=arguments[0]):u=u||{},u=s(this.defaults,u),u.method?u.method=u.method.toLowerCase():this.defaults.method?u.method=this.defaults.method.toLowerCase():u.method="get";var l=u.transitional;l!==void 0&&i.assertOptions(l,{silentJSONParsing:o.transitional(o.boolean,"1.0.0"),forcedJSONParsing:o.transitional(o.boolean,"1.0.0"),clarifyTimeoutError:o.transitional(o.boolean,"1.0.0")},!1);var f=[],d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(u)===!1||(d=d&&x.synchronous,f.unshift(x.fulfilled,x.rejected))});var p=[];this.interceptors.response.forEach(function(x){p.push(x.fulfilled,x.rejected)});var g;if(!d){var m=[r,void 0];for(Array.prototype.unshift.apply(m,f),m=m.concat(p),g=Promise.resolve(u);m.length;)g=g.then(m.shift(),m.shift());return g}for(var b=u;f.length;){var R=f.shift(),A=f.shift();try{b=R(b)}catch(T){A(T);break}}try{g=r(b)}catch(T){return Promise.reject(T)}for(;p.length;)g=g.then(p.shift(),p.shift());return g},a.prototype.getUri=function(u){return u=s(this.defaults,u),e(u.url,u.params,u.paramsSerializer).replace(/^\?/,"")},t.forEach(["delete","get","head","options"],function(u){a.prototype[u]=function(l,f){return this.request(s(f||{},{method:u,url:l,data:(f||{}).data}))}}),t.forEach(["post","put","patch"],function(u){a.prototype[u]=function(l,f,d){return this.request(s(d||{},{method:u,url:l,data:f}))}}),Of=a,Of}var Nf,Yy;function Bb(){if(Yy)return Nf;Yy=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,Nf=t,Nf}var Mf,Xy;function sM(){if(Xy)return Mf;Xy=1;var t=Bb();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var s=this;n(function(o){s.reason||(s.reason=new t(o),r(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.source=function(){var r,s=new e(function(o){r=o});return{token:s,cancel:r}},Mf=e,Mf}var Lf,Zy;function iM(){return Zy||(Zy=1,Lf=function(e){return function(r){return e.apply(null,r)}}),Lf}var Df,ev;function oM(){return ev||(ev=1,Df=function(e){return typeof e=="object"&&e.isAxiosError===!0}),Df}var tv;function aM(){if(tv)return dc.exports;tv=1;var t=Mn(),e=xb(),n=rM(),r=Db(),s=dp();function i(a){var c=new n(a),u=e(n.prototype.request,c);return t.extend(u,n.prototype,c),t.extend(u,c),u}var o=i(s);return o.Axios=n,o.create=function(c){return i(r(o.defaults,c))},o.Cancel=Bb(),o.CancelToken=sM(),o.isCancel=Lb(),o.all=function(c){return Promise.all(c)},o.spread=iM(),o.isAxiosError=oM(),dc.exports=o,dc.exports.default=o,dc.exports}var Bf,nv;function cM(){return nv||(nv=1,Bf=aM()),Bf}var lM=cM();const uM=Rb(lM);/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Ub;const Zl=t=>Ub=t,Fb=Symbol();function jh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var jo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(jo||(jo={}));function jb(){const t=Rd(!0),e=t.run(()=>bt({}));let n=[],r=[];const s=Dd({install(i){Zl(s),s._a=i,i.provide(Fb,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const $b=()=>{};function rv(t,e,n,r=$b){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Ll()&&ew(s),s}function pi(t,...e){t.slice().forEach(n=>{n(...e)})}const fM=t=>t(),sv=Symbol(),Uf=Symbol();function $h(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];jh(s)&&jh(r)&&t.hasOwnProperty(n)&&!Ct(r)&&!Nr(r)?t[n]=$h(s,r):t[n]=r}return t}const hM=Symbol();function dM(t){return!jh(t)||!Object.prototype.hasOwnProperty.call(t,hM)}const{assign:Xr}=Object;function pM(t){return!!(Ct(t)&&t.effect)}function gM(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function u(){a||(n.state.value[t]=s?s():{});const l=yw(n.state.value[t]);return Xr(l,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=Dd(ze(()=>{Zl(n);const p=n._s.get(t);return o[d].call(p,p)})),f),{}))}return c=Hb(t,u,e,n,r,!0),c}function Hb(t,e,n={},r,s,i){let o;const a=Xr({actions:{}},n),c={deep:!0};let u,l,f=[],d=[],p;const g=r.state.value[t];!i&&!g&&(r.state.value[t]={}),bt({});let m;function b(k){let v;u=l=!1,typeof k=="function"?(k(r.state.value[t]),v={type:jo.patchFunction,storeId:t,events:p}):($h(r.state.value[t],k),v={type:jo.patchObject,payload:k,storeId:t,events:p});const y=m=Symbol();er().then(()=>{m===y&&(u=!0)}),l=!0,pi(f,v,r.state.value[t])}const R=i?function(){const{state:v}=n,y=v?v():{};this.$patch(w=>{Xr(w,y)})}:$b;function A(){o.stop(),f=[],d=[],r._s.delete(t)}const T=(k,v="")=>{if(sv in k)return k[Uf]=v,k;const y=function(){Zl(r);const w=Array.from(arguments),_=[],I=[];function M(q){_.push(q)}function V(q){I.push(q)}pi(d,{args:w,name:y[Uf],store:L,after:M,onError:V});let D;try{D=k.apply(this&&this.$id===t?this:L,w)}catch(q){throw pi(I,q),q}return D instanceof Promise?D.then(q=>(pi(_,q),q)).catch(q=>(pi(I,q),Promise.reject(q))):(pi(_,D),D)};return y[sv]=!0,y[Uf]=v,y},x={_p:r,$id:t,$onAction:rv.bind(null,d),$patch:b,$reset:R,$subscribe(k,v={}){const y=rv(f,k,v.detached,()=>w()),w=o.run(()=>pr(()=>r.state.value[t],_=>{(v.flush==="sync"?l:u)&&k({storeId:t,type:jo.direct,events:p},_)},Xr({},c,v)));return y},$dispose:A},L=br(x);r._s.set(t,L);const E=(r._a&&r._a.runWithContext||fM)(()=>r._e.run(()=>(o=Rd()).run(()=>e({action:T}))));for(const k in E){const v=E[k];if(Ct(v)&&!pM(v)||Nr(v))i||(g&&dM(v)&&(Ct(v)?v.value=g[k]:$h(v,g[k])),r.state.value[t][k]=v);else if(typeof v=="function"){const y=T(v,k);E[k]=y,a.actions[k]=v}}return Xr(L,E),Xr(tt(L),E),Object.defineProperty(L,"$state",{get:()=>r.state.value[t],set:k=>{b(v=>{Xr(v,k)})}}),r._p.forEach(k=>{Xr(L,o.run(()=>k({store:L,app:r._a,pinia:r,options:a})))}),g&&i&&n.hydrate&&n.hydrate(L.$state,g),u=!0,l=!0,L}/*! #__NO_SIDE_EFFECTS__ */function O5(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const c=Fl();return o=o||(c?Tt(Fb,null):null),o&&Zl(o),o=Ub,o._s.has(t)||(s?Hb(t,e,r,o):gM(t,r,o)),o._s.get(t)}return i.$id=t,i}const mM=wn(t=>{const e=uM.create({baseURL:"https://z.mp3drink.cc"});let n=null;e.interceptors.request.use(r=>(r.noLoad||(n=PN.service({fullscreen:!0,background:"#fff"})),r.headers.Authorization="Bearer"+localStorage.getItem("token"),r),r=>Promise.reject(r)),e.interceptors.response.use(r=>(n&&(n.close(),n=null),r.data),r=>{var i,o,a;switch(n&&(n.close(),n=null),parseInt((i=r.response)==null?void 0:i.status)){case 400:Gn.error("Request error");break;case 401:Gn.error("Token exceed the time limit");break;case 403:Gn.error("Access Denied");break;case 404:Gn.error(`Error requesting address: ${(a=(o=r.response)==null?void 0:o.config)==null?void 0:a.url}`);break;case 408:Gn.error("Request timeout");break;case 500:Gn.error("Internal server error");break;case 501:Gn.error("The service has not been realized");break;case 502:Gn.error("Gateway error");break;case 503:Gn.error("Services are not available");break;case 504:Gn.error("Gateway timeout");break;case 505:Gn.error("The HTTP version is not supported");break}return Promise.reject(r)}),t.provide("axios",e),t.vueApp.use(jb())});var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,l=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(d=64)),r.push(n[l],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new vM;const d=i<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wM=function(t){const e=Vb(t);return Kb.encodeByteArray(e,!0)},ll=function(t){return wM(t).replace(/\./g,"")},qb=function(t){try{return Kb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=()=>_M().__FIREBASE_DEFAULTS__,CM=()=>{if(typeof process>"u"||typeof iv>"u")return;const t=iv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qb(t[1]);return e&&JSON.parse(e)},pp=()=>{try{return bM()||CM()||EM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zb=t=>{var e,n;return(n=(e=pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TM=t=>{const e=zb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gb=()=>{var t;return(t=pp())===null||t===void 0?void 0:t.config},Wb=t=>{var e;return(e=pp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ll(JSON.stringify(n)),ll(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Qb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AM(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Yb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function PM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="FirebaseError";class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xM,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}}class ii{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?OM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new or(s,a,r)}}function OM(t,e){return t.replace(NM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const NM=/\{\$([^}]+)}/g;function MM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ov(i)&&ov(o)){if(!sa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ov(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LM(t,e){const n=new DM(t,e);return n.subscribe.bind(n)}class DM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ff),s.error===void 0&&(s.error=Ff),s.complete===void 0&&(s.complete=Ff);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ff(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=1e3,FM=2,jM=4*60*60*1e3,$M=.5;function av(t,e=UM,n=FM){const r=e*Math.pow(n,t),s=Math.round($M*r*(Math.random()-.5)*2);return Math.min(jM,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KM(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VM(t){return t===Ms?void 0:t}function KM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const zM={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},GM=st.INFO,WM={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},QM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eu{constructor(e){this.name=e,this._logLevel=GM,this._logHandler=QM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const JM=(t,e)=>e.some(n=>t instanceof n);let cv,lv;function YM(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XM(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,Hh=new WeakMap,Zb=new WeakMap,jf=new WeakMap,gp=new WeakMap;function ZM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ds(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,t)}).catch(()=>{}),gp.set(e,t),e}function eL(t){if(Hh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hh.set(t,e)}let Vh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Zb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tL(t){Vh=t(Vh)}function nL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($f(this),e,...n);return Zb.set(r,e.sort?e.sort():[e]),ds(r)}:XM().includes(t)?function(...e){return t.apply($f(this),e),ds(Xb.get(this))}:function(...e){return ds(t.apply($f(this),e))}}function rL(t){return typeof t=="function"?nL(t):(t instanceof IDBTransaction&&eL(t),JM(t,YM())?new Proxy(t,Vh):t)}function ds(t){if(t instanceof IDBRequest)return ZM(t);if(jf.has(t))return jf.get(t);const e=rL(t);return e!==t&&(jf.set(t,e),gp.set(e,t)),e}const $f=t=>gp.get(t);function sL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ds(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ds(o.result),c.oldVersion,c.newVersion,ds(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iL=["get","getKey","getAll","getAllKeys","count"],oL=["put","add","delete","clear"],Hf=new Map;function uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iL.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Hf.set(e,i),i}tL(t=>({...t,get:(e,n,r)=>uv(e,n)||t.get(e,n,r),has:(e,n)=>!!uv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kh="@firebase/app",fv="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new eu("@firebase/app"),lL="@firebase/app-compat",uL="@firebase/analytics-compat",fL="@firebase/analytics",hL="@firebase/app-check-compat",dL="@firebase/app-check",pL="@firebase/auth",gL="@firebase/auth-compat",mL="@firebase/database",yL="@firebase/database-compat",vL="@firebase/functions",wL="@firebase/functions-compat",_L="@firebase/installations",bL="@firebase/installations-compat",CL="@firebase/messaging",EL="@firebase/messaging-compat",TL="@firebase/performance",SL="@firebase/performance-compat",IL="@firebase/remote-config",kL="@firebase/remote-config-compat",RL="@firebase/storage",AL="@firebase/storage-compat",PL="@firebase/firestore",xL="@firebase/firestore-compat",OL="firebase",NL="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="[DEFAULT]",ML={[Kh]:"fire-core",[lL]:"fire-core-compat",[fL]:"fire-analytics",[uL]:"fire-analytics-compat",[dL]:"fire-app-check",[hL]:"fire-app-check-compat",[pL]:"fire-auth",[gL]:"fire-auth-compat",[mL]:"fire-rtdb",[yL]:"fire-rtdb-compat",[vL]:"fire-fn",[wL]:"fire-fn-compat",[_L]:"fire-iid",[bL]:"fire-iid-compat",[CL]:"fire-fcm",[EL]:"fire-fcm-compat",[TL]:"fire-perf",[SL]:"fire-perf-compat",[IL]:"fire-rc",[kL]:"fire-rc-compat",[RL]:"fire-gcs",[AL]:"fire-gcs-compat",[PL]:"fire-fst",[xL]:"fire-fst-compat","fire-js":"fire-js",[OL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new Map,zh=new Map;function LL(t,e){try{t.container.addComponent(e)}catch(n){Js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){const e=t.name;if(zh.has(e))return Js.debug(`There were multiple attempts to register component ${e}.`),!1;zh.set(e,t);for(const n of ul.values())LL(n,t);return!0}function oi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ps=new ii("app","Firebase",DL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=NL;function eC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ps.create("bad-app-name",{appName:String(s)});if(n||(n=Gb()),!n)throw ps.create("no-options");const i=ul.get(s);if(i){if(sa(n,i.options)&&sa(r,i.config))return i;throw ps.create("duplicate-app",{appName:s})}const o=new qM(s);for(const c of zh.values())o.addComponent(c);const a=new BL(n,r,o);return ul.set(s,a),a}function mp(t=qh){const e=ul.get(t);if(!e&&t===qh&&Gb())return eC();if(!e)throw ps.create("no-app",{appName:t});return e}function Kn(t,e,n){var r;let s=(r=ML[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Js.warn(a.join(" "));return}vr(new rr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="firebase-heartbeat-database",FL=1,ia="firebase-heartbeat-store";let Vf=null;function tC(){return Vf||(Vf=sL(UL,FL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ia)}}}).catch(t=>{throw ps.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function jL(t){try{return await(await tC()).transaction(ia).objectStore(ia).get(nC(t))}catch(e){if(e instanceof or)Js.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Js.warn(n.message)}}}async function hv(t,e){try{const r=(await tC()).transaction(ia,"readwrite");await r.objectStore(ia).put(e,nC(t)),await r.done}catch(n){if(n instanceof or)Js.warn(n.message);else{const r=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Js.warn(r.message)}}}function nC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=1024,HL=30*24*60*60*1e3;class VL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=HL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dv(),{heartbeatsToSend:n,unsentEntries:r}=KL(this._heartbeatsCache.heartbeats),s=ll(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function dv(){return new Date().toISOString().substring(0,10)}function KL(t,e=$L){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),pv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Yb().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pv(t){return ll(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){vr(new rr("platform-logger",e=>new aL(e),"PRIVATE")),vr(new rr("heartbeat",e=>new VL(e),"PRIVATE")),Kn(Kh,fv,t),Kn(Kh,fv,"esm2017"),Kn("fire-js","")}zL("");var GL="firebase",WL="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(GL,WL,"app");const QL=(t,e)=>e.some(n=>t instanceof n);let gv,mv;function JL(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YL(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rC=new WeakMap,Gh=new WeakMap,sC=new WeakMap,Kf=new WeakMap,yp=new WeakMap;function XL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rC.set(n,t)}).catch(()=>{}),yp.set(e,t),e}function ZL(t){if(Gh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gh.set(t,e)}let Wh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e2(t){Wh=t(Wh)}function t2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qf(this),e,...n);return sC.set(r,e.sort?e.sort():[e]),gs(r)}:YL().includes(t)?function(...e){return t.apply(qf(this),e),gs(rC.get(this))}:function(...e){return gs(t.apply(qf(this),e))}}function n2(t){return typeof t=="function"?t2(t):(t instanceof IDBTransaction&&ZL(t),QL(t,JL())?new Proxy(t,Wh):t)}function gs(t){if(t instanceof IDBRequest)return XL(t);if(Kf.has(t))return Kf.get(t);const e=n2(t);return e!==t&&(Kf.set(t,e),yp.set(e,t)),e}const qf=t=>yp.get(t);function r2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(gs(o.result),c.oldVersion,c.newVersion,gs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const s2=["get","getKey","getAll","getAllKeys","count"],i2=["put","add","delete","clear"],zf=new Map;function yv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=i2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||s2.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return zf.set(e,i),i}e2(t=>({...t,get:(e,n,r)=>yv(e,n)||t.get(e,n,r),has:(e,n)=>!!yv(e,n)||t.has(e,n)}));const iC="@firebase/installations",vp="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e4,aC=`w:${vp}`,cC="FIS_v2",o2="https://firebaseinstallations.googleapis.com/v1",a2=60*60*1e3,c2="installations",l2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new ii(c2,l2,u2);function lC(t){return t instanceof or&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC({projectId:t}){return`${o2}/projects/${t}/installations`}function fC(t){return{token:t.token,requestStatus:2,expiresIn:h2(t.expiresIn),creationTime:Date.now()}}async function hC(t,e){const r=(await e.json()).error;return Ys.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function dC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function f2(t,{refreshToken:e}){const n=dC(t);return n.append("Authorization",d2(e)),n}async function pC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function h2(t){return Number(t.replace("s","000"))}function d2(t){return`${cC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uC(t),s=dC(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:cC,appId:t.appId,sdkVersion:aC},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await pC(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:fC(u.authToken)}}else throw await hC("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=/^[cdef][\w-]{21}$/,Qh="";function y2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=v2(t);return m2.test(n)?n:Qh}catch{return Qh}}function v2(t){return g2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Map;function yC(t,e){const n=tu(t);vC(n,e),w2(n,e)}function vC(t,e){const n=mC.get(t);if(n)for(const r of n)r(e)}function w2(t,e){const n=_2();n&&n.postMessage({key:t,fid:e}),b2()}let Ls=null;function _2(){return!Ls&&"BroadcastChannel"in self&&(Ls=new BroadcastChannel("[Firebase] FID Change"),Ls.onmessage=t=>{vC(t.data.key,t.data.fid)}),Ls}function b2(){mC.size===0&&Ls&&(Ls.close(),Ls=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebase-installations-database",E2=1,Xs="firebase-installations-store";let Gf=null;function wp(){return Gf||(Gf=r2(C2,E2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xs)}}})),Gf}async function fl(t,e){const n=tu(t),s=(await wp()).transaction(Xs,"readwrite"),i=s.objectStore(Xs),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&yC(t,e.fid),e}async function wC(t){const e=tu(t),r=(await wp()).transaction(Xs,"readwrite");await r.objectStore(Xs).delete(e),await r.done}async function nu(t,e){const n=tu(t),s=(await wp()).transaction(Xs,"readwrite"),i=s.objectStore(Xs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&yC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _p(t){let e;const n=await nu(t.appConfig,r=>{const s=T2(r),i=S2(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Qh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function T2(t){const e=t||{fid:y2(),registrationStatus:0};return _C(e)}function S2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=I2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:k2(t)}:{installationEntry:e}}async function I2(t,e){try{const n=await p2(t,e);return fl(t.appConfig,n)}catch(n){throw lC(n)&&n.customData.serverCode===409?await wC(t.appConfig):await fl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function k2(t){let e=await vv(t.appConfig);for(;e.registrationStatus===1;)await gC(100),e=await vv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _p(t);return r||n}return e}function vv(t){return nu(t,e=>{if(!e)throw Ys.create("installation-not-found");return _C(e)})}function _C(t){return R2(t)?{fid:t.fid,registrationStatus:0}:t}function R2(t){return t.registrationStatus===1&&t.registrationTime+oC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2({appConfig:t,heartbeatServiceProvider:e},n){const r=P2(t,n),s=f2(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:aC,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await pC(()=>fetch(r,a));if(c.ok){const u=await c.json();return fC(u)}else throw await hC("Generate Auth Token",c)}function P2(t,{fid:e}){return`${uC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t,e=!1){let n;const r=await nu(t.appConfig,i=>{if(!bC(i))throw Ys.create("not-registered");const o=i.authToken;if(!e&&N2(o))return i;if(o.requestStatus===1)return n=x2(t,e),i;{if(!navigator.onLine)throw Ys.create("app-offline");const a=L2(i);return n=O2(t,a),a}});return n?await n:r.authToken}async function x2(t,e){let n=await wv(t.appConfig);for(;n.authToken.requestStatus===1;)await gC(100),n=await wv(t.appConfig);const r=n.authToken;return r.requestStatus===0?bp(t,e):r}function wv(t){return nu(t,e=>{if(!bC(e))throw Ys.create("not-registered");const n=e.authToken;return D2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function O2(t,e){try{const n=await A2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await fl(t.appConfig,r),n}catch(n){if(lC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wC(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await fl(t.appConfig,r)}throw n}}function bC(t){return t!==void 0&&t.registrationStatus===2}function N2(t){return t.requestStatus===2&&!M2(t)}function M2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+a2}function L2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function D2(t){return t.requestStatus===1&&t.requestTime+oC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t){const e=t,{installationEntry:n,registrationPromise:r}=await _p(e);return r?r.catch(console.error):bp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e=!1){const n=t;return await F2(n),(await bp(n,e)).token}async function F2(t){const{registrationPromise:e}=await _p(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){if(!t||!t.options)throw Wf("App Configuration");if(!t.name)throw Wf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Wf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Wf(t){return Ys.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="installations",$2="installations-internal",H2=t=>{const e=t.getProvider("app").getImmediate(),n=j2(e),r=oi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},V2=t=>{const e=t.getProvider("app").getImmediate(),n=oi(e,CC).getImmediate();return{getId:()=>B2(n),getToken:s=>U2(n,s)}};function K2(){vr(new rr(CC,H2,"PUBLIC")),vr(new rr($2,V2,"PRIVATE"))}K2();Kn(iC,vp);Kn(iC,vp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="analytics",q2="firebase_id",z2="origin",G2=60*1e3,W2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new eu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new ii("analytics","Analytics",Q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){if(!t.startsWith(Cp)){const e=kn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function EC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function X2(t,e){const n=Y2("firebase-js-sdk-policy",{createScriptURL:J2}),r=document.createElement("script"),s=`${Cp}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Z2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eD(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await EC(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(a){Tn.error(a)}t("config",s,i)}async function tD(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await EC(n);for(const c of o){const u=a.find(f=>f.measurementId===c),l=u&&e[u.appId];if(l)i.push(l);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Tn.error(i)}}function nD(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await tD(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await eD(t,e,n,r,a,c)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,c,u]=o;t("get",a,c,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Tn.error(a)}}return s}function rD(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=nD(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function sD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Cp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=30,oD=1e3;class aD{constructor(e={},n=oD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TC=new aD;function cD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function lD(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:cD(r)},i=W2.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function uD(t,e=TC,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw kn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new dD;return setTimeout(async()=>{a.abort()},G2),SC({appId:r,apiKey:s,measurementId:i},o,a,e)}async function SC(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=TC){var i;const{appId:o,measurementId:a}=t;try{await fD(r,e)}catch(c){if(a)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await lD(t);return s.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!hD(u)){if(s.deleteThrottleMetadata(o),a)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw c}const l=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?av(n,s.intervalMillis,iD):av(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return s.setThrottleMetadata(o,f),Tn.debug(`Calling attemptFetch again in ${l} millis`),SC(t,f,r,s)}}function fD(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hD(t){if(!(t instanceof or)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pD(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(){if(Jb())try{await Yb()}catch(t){return Tn.warn(kn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mD(t,e,n,r,s,i,o){var a;const c=uD(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Tn.error(p)),e.push(c);const u=gD().then(p=>{if(p)return r.getId()}),[l,f]=await Promise.all([c,u]);sD(i)||X2(i,l.measurementId),s("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[z2]="firebase",d.update=!0,f!=null&&(d[q2]=f),s("config",l.measurementId,d),l.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.app=e}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},_v=[];const bv={};let Qf="dataLayer",vD="gtag",Cv,IC,Ev=!1;function wD(){const t=[];if(Qb()&&t.push("This is a browser extension environment."),PM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function _D(t,e,n){wD();const r=t.options.appId;if(!r)throw kn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if($o[r]!=null)throw kn.create("already-exists",{id:r});if(!Ev){Z2(Qf);const{wrappedGtag:i,gtagCore:o}=rD($o,_v,bv,Qf,vD);IC=i,Cv=o,Ev=!0}return $o[r]=mD(t,_v,bv,e,Cv,Qf,n),new yD(t)}function bD(t=mp()){t=vn(t);const e=oi(t,hl);return e.isInitialized()?e.getImmediate():kC(t)}function kC(t,e={}){const n=oi(t,hl);if(n.isInitialized()){const s=n.getImmediate();if(sa(e,n.getOptions()))return s;throw kn.create("already-initialized")}return n.initialize({options:e})}function RC(t,e,n,r){t=vn(t),pD(IC,$o[t.app.options.appId],e,n,r).catch(s=>Tn.error(s))}const Tv="@firebase/analytics",Sv="0.10.0";function CD(){vr(new rr(hl,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return _D(r,s,n)},"PUBLIC")),vr(new rr("analytics-internal",t,"PRIVATE")),Kn(Tv,Sv),Kn(Tv,Sv,"esm2017");function t(e){try{const n=e.getProvider(hl).getImmediate();return{logEvent:(r,s,i)=>RC(n,r,s,i)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}CD();const ED=Object.freeze(Object.defineProperty({__proto__:null,getAnalytics:bD,initializeAnalytics:kC,logEvent:RC},Symbol.toStringTag,{value:"Module"}));function Ep(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function AC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=AC,PC=new ii("auth","Firebase",AC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new eu("@firebase/auth");function SD(t,...e){dl.logLevel<=st.WARN&&dl.warn(`Auth (${io}): ${t}`,...e)}function Mc(t,...e){dl.logLevel<=st.ERROR&&dl.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw Tp(t,...e)}function gr(t,...e){return Tp(t,...e)}function xC(t,e,n){const r=Object.assign(Object.assign({},TD()),{[e]:n});return new ii("auth","Firebase",r).create(e,{appName:t.name})}function ID(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(t,"argument-error"),xC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PC.create(t,...e)}function He(t,e,...n){if(!t)throw Tp(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mc(e),new Error(e)}function $r(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kD(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kD()||Qb()||"connection"in navigator)?navigator.onLine:!0}function AD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=kM()||RM()}get(){return RD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new xa(3e4,6e4);function NC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Oa(t,e,n,r,s={}){return MC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Pa(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),OC.fetch()(LC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function MC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PD),e);try{const s=new ND(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw pc(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xC(t,l,u);wr(t,l)}}catch(s){if(s instanceof or)throw s;wr(t,"network-request-failed",{message:String(s)})}}async function OD(t,e,n,r,s={}){const i=await Oa(t,e,n,r,s);return"mfaPendingCredential"in i&&wr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function LC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Sp(t.config,s):`${t.config.apiScheme}://${s}`}class ND{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),xD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){return Oa(t,"POST","/v1/accounts:delete",e)}async function LD(t,e){return Oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DD(t,e=!1){const n=vn(t),r=await n.getIdToken(e),s=Ip(r);He(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ho(Jf(s.auth_time)),issuedAtTime:Ho(Jf(s.iat)),expirationTime:Ho(Jf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jf(t){return Number(t)*1e3}function Ip(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const s=qb(n);return s?JSON.parse(s):(Mc("Failed to decode base64 JWT payload"),null)}catch(s){return Mc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function BD(t){const e=Ip(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof or&&UD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){var e;const n=t.auth,r=await t.getIdToken(),s=await oa(t,LD(n,{idToken:r}));He(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?HD(i.providerUserInfo):[],a=$D(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),l=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new DC(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,f)}async function jD(t){const e=vn(t);await pl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $D(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HD(t){return t.map(e=>{var{providerId:n}=e,r=Ep(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){const n=await MC(t,{},async()=>{const r=Pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=LC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return He(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new aa;return r&&(He(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(He(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(He(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new DC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DD(this,e)}reload(){return jD(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await oa(this,MD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,l;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,A=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:T,emailVerified:x,isAnonymous:L,providerData:S,stsTokenManager:E}=n;He(T&&E,e,"internal-error");const k=aa.fromJSON(this.name,E);He(typeof T=="string",e,"internal-error"),Yr(f,e.name),Yr(d,e.name),He(typeof x=="boolean",e,"internal-error"),He(typeof L=="boolean",e,"internal-error"),Yr(p,e.name),Yr(g,e.name),Yr(m,e.name),Yr(b,e.name),Yr(R,e.name),Yr(A,e.name);const v=new Ks({uid:T,auth:e,email:d,emailVerified:x,displayName:f,isAnonymous:L,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:k,createdAt:R,lastLoginAt:A});return S&&Array.isArray(S)&&(v.providerData=S.map(y=>Object.assign({},y))),b&&(v._redirectEventId=b),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new aa;s.updateFromServerResponse(n);const i=new Ks({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pl(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function xr(t){$r(t instanceof Function,"Expected a class definition");let e=kv.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BC.type="NONE";const Rv=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ni{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ni(xr(Rv),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||xr(Rv);const o=Lc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=await u._get(o);if(l){const f=Ks._fromJSON(e,l);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ni(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ni(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HC(e))return"Blackberry";if(VC(e))return"Webos";if(kp(e))return"Safari";if((e.includes("chrome/")||FC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UC(t=un()){return/firefox\//i.test(t)}function kp(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FC(t=un()){return/crios\//i.test(t)}function jC(t=un()){return/iemobile/i.test(t)}function $C(t=un()){return/android/i.test(t)}function HC(t=un()){return/blackberry/i.test(t)}function VC(t=un()){return/webos/i.test(t)}function ru(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KD(t=un()){var e;return ru(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qD(){return AM()&&document.documentMode===10}function KC(t=un()){return ru(t)||$C(t)||VC(t)||HC(t)||/windows phone/i.test(t)||jC(t)}function zD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e=[]){let n;switch(t){case"Browser":n=Av(un());break;case"Worker":n=`${Av(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}async function zC(t,e){return Oa(t,"GET","/v2/recaptchaConfig",NC(t,e))}function Pv(t){return t!==void 0&&t.enterprise!==void 0}class GC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function WC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=gr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",GD().appendChild(r)})}function WD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const QD="https://www.google.com/recaptcha/enterprise.js?render=",JD="recaptcha-enterprise",YD="NO_RECAPTCHA";class XD{constructor(e){this.type=JD,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{zC(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new GC(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;Pv(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(YD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Pv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}WC(QD+a).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new ZD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ni.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?vn(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}async initializeRecaptchaConfig(){const e=await zC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new GC(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new XD(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Ni.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return He(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Na(t){return vn(t)}class xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=LM(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e){const n=oi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(sa(i,e??{}))return s;wr(s,"already-initialized")}return n.initialize({options:e})}function nB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rB(t,e,n){const r=Na(t);He(r._canInitEmulator,r,"emulator-config-failed"),He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=QC(e),{host:o,port:a}=sB(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),iB()}function QC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sB(t){const e=QC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ov(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ov(o)}}}function Ov(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e){return OD(t,"POST","/v1/accounts:signInWithIdp",NC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="http://localhost";class Zs extends JC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ep(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Zs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:oB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Ma{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return is.credential(n,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ma{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ma{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return as.credential(n,r)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ks._fromIdTokenResponse(e,r,s),o=Nv(r);return new Gi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Nv(r);return new Gi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Nv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends or{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gl(e,n,r,s)}}function YC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gl._fromErrorAndOperation(t,i,e,r):i})}async function aB(t,e,n=!1){const r=await oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await oa(t,YC(r,s,e,t),n);He(i.idToken,r,"internal-error");const o=Ip(i.idToken);He(o,r,"internal-error");const{sub:a}=o;return He(t.uid===a,r,"user-mismatch"),Gi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e,n=!1){const r="signIn",s=await YC(t,r,e),i=await Gi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function uB(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function fB(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function N5(t){return vn(t).signOut()}const ml="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ml,"1"),this.storage.removeItem(ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(){const t=un();return kp(t)||ru(t)}const dB=1e3,pB=10;class ZC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hB()&&zD(),this.fallbackToPolling=KC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);qD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZC.type="LOCAL";const gB=ZC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eE.type="SESSION";const tE=eE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new su(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await mB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}su.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Ap("",20);s.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(l),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function vB(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function wB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _B(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bB(){return nE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firebaseLocalStorageDb",CB=1,yl="firebaseLocalStorage",sE="fbase_key";class La{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iu(t,e){return t.transaction([yl],e?"readwrite":"readonly").objectStore(yl)}function EB(){const t=indexedDB.deleteDatabase(rE);return new La(t).toPromise()}function Yh(){const t=indexedDB.open(rE,CB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yl,{keyPath:sE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yl)?e(r):(r.close(),await EB(),e(await Yh()))})})}async function Mv(t,e,n){const r=iu(t,!0).put({[sE]:e,value:n});return new La(r).toPromise()}async function TB(t,e){const n=iu(t,!1).get(e),r=await new La(n).toPromise();return r===void 0?null:r.value}function Lv(t,e){const n=iu(t,!0).delete(e);return new La(n).toPromise()}const SB=800,IB=3;class iE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=su._getInstance(bB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wB(),!this.activeServiceWorker)return;this.sender=new yB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_B()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yh();return await Mv(e,ml,"1"),await Lv(e,ml),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=iu(s,!1).getAll();return new La(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iE.type="LOCAL";const kB=iE;new xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){return e?xr(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends JC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RB(t){return lB(t.auth,new Pp(t),t.bypassAuthState)}function AB(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),cB(n,new Pp(t),t.bypassAuthState)}async function PB(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),aB(n,new Pp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RB;case"linkViaPopup":case"linkViaRedirect":return PB;case"reauthViaPopup":case"reauthViaRedirect":return AB;default:wr(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new xa(2e3,1e4);async function M5(t,e,n){const r=Na(t);ID(t,e,Rp);const s=oE(r,n);return new Ds(r,"signInViaPopup",e,s).executeNotNull()}class Ds extends aE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xB.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="pendingRedirect",Dc=new Map;class NB extends aE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await MB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MB(t,e){const n=BB(e),r=DB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LB(t,e){Dc.set(t._key(),e)}function DB(t){return xr(t._redirectPersistence)}function BB(t){return Lc(OB,t.config.apiKey,t.name)}async function UB(t,e,n=!1){const r=Na(t),s=oE(r,e),o=await new NB(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=10*60*1e3;class jB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$B(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FB&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(e))}saveEventToCache(e){this.cachedEventUids.add(Dv(e)),this.lastProcessedEventTime=Date.now()}}function Dv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $B(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t,e={}){return Oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KB=/^https?/;async function qB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HB(t);for(const n of e)try{if(zB(n))return}catch{}wr(t,"unauthorized-domain")}function zB(t){const e=Jh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KB.test(n))return!1;if(VB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new xa(3e4,6e4);function Bv(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WB(t){return new Promise((e,n)=>{var r,s,i;function o(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),n(gr(t,"network-request-failed"))},timeout:GB.get()})}if(!((s=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=mr().gapi)===null||i===void 0)&&i.load)o();else{const a=WD("iframefcb");return mr()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},WC(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function QB(t){return Bc=Bc||WB(t),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new xa(5e3,15e3),YB="__/auth/iframe",XB="emulator/auth/iframe",ZB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t4(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sp(e,XB):`https://${t.config.authDomain}/${YB}`,r={apiKey:e.apiKey,appName:t.name,v:io},s=e4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Pa(r).slice(1)}`}async function n4(t){const e=await QB(t),n=mr().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:t4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),a=mr().setTimeout(()=>{i(o)},JB.get());function c(){mr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s4=500,i4=600,o4="_blank",a4="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(t,e,n,r=s4,s=i4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},r4),{width:r.toString(),height:s.toString(),top:i,left:o}),u=un().toLowerCase();n&&(a=FC(u)?o4:n),UC(u)&&(e=e||a4,c.scrollbars="yes");const l=Object.entries(c).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(KD(u)&&a!=="_self")return l4(e||"",a),new Uv(null);const f=window.open(e||"",a,l);He(f,t,"popup-blocked");try{f.focus()}catch{}return new Uv(f)}function l4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="__/auth/handler",f4="emulator/auth/handler",h4=encodeURIComponent("fac");async function Fv(t,e,n,r,s,i){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:s};if(e instanceof Rp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,f]of Object.entries({}))o[l]=f}if(e instanceof Ma){const l=e.getScopes().filter(f=>f!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];const c=await t._getAppCheckToken(),u=c?`#${h4}=${encodeURIComponent(c)}`:"";return`${d4(t)}?${Pa(a).slice(1)}${u}`}function d4({config:t}){return t.emulator?Sp(t,f4):`https://${t.authDomain}/${u4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="webStorageSupport";class p4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=UB,this._overrideRedirectResult=LB}async _openPopup(e,n,r,s){var i;$r((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Fv(e,n,r,Jh(),s);return c4(e,o,Ap())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Fv(e,n,r,Jh(),s);return vB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($r(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n4(e),r=new jB(e);return n.register("authEvent",s=>(He(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yf,{type:Yf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Yf];o!==void 0&&n(!!o),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KC()||kp()||ru()}}const g4=p4;var jv="@firebase/auth",$v="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function v4(t){vr(new rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;He(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(t)},u=new eB(r,s,i,c);return nB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new rr("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new m4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(jv,$v,y4(t)),Kn(jv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=5*60,_4=Wb("authIdTokenMaxAge")||w4;let Hv=null;const b4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_4)return;const s=n==null?void 0:n.token;Hv!==s&&(Hv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function C4(t=mp()){const e=oi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tB(t,{popupRedirectResolver:g4,persistence:[kB,gB,tE]}),r=Wb("authTokenSyncURL");if(r){const i=b4(r);fB(n,i,()=>i(n.currentUser)),uB(n,o=>i(o))}const s=zb("auth");return s&&rB(n,`http://${s}`),n}v4("Browser");var E4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be,xp=xp||{},je=E4||self;function ou(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function au(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function T4(t,e,n){return t.call.apply(t.bind,arguments)}function S4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?an=T4:an=S4,an.apply(null,arguments)}function gc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Cs(){this.s=this.s,this.o=this.o}var I4=0;Cs.prototype.s=!1;Cs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),I4!=0)};Cs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Op(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ou(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var k4=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{je.addEventListener("test",()=>{},e),je.removeEventListener("test",()=>{},e)}catch{}return t}();function ca(t){return/^[\s\xa0]*$/.test(t)}function cu(){var t=je.navigator;return t&&(t=t.userAgent)?t:""}function fr(t){return cu().indexOf(t)!=-1}function Np(t){return Np[" "](t),t}Np[" "]=function(){};function R4(t,e){var n=bU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var A4=fr("Opera"),Wi=fr("Trident")||fr("MSIE"),uE=fr("Edge"),Xh=uE||Wi,fE=fr("Gecko")&&!(cu().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge"))&&!(fr("Trident")||fr("MSIE"))&&!fr("Edge"),P4=cu().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge");function hE(){var t=je.document;return t?t.documentMode:void 0}var Zh;e:{var Xf="",Zf=function(){var t=cu();if(fE)return/rv:([^\);]+)(\)|;)/.exec(t);if(uE)return/Edge\/([\d\.]+)/.exec(t);if(Wi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(P4)return/WebKit\/(\S+)/.exec(t);if(A4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Zf&&(Xf=Zf?Zf[1]:""),Wi){var eh=hE();if(eh!=null&&eh>parseFloat(Xf)){Zh=String(eh);break e}}Zh=Xf}var ed;if(je.document&&Wi){var Kv=hE();ed=Kv||parseInt(Zh,10)||void 0}else ed=void 0;var x4=ed;function la(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fE){e:{try{Np(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:O4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&la.$.h.call(this)}}zt(la,cn);var O4={2:"touch",3:"pen",4:"mouse"};la.prototype.h=function(){la.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lu="closure_listenable_"+(1e6*Math.random()|0),N4=0;function M4(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++N4,this.fa=this.ia=!1}function uu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function L4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function dE(t){const e={};for(const n in t)e[n]=t[n];return e}const qv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pE(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<qv.length;i++)n=qv[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fu(t){this.src=t,this.g={},this.h=0}fu.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=nd(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new M4(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function td(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=lE(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(uu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function nd(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Lp="closure_lm_"+(1e6*Math.random()|0),th={};function gE(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)gE(t,e[i],n,r,s);return null}return n=vE(n),t&&t[lu]?t.O(e,n,au(r)?!!r.capture:!1,s):D4(t,e,n,!1,r,s)}function D4(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=au(s)?!!s.capture:!!s,a=Bp(t);if(a||(t[Lp]=a=new fu(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=B4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)k4||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(yE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function B4(){function t(n){return e.call(t.src,t.listener,n)}const e=U4;return t}function mE(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)mE(t,e[i],n,r,s);else r=au(r)?!!r.capture:!!r,n=vE(n),t&&t[lu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=nd(i,n,r,s),-1<n&&(uu(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=nd(e,n,r,s)),(n=-1<t?e[t]:null)&&Dp(n))}function Dp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[lu])td(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bp(e))?(td(n,t),n.h==0&&(n.src=null,e[Lp]=null)):uu(t)}}}function yE(t){return t in th?th[t]:th[t]="on"+t}function U4(t,e){if(t.fa)t=!0;else{e=new la(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Dp(t),t=n.call(r,e)}return t}function Bp(t){return t=t[Lp],t instanceof fu?t:null}var nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function vE(t){return typeof t=="function"?t:(t[nh]||(t[nh]=function(e){return t.handleEvent(e)}),t[nh])}function qt(){Cs.call(this),this.i=new fu(this),this.S=this,this.J=null}zt(qt,Cs);qt.prototype[lu]=!0;qt.prototype.removeEventListener=function(t,e,n,r){mE(this,t,e,n,r)};function Xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var s=e;e=new cn(r,t),pE(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=mc(o,r,!0,e)&&s}if(o=e.g=t,s=mc(o,r,!0,e)&&s,s=mc(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=mc(o,r,!1,e)&&s}qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uu(n[r]);delete t.g[e],t.h--}}this.J=null};qt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};qt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function mc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&td(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Up=je.JSON.stringify;class F4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function j4(){var t=Fp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class $4{constructor(){this.h=this.g=null}add(e,n){const r=wE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wE=new F4(()=>new H4,t=>t.reset());class H4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function V4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function K4(t){je.setTimeout(()=>{throw t},0)}let ua,fa=!1,Fp=new $4,_E=()=>{const t=je.Promise.resolve(void 0);ua=()=>{t.then(q4)}};var q4=()=>{for(var t;t=j4();){try{t.h.call(t.g)}catch(n){K4(n)}var e=wE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fa=!1};function hu(t,e){qt.call(this),this.h=t||1,this.g=e||je,this.j=an(this.qb,this),this.l=Date.now()}zt(hu,qt);be=hu.prototype;be.ga=!1;be.T=null;be.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xt(this,"tick"),this.ga&&(jp(this),this.start()))}};be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}be.N=function(){hu.$.N.call(this),jp(this),delete this.g};function $p(t,e,n){if(typeof t=="function")n&&(t=an(t,n));else if(t&&typeof t.handleEvent=="function")t=an(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:je.setTimeout(t,e||0)}function bE(t){t.g=$p(()=>{t.g=null,t.i&&(t.i=!1,bE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z4 extends Cs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bE(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(t){Cs.call(this),this.h=t,this.g={}}zt(ha,Cs);var zv=[];function CE(t,e,n,r){Array.isArray(n)||(n&&(zv[0]=n.toString()),n=zv);for(var s=0;s<n.length;s++){var i=gE(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function EE(t){Mp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dp(e)},t),t.g={}}ha.prototype.N=function(){ha.$.N.call(this),EE(this)};ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function du(){this.g=!0}du.prototype.Ea=function(){this.g=!1};function G4(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var f=l.split("_");o=2<=f.length&&f[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function W4(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ei(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+J4(t,n)+(r?" "+r:"")})}function Q4(t,e){t.info(function(){return"TIMEOUT: "+e})}du.prototype.info=function(){};function J4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Up(n)}catch{return e}}var ai={},Gv=null;function pu(){return Gv=Gv||new qt}ai.Ta="serverreachability";function TE(t){cn.call(this,ai.Ta,t)}zt(TE,cn);function da(t){const e=pu();Xt(e,new TE(e))}ai.STAT_EVENT="statevent";function SE(t,e){cn.call(this,ai.STAT_EVENT,t),this.stat=e}zt(SE,cn);function yn(t){const e=pu();Xt(e,new SE(e,t))}ai.Ua="timingevent";function IE(t,e){cn.call(this,ai.Ua,t),this.size=e}zt(IE,cn);function Da(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){t()},e)}var gu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hp(){}Hp.prototype.h=null;function Wv(t){return t.h||(t.h=t.i())}function RE(){}var Ba={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vp(){cn.call(this,"d")}zt(Vp,cn);function Kp(){cn.call(this,"c")}zt(Kp,cn);var rd;function mu(){}zt(mu,Hp);mu.prototype.g=function(){return new XMLHttpRequest};mu.prototype.i=function(){return{}};rd=new mu;function Ua(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ha(this),this.P=Y4,t=Xh?125:void 0,this.V=new hu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AE}function AE(){this.i=null,this.g="",this.h=!1}var Y4=45e3,sd={},vl={};be=Ua.prototype;be.setTimeout=function(t){this.P=t};function id(t,e,n){t.L=1,t.v=vu(Hr(e)),t.s=n,t.S=!0,PE(t,null)}function PE(t,e){t.G=Date.now(),Fa(t),t.A=Hr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),UE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new AE,t.g=iT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new z4(an(t.Pa,t,t.g),t.O)),CE(t.U,t.g,"readystatechange",t.nb),e=t.I?dE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),da(),G4(t.j,t.u,t.A,t.m,t.W,t.s)}be.nb=function(t){t=t.target;const e=this.M;e&&hr(t)==3?e.l():this.Pa(t)};be.Pa=function(t){try{if(t==this.g)e:{const l=hr(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>l)&&(l!=3||Xh||this.g&&(this.h.h||this.g.ja()||Xv(this.g)))){this.J||l!=4||e==7||(e==8||0>=f?da(3):da(2)),yu(this);var n=this.g.da();this.ca=n;t:if(xE(this)){var r=Xv(this.g);t="";var s=r.length,i=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),Vo(this);var o="";break t}this.h.i=new je.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,W4(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ca(a)){var u=a;break t}}u=null}if(n=u)Ei(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,od(this,n);else{this.i=!1,this.o=3,yn(12),Bs(this),Vo(this);break e}}this.S?(OE(this,l,o),Xh&&this.i&&l==3&&(CE(this.U,this.V,"tick",this.mb),this.V.start())):(Ei(this.j,this.m,o,null),od(this,o)),l==4&&Bs(this),this.i&&!this.J&&(l==4?tT(this.l,this):(this.i=!1,Fa(this)))}else vU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,yn(12)):(this.o=0,yn(13)),Bs(this),Vo(this)}}}catch{}finally{}};function xE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function OE(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=X4(t,n),s==vl){e==4&&(t.o=4,yn(14),r=!1),Ei(t.j,t.m,null,"[Incomplete Response]");break}else if(s==sd){t.o=4,yn(15),Ei(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ei(t.j,t.m,s,null),od(t,s);xE(t)&&s!=vl&&s!=sd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,yn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jp(e),e.M=!0,yn(11))):(Ei(t.j,t.m,n,"[Invalid Chunked Response]"),Bs(t),Vo(t))}be.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.C<e.length&&(yu(this),OE(this,t,e),this.i&&t!=4&&Fa(this))}};function X4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vl:(n=Number(e.substring(n,r)),isNaN(n)?sd:(r+=1,r+n>e.length?vl:(e=e.slice(r,r+n),t.C=r+n,e)))}be.cancel=function(){this.J=!0,Bs(this)};function Fa(t){t.Y=Date.now()+t.P,NE(t,t.P)}function NE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Da(an(t.lb,t),e)}function yu(t){t.B&&(je.clearTimeout(t.B),t.B=null)}be.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Q4(this.j,this.A),this.L!=2&&(da(),yn(17)),Bs(this),this.o=2,Vo(this)):NE(this,this.Y-t)};function Vo(t){t.l.H==0||t.J||tT(t.l,t)}function Bs(t){yu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jp(t.V),EE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function od(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ad(n.i,t))){if(!t.K&&ad(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)bl(n),bu(n);else break e;Qp(n),yn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Da(an(n.ib,n),6e3));if(1>=$E(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Us(n,11)}else if((t.K||n.g==t)&&bl(n),!ca(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(qp(i,i.h),i.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,wt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sT(r,r.J?r.pa:null,r.Y),o.K){HE(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(yu(a),Fa(a)),r.g=o}else ZE(r);0<n.j.length&&Cu(n)}else u[0]!="stop"&&u[0]!="close"||Us(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Us(n,7):Wp(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}da(4)}catch{}}function Z4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ou(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function eU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ou(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ME(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ou(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=eU(t),r=Z4(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var LE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function qs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qs){this.h=t.h,wl(this,t.j),this.s=t.s,this.g=t.g,_l(this,t.m),this.l=t.l;var e=t.i,n=new pa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Qv(this,n),this.o=t.o}else t&&(e=String(t).match(LE))?(this.h=!1,wl(this,e[1]||"",!0),this.s=So(e[2]||""),this.g=So(e[3]||"",!0),_l(this,e[4]),this.l=So(e[5]||"",!0),Qv(this,e[6]||"",!0),this.o=So(e[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}qs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Io(e,Jv,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Io(e,Jv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Io(n,n.charAt(0)=="/"?sU:rU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Io(n,oU)),t.join("")};function Hr(t){return new qs(t)}function wl(t,e,n){t.j=n?So(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Qv(t,e,n){e instanceof pa?(t.i=e,aU(t.i,t.h)):(n||(e=Io(e,iU)),t.i=new pa(e,t.h))}function wt(t,e,n){t.i.set(e,n)}function vu(t){return wt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function So(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Io(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Jv=/[#\/\?@]/g,rU=/[#\?:]/g,sU=/[#\?]/g,iU=/[#\?@]/g,oU=/#/g;function pa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Es(t){t.g||(t.g=new Map,t.h=0,t.i&&tU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}be=pa.prototype;be.add=function(t,e){Es(this),this.i=null,t=oo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function DE(t,e){Es(t),e=oo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BE(t,e){return Es(t),e=oo(t,e),t.g.has(e)}be.forEach=function(t,e){Es(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};be.ta=function(){Es(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};be.Z=function(t){Es(this);let e=[];if(typeof t=="string")BE(this,t)&&(e=e.concat(this.g.get(oo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};be.set=function(t,e){return Es(this),this.i=null,t=oo(this,t),BE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};be.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function UE(t,e,n){DE(t,e),0<n.length&&(t.i=null,t.g.set(oo(t,e),Op(n)),t.h+=n.length)}be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function oo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aU(t,e){e&&!t.j&&(Es(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(DE(this,r),UE(this,s,n))},t)),t.j=e}var cU=class{constructor(t,e){this.g=t,this.map=e}};function FE(t){this.l=t||lU,je.PerformanceNavigationTiming?(t=je.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(je.g&&je.g.Ka&&je.g.Ka()&&je.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lU=10;function jE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $E(t){return t.h?1:t.g?t.g.size:0}function ad(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qp(t,e){t.g?t.g.add(e):t.h=e}function HE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FE.prototype.cancel=function(){if(this.i=VE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function VE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Op(t.i)}var uU=class{stringify(t){return je.JSON.stringify(t,void 0)}parse(t){return je.JSON.parse(t,void 0)}};function fU(){this.g=new uU}function hU(t,e,n){const r=n||"";try{ME(t,function(s,i){let o=s;au(s)&&(o=Up(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function dU(t,e){const n=new du;if(je.Image){const r=new Image;r.onload=gc(yc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gc(yc,n,r,"TestLoadImage: error",!1,e),r.onabort=gc(yc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gc(yc,n,r,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function yc(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ja(t){this.l=t.fc||null,this.j=t.ob||!1}zt(ja,Hp);ja.prototype.g=function(){return new wu(this.l,this.j)};ja.prototype.i=function(t){return function(){return t}}({});function wu(t,e){qt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt(wu,qt);var zp=0;be=wu.prototype;be.open=function(t,e){if(this.readyState!=zp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ga(this)};be.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=zp};be.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function KE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}be.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$a(this):ga(this),this.readyState==3&&KE(this)}};be.Za=function(t){this.g&&(this.response=this.responseText=t,$a(this))};be.Ya=function(t){this.g&&(this.response=t,$a(this))};be.ka=function(){this.g&&$a(this)};function $a(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ga(t)}be.setRequestHeader=function(t,e){this.v.append(t,e)};be.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};be.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var pU=je.JSON.parse;function Rt(t){qt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qE,this.L=this.M=!1}zt(Rt,qt);var qE="",gU=/^https?$/i,mU=["POST","PUT"];be=Rt.prototype;be.Oa=function(t){this.M=t};be.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rd.g(),this.C=this.u?Wv(this.u):Wv(rd),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Yv(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=je.FormData&&t instanceof je.FormData,!(0<=lE(mU,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WE(this),0<this.B&&((this.L=yU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=$p(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Yv(this,i)}};function yU(t){return Wi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}be.ua=function(){typeof xp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))};function Yv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zE(t),_u(t)}function zE(t){t.F||(t.F=!0,Xt(t,"complete"),Xt(t,"error"))}be.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xt(this,"complete"),Xt(this,"abort"),_u(this))};be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_u(this,!0)),Rt.$.N.call(this)};be.La=function(){this.s||(this.G||this.v||this.l?GE(this):this.kb())};be.kb=function(){GE(this)};function GE(t){if(t.h&&typeof xp<"u"&&(!t.C[1]||hr(t)!=4||t.da()!=2)){if(t.v&&hr(t)==4)$p(t.La,0,t);else if(Xt(t,"readystatechange"),hr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(LE)[1]||null;!s&&je.self&&je.self.location&&(s=je.self.location.protocol.slice(0,-1)),r=!gU.test(s?s.toLowerCase():"")}n=r}if(n)Xt(t,"complete"),Xt(t,"success");else{t.m=6;try{var i=2<hr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",zE(t)}}finally{_u(t)}}}}function _u(t,e){if(t.g){WE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function WE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(je.clearTimeout(t.A),t.A=null)}be.isActive=function(){return!!this.g};function hr(t){return t.g?t.g.readyState:0}be.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}};be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};be.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pU(e)}};function Xv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case qE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vU(t){const e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ca(t[r]))continue;var n=V4(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}L4(e,function(r){return r.join(", ")})}be.Ia=function(){return this.m};be.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QE(t){let e="";return Mp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):wt(t,e,n))}function bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JE(t){this.Ga=0,this.j=[],this.l=new du,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bo("baseRetryDelayMs",5e3,t),this.hb=bo("retryDelaySeedMs",1e4,t),this.eb=bo("forwardChannelMaxRetries",2,t),this.xa=bo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FE(t&&t.concurrentRequestLimit),this.Ja=new fU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}be=JE.prototype;be.ra=8;be.H=1;function Wp(t){if(YE(t),t.H==3){var e=t.W++,n=Hr(t.I);if(wt(n,"SID",t.K),wt(n,"RID",e),wt(n,"TYPE","terminate"),Ha(t,n),e=new Ua(t,t.l,e),e.L=2,e.v=vu(Hr(n)),n=!1,je.navigator&&je.navigator.sendBeacon)try{n=je.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&je.Image&&(new Image().src=e.v,n=!0),n||(e.g=iT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fa(e)}rT(t)}function bu(t){t.g&&(Jp(t),t.g.cancel(),t.g=null)}function YE(t){bu(t),t.u&&(je.clearTimeout(t.u),t.u=null),bl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&je.clearTimeout(t.m),t.m=null)}function Cu(t){if(!jE(t.i)&&!t.m){t.m=!0;var e=t.Na;ua||_E(),fa||(ua(),fa=!0),Fp.add(e,t),t.C=0}}function wU(t,e){return $E(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Da(an(t.Na,t,e),nT(t,t.C)),t.C++,!0)}be.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Ua(this,this.l,t);let i=this.s;if(this.U&&(i?(i=dE(i),pE(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XE(this,s,e),n=Hr(this.I),wt(n,"RID",t),wt(n,"CVER",22),this.F&&wt(n,"X-HTTP-Session-Id",this.F),Ha(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(QE(i)))+"&"+e:this.o&&Gp(n,this.o,i)),qp(this.i,s),this.bb&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",e),wt(n,"SID","null"),s.aa=!0,id(s,n,null)):id(s,n,e),this.H=2}}else this.H==3&&(t?Zv(this,t):this.j.length==0||jE(this.i)||Zv(this))};function Zv(t,e){var n;e?n=e.m:n=t.W++;const r=Hr(t.I);wt(r,"SID",t.K),wt(r,"RID",n),wt(r,"AID",t.V),Ha(t,r),t.o&&t.s&&Gp(r,t.o,t.s),n=new Ua(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qp(t.i,n),id(n,r,e)}function Ha(t,e){t.na&&Mp(t.na,function(n,r){wt(e,r,n)}),t.h&&ME({},function(n,r){wt(e,r,n)})}function XE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?an(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let u=s[c].g;const l=s[c].map;if(u-=i,0>u)i=Math.max(0,s[c].g-100),a=!1;else try{hU(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ZE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ua||_E(),fa||(ua(),fa=!0),Fp.add(e,t),t.A=0}}function Qp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Da(an(t.Ma,t),nT(t,t.A)),t.A++,!0)}be.Ma=function(){if(this.u=null,eT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Da(an(this.jb,this),t)}};be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yn(10),bu(this),eT(this))};function Jp(t){t.B!=null&&(je.clearTimeout(t.B),t.B=null)}function eT(t){t.g=new Ua(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Hr(t.wa);wt(e,"RID","rpc"),wt(e,"SID",t.K),wt(e,"AID",t.V),wt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&wt(e,"TO",t.qa),wt(e,"TYPE","xmlhttp"),Ha(t,e),t.o&&t.s&&Gp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=vu(Hr(e)),n.s=null,n.S=!0,PE(n,t)}be.ib=function(){this.v!=null&&(this.v=null,bu(this),Qp(this),yn(19))};function bl(t){t.v!=null&&(je.clearTimeout(t.v),t.v=null)}function tT(t,e){var n=null;if(t.g==e){bl(t),Jp(t),t.g=null;var r=2}else if(ad(t.i,e))n=e.F,HE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=pu(),Xt(r,new IE(r,n)),Cu(t)}else ZE(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&wU(t,e)||r==2&&Qp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}}function nT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Us(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=an(t.pb,t);n||(n=new qs("//www.google.com/images/cleardot.gif"),je.location&&je.location.protocol=="http"||wl(n,"https"),vu(n)),dU(n.toString(),r)}else yn(2);t.H=0,t.h&&t.h.za(e),rT(t),YE(t)}be.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yn(2)):(this.l.info("Failed to ping google.com"),yn(1))};function rT(t){if(t.H=0,t.ma=[],t.h){const e=VE(t.i);(e.length!=0||t.j.length!=0)&&(Vv(t.ma,e),Vv(t.ma,t.j),t.i.i.length=0,Op(t.j),t.j.length=0),t.h.ya()}}function sT(t,e,n){var r=n instanceof qs?Hr(n):new qs(n);if(r.g!="")e&&(r.g=e+"."+r.g),_l(r,r.m);else{var s=je.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new qs(null);r&&wl(i,r),e&&(i.g=e),s&&_l(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&wt(r,n,e),wt(r,"VER",t.ra),Ha(t,r),r}function iT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Rt(new ja({ob:!0})):new Rt(t.va),e.Oa(t.J),e}be.isActive=function(){return!!this.h&&this.h.isActive(this)};function oT(){}be=oT.prototype;be.Ba=function(){};be.Aa=function(){};be.za=function(){};be.ya=function(){};be.isActive=function(){return!0};be.Va=function(){};function Cl(){if(Wi&&!(10<=Number(x4)))throw Error("Environmental error: no available transport.")}Cl.prototype.g=function(t,e){return new Nn(t,e)};function Nn(t,e){qt.call(this),this.g=new JE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ca(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ca(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ao(this)}zt(Nn,qt);Nn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sT(t,null,t.Y),Cu(t)};Nn.prototype.close=function(){Wp(this.g)};Nn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Up(t),t=n);e.j.push(new cU(e.fb++,t)),e.H==3&&Cu(e)};Nn.prototype.N=function(){this.g.h=null,delete this.j,Wp(this.g),delete this.g,Nn.$.N.call(this)};function aT(t){Vp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}zt(aT,Vp);function cT(){Kp.call(this),this.status=1}zt(cT,Kp);function ao(t){this.g=t}zt(ao,oT);ao.prototype.Ba=function(){Xt(this.g,"a")};ao.prototype.Aa=function(t){Xt(this.g,new aT(t))};ao.prototype.za=function(t){Xt(this.g,new cT)};ao.prototype.ya=function(){Xt(this.g,"b")};function _U(){this.blockSize=-1}function sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}zt(sr,_U);sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function rh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}sr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)rh(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){rh(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){rh(this,r),s=0;break}}this.h=s,this.i+=e};sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ht(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var bU={};function Yp(t){return-128<=t&&128>t?R4(t,function(e){return new ht([e|0],0>e?-1:0)}):new ht([t|0],0>t?-1:0)}function dr(t){if(isNaN(t)||!isFinite(t))return Li;if(0>t)return Yt(dr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cd;return new ht(e,0)}function lT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Yt(lT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dr(Math.pow(e,8)),r=Li,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=dr(Math.pow(e,i)),r=r.R(i).add(dr(o))):(r=r.R(n),r=r.add(dr(o)))}return r}var cd=4294967296,Li=Yp(0),ld=Yp(1),e0=Yp(16777216);be=ht.prototype;be.ea=function(){if(jn(this))return-Yt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cd+r)*e,e*=cd}return t};be.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Or(this))return"0";if(jn(this))return"-"+Yt(this).toString(t);for(var e=dr(Math.pow(t,6)),n=this,r="";;){var s=Tl(n,e).g;n=El(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Or(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};be.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function jn(t){return t.h==-1}be.X=function(t){return t=El(this,t),jn(t)?-1:Or(t)?0:1};function Yt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ht(n,~t.h).add(ld)}be.abs=function(){return jn(this)?Yt(this):this};be.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ht(n,n[n.length-1]&-2147483648?-1:0)};function El(t,e){return t.add(Yt(e))}be.R=function(t){if(Or(this)||Or(t))return Li;if(jn(this))return jn(t)?Yt(this).R(Yt(t)):Yt(Yt(this).R(t));if(jn(t))return Yt(this.R(Yt(t)));if(0>this.X(e0)&&0>t.X(e0))return dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,vc(n,2*r+2*s),n[2*r+2*s+1]+=i*c,vc(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,vc(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,vc(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ht(n,0)};function vc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Co(t,e){this.g=t,this.h=e}function Tl(t,e){if(Or(e))throw Error("division by zero");if(Or(t))return new Co(Li,Li);if(jn(t))return e=Tl(Yt(t),e),new Co(Yt(e.g),Yt(e.h));if(jn(e))return e=Tl(t,Yt(e)),new Co(Yt(e.g),e.h);if(30<t.g.length){if(jn(t)||jn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ld,r=e;0>=r.X(t);)n=t0(n),r=t0(r);var s=gi(n,1),i=gi(r,1);for(r=gi(r,2),n=gi(n,2);!Or(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=gi(r,1),n=gi(n,1)}return e=El(t,s.R(e)),new Co(s,e)}for(s=Li;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=dr(n),o=i.R(e);jn(o)||0<o.X(t);)n-=r,i=dr(n),o=i.R(e);Or(i)&&(i=ld),s=s.add(i),t=El(t,o)}return new Co(s,t)}be.gb=function(t){return Tl(this,t).h};be.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ht(n,this.h&t.h)};be.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ht(n,this.h|t.h)};be.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ht(n,this.h^t.h)};function t0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ht(n,t.h)}function gi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ht(s,t.h)}Cl.prototype.createWebChannel=Cl.prototype.g;Nn.prototype.send=Nn.prototype.u;Nn.prototype.open=Nn.prototype.m;Nn.prototype.close=Nn.prototype.close;gu.NO_ERROR=0;gu.TIMEOUT=8;gu.HTTP_ERROR=6;kE.COMPLETE="complete";RE.EventType=Ba;Ba.OPEN="a";Ba.CLOSE="b";Ba.ERROR="c";Ba.MESSAGE="d";qt.prototype.listen=qt.prototype.O;Rt.prototype.listenOnce=Rt.prototype.P;Rt.prototype.getLastError=Rt.prototype.Sa;Rt.prototype.getLastErrorCode=Rt.prototype.Ia;Rt.prototype.getStatus=Rt.prototype.da;Rt.prototype.getResponseJson=Rt.prototype.Wa;Rt.prototype.getResponseText=Rt.prototype.ja;Rt.prototype.send=Rt.prototype.ha;Rt.prototype.setWithCredentials=Rt.prototype.Oa;sr.prototype.digest=sr.prototype.l;sr.prototype.reset=sr.prototype.reset;sr.prototype.update=sr.prototype.j;ht.prototype.add=ht.prototype.add;ht.prototype.multiply=ht.prototype.R;ht.prototype.modulo=ht.prototype.gb;ht.prototype.compare=ht.prototype.X;ht.prototype.toNumber=ht.prototype.ea;ht.prototype.toString=ht.prototype.toString;ht.prototype.getBits=ht.prototype.D;ht.fromNumber=dr;ht.fromString=lT;var CU=function(){return new Cl},EU=function(){return pu()},sh=gu,TU=kE,SU=ai,n0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IU=ja,wc=RE,kU=Rt,RU=sr,Di=ht;const r0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new eu("@firebase/firestore");function s0(){return ei.logLevel}function xe(t,...e){if(ei.logLevel<=st.DEBUG){const n=e.map(Xp);ei.debug(`Firestore (${co}): ${t}`,...n)}}function Vr(t,...e){if(ei.logLevel<=st.ERROR){const n=e.map(Xp);ei.error(`Firestore (${co}): ${t}`,...n)}}function Qi(t,...e){if(ei.logLevel<=st.WARN){const n=e.map(Xp);ei.warn(`Firestore (${co}): ${t}`,...n)}}function Xp(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function Et(t,e){t||Fe()}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class PU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xU{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new uT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new nn(e)}}class OU{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class NU{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new OU(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LU{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.T=n.token,new MU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=DU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function Ji(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $e(e)}static min(){return new $e(new $t(0,0))}static max(){return new $e(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _t extends ma{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const BU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ma{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return BU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ie(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Ie(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Ie(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(_t.fromString(e))}static fromName(e){return new Ne(_t.fromString(e).popFirst(5))}static empty(){return new Ne(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new _t(e.slice()))}}function UU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new vs(s,Ne.empty(),e)}function FU(t){return new vs(t.readTime,t.key,-1)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs($e.min(),Ne.empty(),-1)}static max(){return new vs($e.max(),Ne.empty(),-1)}}function jU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==$U)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,r)=>{n(e)})}static reject(e){return new ue((n,r)=>{r(e)})}static waitFor(e){return new ue((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next(s=>s?ue.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ue((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===i&&r(o)},l=>s(l))}})}static doWhile(e,n){return new ue((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Zp.ct=-1;function Eu(t){return t==null}function Sl(t){return t===0&&1/t==-1/0}function VU(t){return typeof t=="number"&&Number.isInteger(t)&&!Sl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=s??Wt.EMPTY,this.right=i??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Wt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Wt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new ln(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dT("Invalid base64 string: "+s):s}}(e);return new fn(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const KU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(Et(!!t),typeof t=="string"){let e=0;const n=KU.exec(t);if(Et(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tg(t){const e=t.mapValue.fields.__previous_value__;return eg(e)?tg(e):e}function ya(t){const e=ws(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r,s,i,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new va("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{}};function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eg(t)?4:zU(t)?9007199254740991:10:Fe()}function _r(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ya(t).isEqual(ya(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=ws(r.timestampValue),o=ws(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ti(r.bytesValue).isEqual(ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Nt(r.geoPointValue.latitude)===Nt(s.geoPointValue.latitude)&&Nt(r.geoPointValue.longitude)===Nt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Nt(r.integerValue)===Nt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Nt(r.doubleValue),o=Nt(s.doubleValue);return i===o?Sl(i)===Sl(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Ji(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(i0(i)!==i0(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!_r(i[a],o[a])))return!1;return!0}(t,e);default:return Fe()}}function wa(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Yi(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Nt(s.integerValue||s.doubleValue),a=Nt(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return a0(t.timestampValue,e.timestampValue);case 4:return a0(ya(t),ya(e));case 5:return ot(t.stringValue,e.stringValue);case 6:return function(s,i){const o=ti(s),a=ti(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=ot(o[c],a[c]);if(u!==0)return u}return ot(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=ot(Nt(s.latitude),Nt(i.latitude));return o!==0?o:ot(Nt(s.longitude),Nt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Yi(o[c],a[c]);if(u)return u}return ot(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===bc.mapValue&&i===bc.mapValue)return 0;if(s===bc.mapValue)return 1;if(i===bc.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),c=i.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const f=ot(a[l],u[l]);if(f!==0)return f;const d=Yi(o[a[l]],c[u[l]]);if(d!==0)return d}return ot(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function a0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=ws(t),r=ws(e),s=ot(n.seconds,r.seconds);return s!==0?s:ot(n.nanos,r.nanos)}function Xi(t){return ud(t)}function ud(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=ws(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ti(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ne.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=ud(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${ud(r.fields[a])}`;return i+"}"}(t.mapValue):Fe();var e,n}function c0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fd(t){return!!t&&"integerValue"in t}function ng(t){return!!t&&"arrayValue"in t}function l0(t){return!!t&&"nullValue"in t}function u0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function Ko(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ko(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=on.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ko(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $n(Ko(this.value))}}function pT(t){const e=[];return lo(t.fields,(n,r)=>{const s=new on([n]);if(Uc(r)){const i=pT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sn(e,0,$e.min(),$e.min(),$e.min(),$n.empty(),0)}static newFoundDocument(e,n,r,s){return new sn(e,1,n,$e.min(),r,s,0)}static newNoDocument(e,n){return new sn(e,2,n,$e.min(),$e.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,$e.min(),$e.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.position=e,this.inclusive=n}}function f0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ne.comparator(Ne.fromName(o.referenceValue),n.key):r=Yi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function h0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n="asc"){this.field=e,this.dir=n}}function GU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class Lt extends gT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QU(e,n,r):n==="array-contains"?new XU(e,r):n==="in"?new ZU(e,r):n==="not-in"?new eF(e,r):n==="array-contains-any"?new tF(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JU(e,r):new YU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yi(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(Yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ir extends gT{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ir(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function mT(t){return t.op==="and"}function yT(t){return WU(t)&&mT(t)}function WU(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function hd(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+Xi(t.value);if(yT(t))return t.filters.map(e=>hd(e)).join(",");{const e=t.filters.map(n=>hd(n)).join(",");return`${t.op}(${e})`}}function vT(t,e){return t instanceof Lt?function(n,r){return r instanceof Lt&&n.op===r.op&&n.field.isEqual(r.field)&&_r(n.value,r.value)}(t,e):t instanceof ir?function(n,r){return r instanceof ir&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&vT(i,r.filters[o]),!0):!1}(t,e):void Fe()}function wT(t){return t instanceof Lt?function(e){return`${e.field.canonicalString()} ${e.op} ${Xi(e.value)}`}(t):t instanceof ir?function(e){return e.op.toString()+" {"+e.getFilters().map(wT).join(" ,")+"}"}(t):"Filter"}class QU extends Lt{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class JU extends Lt{constructor(e,n){super(e,"in",n),this.keys=_T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YU extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=_T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _T(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class XU extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&wa(n.arrayValue,this.value)}}class ZU extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wa(this.value.arrayValue,n)}}class eF extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wa(this.value.arrayValue,n)}}class tF extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function d0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new nF(t,e,n,r,s,i,o)}function rg(t){const e=qe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),e.dt=n}return e.dt}function sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h0(t.startAt,e.startAt)&&h0(t.endAt,e.endAt)}function dd(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function rF(t,e,n,r,s,i,o,a){return new qa(t,e,n,r,s,i,o,a)}function bT(t){return new qa(t)}function p0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ig(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ET(t){return t.collectionGroup!==null}function Bi(t){const e=qe(t);if(e.wt===null){e.wt=[];const n=ig(e),r=CT(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new qo(n)),e.wt.push(new qo(on.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new qo(on.keyField(),i))}}}return e.wt}function Kr(t){const e=qe(t);if(!e._t)if(e.limitType==="F")e._t=d0(e.path,e.collectionGroup,Bi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Bi(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new qo(i.field,o))}const r=e.endAt?new Il(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Il(e.startAt.position,e.startAt.inclusive):null;e._t=d0(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function pd(t,e){e.getFirstInequalityField(),ig(t);const n=t.filters.concat([e]);return new qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gd(t,e,n){return new qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tu(t,e){return sg(Kr(t),Kr(e))&&t.limitType===e.limitType}function TT(t){return`${rg(Kr(t))}|lt:${t.limitType}`}function md(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>wT(r)).join(", ")}]`),Eu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xi(r)).join(",")),`Target(${n})`}(Kr(t))}; limitType=${t.limitType})`}function Su(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ne.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Bi(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=f0(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Bi(n),r)||n.endAt&&!function(s,i,o){const a=f0(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Bi(n),r))}(t,e)}function sF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ST(t){return(e,n)=>{let r=!1;for(const s of Bi(t)){const i=iF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iF(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),c=o.data.field(s);return a!==null&&c!==null?Yi(a,c):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new St(Ne.comparator);function qr(){return oF}const IT=new St(Ne.comparator);function ko(...t){let e=IT;for(const n of t)e=e.insert(n.key,n);return e}function kT(t){let e=IT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fs(){return zo()}function RT(){return zo()}function zo(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const aF=new St(Ne.comparator),cF=new ln(Ne.comparator);function Je(...t){let e=cF;for(const n of t)e=e.add(n);return e}const lF=new ln(ot);function uF(){return lF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(e)?"-0":e}}function PT(t){return{integerValue:""+t}}function fF(t,e){return VU(e)?PT(e):AT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this._=void 0}}function hF(t,e,n){return t instanceof kl?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&eg(s)&&(s=tg(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof _a?OT(t,e):t instanceof ba?NT(t,e):function(r,s){const i=xT(r,s),o=g0(i)+g0(r.gt);return fd(i)&&fd(r.gt)?PT(o):AT(r.serializer,o)}(t,e)}function dF(t,e,n){return t instanceof _a?OT(t,e):t instanceof ba?NT(t,e):n}function xT(t,e){return t instanceof Rl?fd(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class kl extends Iu{}class _a extends Iu{constructor(e){super(),this.elements=e}}function OT(t,e){const n=MT(e);for(const r of t.elements)n.some(s=>_r(s,r))||n.push(r);return{arrayValue:{values:n}}}class ba extends Iu{constructor(e){super(),this.elements=e}}function NT(t,e){let n=MT(e);for(const r of t.elements)n=n.filter(s=>!_r(s,r));return{arrayValue:{values:n}}}class Rl extends Iu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function g0(t){return Nt(t.integerValue||t.doubleValue)}function MT(t){return ng(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pF(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof _a&&r instanceof _a||n instanceof ba&&r instanceof ba?Ji(n.elements,r.elements,_r):n instanceof Rl&&r instanceof Rl?_r(n.gt,r.gt):n instanceof kl&&r instanceof kl}(t.transform,e.transform)}class gF{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ku{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BT(t.key,Lr.none()):new za(t.key,t.data,Lr.none());{const n=t.data,r=$n.empty();let s=new ln(on.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ci(t.key,r,new Yn(s.toArray()),Lr.none())}}function mF(t,e,n){t instanceof za?function(r,s,i){const o=r.value.clone(),a=y0(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(r,s,i){if(!Fc(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=y0(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(DT(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Go(t,e,n,r){return t instanceof za?function(s,i,o,a){if(!Fc(s.precondition,i))return o;const c=s.value.clone(),u=v0(s.fieldTransforms,a,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ci?function(s,i,o,a){if(!Fc(s.precondition,i))return o;const c=v0(s.fieldTransforms,a,i),u=i.data;return u.setAll(DT(s)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(l=>l.field))}(t,e,n,r):function(s,i,o){return Fc(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function yF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xT(r.transform,s||null);i!=null&&(n===null&&(n=$n.empty()),n.set(r.field,i))}return n||null}function m0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ji(n,r,(s,i)=>pF(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class za extends ku{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ci extends ku{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function y0(t,e,n){const r=new Map;Et(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,dF(o,a,n[s]))}return r}function v0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hF(i,o,e))}return r}class BT extends ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vF extends ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&mF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Go(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Go(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=LT(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&Ji(this.mutations,e.mutations,(n,r)=>m0(n,r))&&Ji(this.baseMutations,e.baseMutations,(n,r)=>m0(n,r))}}class og{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Et(e.mutations.length===r.length);let s=aF;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new og(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Ze;function CF(t){switch(t){default:return Fe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function UT(t){if(t===void 0)return Vr("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ot.OK:return se.OK;case Ot.CANCELLED:return se.CANCELLED;case Ot.UNKNOWN:return se.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return se.INTERNAL;case Ot.UNAVAILABLE:return se.UNAVAILABLE;case Ot.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ot.NOT_FOUND:return se.NOT_FOUND;case Ot.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ot.ABORTED:return se.ABORTED;case Ot.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ot.DATA_LOSS:return se.DATA_LOSS;default:return Fe()}}(Ze=Ot||(Ot={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cc}static getOrCreateInstance(){return Cc===null&&(Cc=new ag),Cc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Cc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=new Di([4294967295,4294967295],0);function w0(t){const e=EF().encode(t),n=new RU;return n.update(e),new Uint8Array(n.digest())}function _0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Di([n,r],0),new Di([s,i],0)]}class cg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ro(`Invalid padding: ${n}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Di.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Di.fromNumber(r)));return s.compare(TF)===1&&(s=new Di([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=w0(e),[r,s]=_0(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new cg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=w0(e),[r,s]=_0(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ga.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ru($e.min(),s,new St(ot),qr(),Je())}}class Ga{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ga(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class FT{constructor(e,n){this.targetId=e,this.Vt=n}}class jT{constructor(e,n,r=fn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class b0{constructor(){this.St=0,this.Dt=E0(),this.Ct=fn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Je(),n=Je(),r=Je();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Fe()}}),new Ga(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=E0()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class SF{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=qr(),this.zt=C0(),this.Wt=new St(ot)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(dd(o))if(s===0){const a=new Ne(o.path);this.Yt(r,a,sn.newNoDocument(a,$e.min()))}else Et(s===1);else{const a=this.ie(r);if(a!==s){const c=this.re(e,a);if(c!==0){this.ee(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=ag.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,l,f){var d,p,g,m,b,R;const A={localCacheCount:l,existenceFilterCount:f.count},T=f.unchangedNames;return T&&(A.bloomFilter={applied:u===0,hashCount:(d=T==null?void 0:T.hashCount)!==null&&d!==void 0?d:0,bitmapLength:(m=(g=(p=T==null?void 0:T.bits)===null||p===void 0?void 0:p.bitmap)===null||g===void 0?void 0:g.length)!==null&&m!==void 0?m:0,padding:(R=(b=T==null?void 0:T.bits)===null||b===void 0?void 0:b.padding)!==null&&R!==void 0?R:0}),A}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=ti(i).toUint8Array()}catch(l){if(l instanceof dT)return Qi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new cg(c,o,a)}catch(l){return Qi(l instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&dd(a.target)){const c=new Ne(a.target.path);this.jt.get(c)!==null||this.ae(o,c)||this.Yt(o,c,sn.newNoDocument(c,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=Je();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new Ru(e,n,this.Wt,this.jt,r);return this.jt=qr(),this.zt=C0(),this.Wt=new St(ot),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new b0,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ln(ot),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new b0),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function C0(){return new St(Ne.comparator)}function E0(){return new St(Ne.comparator)}const IF={asc:"ASCENDING",desc:"DESCENDING"},kF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RF={and:"AND",or:"OR"};class AF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yd(t,e){return t.useProto3Json||Eu(e)?e:{value:e}}function Al(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PF(t,e){return Al(t,e.toTimestamp())}function yr(t){return Et(!!t),$e.fromTimestamp(function(e){const n=ws(e);return new $t(n.seconds,n.nanos)}(t))}function lg(t,e){return function(n){return new _t(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function HT(t){const e=_t.fromString(t);return Et(zT(e)),e}function vd(t,e){return lg(t.databaseId,e.path)}function ih(t,e){const n=HT(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(VT(n))}function wd(t,e){return lg(t.databaseId,e)}function xF(t){const e=HT(t);return e.length===4?_t.emptyPath():VT(e)}function _d(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VT(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T0(t,e,n){return{name:vd(t,e),fields:n.value.mapValue.fields}}function OF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Et(u===void 0||typeof u=="string"),fn.fromBase64String(u||"")):(Et(u===void 0||u instanceof Uint8Array),fn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?se.UNKNOWN:UT(c.code);return new Ie(u,c.message||"")}(o);n=new jT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ih(t,r.document.name),i=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):$e.min(),a=new $n({mapValue:{fields:r.document.fields}}),c=sn.newFoundDocument(s,i,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new jc(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ih(t,r.document),i=r.readTime?yr(r.readTime):$e.min(),o=sn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ih(t,r.document),i=r.removedTargetIds||[];n=new jc([],i,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new bF(s,i),a=r.targetId;n=new FT(a,o)}}return n}function NF(t,e){let n;if(e instanceof za)n={update:T0(t,e.key,e.value)};else if(e instanceof BT)n={delete:vd(t,e.key)};else if(e instanceof ci)n={update:T0(t,e.key,e.data),updateMask:HF(e.fieldMask)};else{if(!(e instanceof vF))return Fe();n={verify:vd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof kl)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof _a)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ba)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rl)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:PF(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe()}(t,e.precondition)),n}function MF(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?yr(r.updateTime):yr(s);return i.isEqual($e.min())&&(i=yr(s)),new gF(i,r.transformResults||[])}(n,e))):[]}function LF(t,e){return{documents:[wd(t,e.path)]}}function DF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=wd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length!==0)return qT(ir.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(u=>function(l){return{field:wi(l.field),direction:FF(l.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=yd(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function BF(t){let e=xF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Et(r===1);const l=n.from[0];l.allDescendants?s=l.collectionId:e=e.child(l.collectionId)}let i=[];n.where&&(i=function(l){const f=KT(l);return f instanceof ir&&yT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(f){return new qo(_i(f.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(l)));let a=null;n.limit&&(a=function(l){let f;return f=typeof l=="object"?l.value:l,Eu(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(l){const f=!!l.before,d=l.values||[];return new Il(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(l){const f=!l.before,d=l.values||[];return new Il(d,f)}(n.endAt)),rF(e,s,o,i,a,"F",c,u)}function UF(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=_i(e.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=_i(e.unaryFilter.field);return Lt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_i(e.unaryFilter.field);return Lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_i(e.unaryFilter.field);return Lt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(e){return Lt.create(_i(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ir.create(e.compositeFilter.filters.map(n=>KT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Fe()}}(e.compositeFilter.op))}(t):Fe()}function FF(t){return IF[t]}function jF(t){return kF[t]}function $F(t){return RF[t]}function wi(t){return{fieldPath:t.canonicalString()}}function _i(t){return on.fromServerFormat(t.fieldPath)}function qT(t){return t instanceof Lt?function(e){if(e.op==="=="){if(u0(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NAN"}};if(l0(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(u0(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NOT_NAN"}};if(l0(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wi(e.field),op:jF(e.op),value:e.value}}}(t):t instanceof ir?function(e){const n=e.getFilters().map(r=>qT(r));return n.length===1?n[0]:{compositeFilter:{op:$F(e.op),filters:n}}}(t):Fe()}function HF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r,s,i=$e.min(),o=$e.min(),a=fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.fe=e}}function KF(t){const e=BF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.rn=new zF}addToCollectionParentIndex(e,n){return this.rn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(vs.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class zF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ln(_t.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ln(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zi(0)}static Mn(){return new Zi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Go(r.mutation,s,Yn.empty(),$t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Je()){const s=Fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ko();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Je()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qr();const o=zo(),a=zo();return n.forEach((c,u)=>{const l=r.get(u.key);s.has(u.key)&&(l===void 0||l.mutation instanceof ci)?i=i.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Go(l.mutation,u,l.mutation.getFieldMask(),$t.now())):o.set(u.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var f;return a.set(u,new WF(l,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=zo();let s=new St((o,a)=>o-a),i=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let l=r.get(c)||Yn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const f=(s.get(a.batchId)||Je()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,f=RT();l.forEach(d=>{if(!i.has(d)){const p=LT(n.get(d),r.get(d));p!==null&&f.set(d,p),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ue.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return Ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ET(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ue.resolve(Fs());let a=-1,c=i;return o.next(u=>ue.forEach(u,(l,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(l)?ue.resolve():this.remoteDocumentCache.getEntry(e,l).next(d=>{c=c.insert(l,d)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Je())).next(l=>({batchId:a,changes:kT(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let s=ko();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=ko();return this.indexManager.getCollectionParents(e,s).next(o=>ue.forEach(o,a=>{const c=function(u,l){return new qa(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,f)=>{i=i.insert(l,f)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,c)=>{const u=c.getKey();i.get(u)===null&&(i=i.insert(u,sn.newInvalidDocument(u)))});let o=ko();return i.forEach((a,c)=>{const u=s.get(a);u!==void 0&&Go(u.mutation,c,Yn.empty(),$t.now()),Su(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return ue.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:yr(r.createTime)}),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:KF(r.bundledQuery),readTime:yr(r.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.overlays=new St(Ne.comparator),this.ls=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fs();return ue.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),ue.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const s=Fs(),i=n.length+1,o=new Ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=i.get(u.largestBatchId);l===null&&(l=Fs(),i=i.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Fs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=s)););return ue.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _F(n,r));let i=this.ls.get(n);i===void 0&&(i=Je(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.fs=new ln(Vt.ds),this.ws=new ln(Vt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Vt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ne(new _t([])),r=new Vt(n,e),s=new Vt(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ne(new _t([])),r=new Vt(n,e),s=new Vt(n,e+1);let i=Je();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Vt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ne.comparator(e.key,n.key)||ot(e.As,n.As)}static _s(e,n){return ot(e.As,n.As)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ln(Vt.ds)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new Vt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ue.resolve(o)}lookupMutationBatch(e,n){return ue.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return ue.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),ue.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(ot);return n.forEach(s=>{const i=new Vt(s,0),o=new Vt(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ne.isDocumentKey(i)||(i=i.child(""));const o=new Vt(new Ne(i),0);let a=new ln(ot);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.As)),!0)},o),ue.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Et(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ue.forEach(n.mutations,s=>{const i=new Vt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Vt(n,0),s=this.Rs.firstAfterOrEqual(r);return ue.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.Ds=e,this.docs=new St(Ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():sn.newInvalidDocument(s))}),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qr();const o=n.path,a=new Ne(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||jU(FU(l),r)<=0||(s.has(l.key)||Su(n,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Fe()}Cs(e,n){return ue.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ej(this)}getSize(e){return ue.resolve(this.size)}}class ej extends GF{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),ue.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.persistence=e,this.xs=new uo(n=>rg(n),sg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ug,this.targetCount=0,this.Ms=Zi.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),ue.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Zi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Fn(n),ue.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ue.waitFor(i).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ue.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.$s={},this.overlays={},this.Os=new Zp(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new tj(this),this.indexManager=new qF,this.remoteDocumentCache=function(r){return new ZF(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new VF(n),this.qs=new JF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new XF(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const s=new rj(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class rj extends HU{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Qs=new ug,this.js=null}static zs(e){return new fg(e)}get Ws(){if(this.js)return this.js;throw Fe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,r=>{const s=Ne.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,$e.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return ue.or([()=>ue.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=Je(),s=Je();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(p0(n))return ue.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=gd(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Je(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,gd(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,s){return p0(n)||s.isEqual($e.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(s0()<=st.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),md(n)),this.Wi(e,o,n,UU(s,-1)))})}ji(e,n){let r=new ln(ST(e));return n.forEach((s,i)=>{Su(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return s0()<=st.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",md(n)),this.Ui.getDocumentsMatchingQuery(e,n,vs.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new St(ot),this.Yi=new uo(i=>rg(i),sg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function oj(t,e,n,r){return new ij(t,e,n,r)}async function GT(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Je();for(const u of s){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of i){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function aj(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,f=l.keys();let d=ue.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(a,p)).next(g=>{const m=c.docVersions.get(p);Et(m!==null),g.version.compareTo(m)<0&&(l.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Je();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function WT(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function cj(t,e){const n=qe(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((l,f)=>{const d=s.get(f);if(!d)return;a.push(n.Bs.removeMatchingKeys(i,l.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(i,l.addedDocuments,f)));let p=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(fn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),s=s.insert(f,p),function(g,m,b){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,l)&&a.push(n.Bs.updateTargetData(i,p))});let c=qr(),u=Je();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))}),a.push(lj(i,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual($e.min())){const l=n.Bs.getLastRemoteSnapshotVersion(i).next(f=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(l)}return ue.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ji=s,i))}function lj(t,e,n){let r=Je(),s=Je();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual($e.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:s}})}function uj(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fj(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,ue.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new ls(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function bd(t,e,n){const r=qe(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ka(o))throw o;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function S0(t,e,n){const r=qe(t);let s=$e.min(),i=Je();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=qe(a),f=l.Yi.get(u);return f!==void 0?ue.resolve(l.Ji.get(f)):l.Bs.getTargetData(c,u)}(r,o,Kr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:$e.min(),n?i:Je())).next(a=>(hj(r,sF(e),a),{documents:a,ir:i})))}function hj(t,e,n){let r=t.Xi.get(e)||$e.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class I0{constructor(){this.activeTargetIds=uF()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dj{constructor(){this.Hr=new I0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new I0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function oh(){return Ec===null?Ec=268435456+Math.round(2147483648*Math.random()):Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class yj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=oh(),a=this.To(e,n);xe("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,s,i),this.Ao(e,a,c,r).then(u=>(xe("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Qi("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=gj[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=oh();return new Promise((o,a)=>{const c=new kU;c.setWithCredentials(!0),c.listenOnce(TU.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case sh.NO_ERROR:const l=c.getResponseJson();xe(en,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(l)),o(l);break;case sh.TIMEOUT:xe(en,`RPC '${e}' ${i} timed out`),a(new Ie(se.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const f=c.getStatus();if(xe(en,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(m){const b=m.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(b)>=0?b:se.UNKNOWN}(p.status);a(new Ie(g,p.message))}else a(new Ie(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Ie(se.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{xe(en,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);xe(en,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=oh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CU(),a=EU(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new IU({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=i.join("");xe(en,`Creating RPC '${e}' stream ${s}: ${l}`,c);const f=o.createWebChannel(l,c);let d=!1,p=!1;const g=new mj({ro:b=>{p?xe(en,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(d||(xe(en,`Opening RPC '${e}' stream ${s} transport.`),f.open(),d=!0),xe(en,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},oo:()=>f.close()}),m=(b,R,A)=>{b.listen(R,T=>{try{A(T)}catch(x){setTimeout(()=>{throw x},0)}})};return m(f,wc.EventType.OPEN,()=>{p||xe(en,`RPC '${e}' stream ${s} transport opened.`)}),m(f,wc.EventType.CLOSE,()=>{p||(p=!0,xe(en,`RPC '${e}' stream ${s} transport closed`),g.wo())}),m(f,wc.EventType.ERROR,b=>{p||(p=!0,Qi(en,`RPC '${e}' stream ${s} transport errored:`,b),g.wo(new Ie(se.UNAVAILABLE,"The operation could not be completed")))}),m(f,wc.EventType.MESSAGE,b=>{var R;if(!p){const A=b.data[0];Et(!!A);const T=A,x=T.error||((R=T[0])===null||R===void 0?void 0:R.error);if(x){xe(en,`RPC '${e}' stream ${s} received error:`,x);const L=x.status;let S=function(k){const v=Ot[k];if(v!==void 0)return UT(v)}(L),E=x.message;S===void 0&&(S=se.INTERNAL,E="Unknown error status: "+L+" with message "+x.message),p=!0,g.wo(new Ie(S,E)),f.close()}else xe(en,`RPC '${e}' stream ${s} received:`,A),g._o(A)}}),m(a,SU.STAT_EVENT,b=>{b.stat===n0.PROXY?xe(en,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===n0.NOPROXY&&xe(en,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){return new AF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r,s,i,o,a,c){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new QT(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new Ie(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vj extends JT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=OF(this.serializer,e),r=function(s){if(!("targetChange"in s))return $e.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?$e.min():i.readTime?yr(i.readTime):$e.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=_d(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=dd(a)?{documents:LF(s,a)}:{query:DF(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=$T(s,i.resumeToken);const c=yd(s,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo($e.min())>0){o.readTime=Al(s,i.snapshotVersion.toTimestamp());const c=yd(s,i.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=UF(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=_d(this.serializer),n.removeTarget=e,this.Wo(n)}}class wj extends JT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=MF(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.cu(r,n)}return Et(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_d(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>NF(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(se.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ie(se.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class bj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vr(n),this.mu=!1):xe("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{li(this)&&(xe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=qe(a);c.vu.add(4),await Wa(c),c.bu.set("Unknown"),c.vu.delete(4),await Pu(c)}(this))})}),this.bu=new bj(r,s)}}async function Pu(t){if(li(t))for(const e of t.Ru)await e(!0)}async function Wa(t){for(const e of t.Ru)await e(!1)}function YT(t,e){const n=qe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),gg(n)?pg(n):fo(n).Ko()&&dg(n,e))}function XT(t,e){const n=qe(t),r=fo(n);n.Au.delete(e),r.Ko()&&ZT(n,e),n.Au.size===0&&(r.Ko()?r.jo():li(n)&&n.bu.set("Unknown"))}function dg(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fo(t).su(e)}function ZT(t,e){t.Vu.qt(e),fo(t).iu(e)}function pg(t){t.Vu=new SF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),fo(t).start(),t.bu.gu()}function gg(t){return li(t)&&!fo(t).Uo()&&t.Au.size>0}function li(t){return qe(t).vu.size===0}function eS(t){t.Vu=void 0}async function Ej(t){t.Au.forEach((e,n)=>{dg(t,e)})}async function Tj(t,e){eS(t),gg(t)?(t.bu.Iu(e),pg(t)):t.bu.set("Unknown")}async function Sj(t,e,n){if(t.bu.set("Online"),e instanceof jT&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pl(t,r)}else if(e instanceof jc?t.Vu.Ht(e):e instanceof FT?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual($e.min()))try{const r=await WT(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(c);u&&s.Au.set(c,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,c)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(fn.EMPTY_BYTE_STRING,u.snapshotVersion)),ZT(s,a);const l=new ls(u.target,a,c,u.sequenceNumber);dg(s,l)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),await Pl(t,r)}}async function Pl(t,e,n){if(!Ka(e))throw e;t.vu.add(1),await Wa(t),t.bu.set("Offline"),n||(n=()=>WT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Pu(t)})}function tS(t,e){return e().catch(n=>Pl(t,n,e))}async function xu(t){const e=qe(t),n=_s(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ij(e);)try{const s=await uj(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,kj(e,s)}catch(s){await Pl(e,s)}nS(e)&&rS(e)}function Ij(t){return li(t)&&t.Eu.length<10}function kj(t,e){t.Eu.push(e);const n=_s(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function nS(t){return li(t)&&!_s(t).Uo()&&t.Eu.length>0}function rS(t){_s(t).start()}async function Rj(t){_s(t).hu()}async function Aj(t){const e=_s(t);for(const n of t.Eu)e.uu(n.mutations)}async function Pj(t,e,n){const r=t.Eu.shift(),s=og.from(r,e,n);await tS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xu(t)}async function xj(t,e){e&&_s(t).ou&&await async function(n,r){if(s=r.code,CF(s)&&s!==se.ABORTED){const i=n.Eu.shift();_s(n).Qo(),await tS(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await xu(n)}var s}(t,e),nS(t)&&rS(t)}async function R0(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=li(n);n.vu.add(3),await Wa(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Pu(n)}async function Oj(t,e){const n=qe(t);e?(n.vu.delete(2),await Pu(n)):e||(n.vu.add(2),await Wa(n),n.bu.set("Unknown"))}function fo(t){return t.Su||(t.Su=function(e,n,r){const s=qe(e);return s.fu(),new vj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ej.bind(null,t),ao:Tj.bind(null,t),nu:Sj.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),gg(t)?pg(t):t.bu.set("Unknown")):(await t.Su.stop(),eS(t))})),t.Su}function _s(t){return t.Du||(t.Du=function(e,n,r){const s=qe(e);return s.fu(),new wj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:Rj.bind(null,t),ao:xj.bind(null,t),au:Aj.bind(null,t),cu:Pj.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await xu(t)):(await t.Du.stop(),t.Eu.length>0&&(xe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new mg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),Ka(t))return new Ie(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=ko(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new Ui(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ui;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.Cu=new St(Ne.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Fe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class eo{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new eo(e,n,Ui.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.Nu=void 0,this.listeners=[]}}class Mj{constructor(){this.queries=new uo(e=>TT(e),Tu),this.onlineState="Unknown",this.ku=new Set}}async function Lj(t,e){const n=qe(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Nj),s)try{i.Nu=await n.onListen(r)}catch(o){const a=yg(o,`Initialization of query '${md(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&vg(n)}async function Dj(t,e){const n=qe(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Bj(t,e){const n=qe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&vg(n)}function Uj(t,e,n){const r=qe(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function vg(t){t.ku.forEach(e=>{e.next()})}class Fj{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class jj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Je(),this.mutatedKeys=Je(),this.tc=ST(e),this.ec=new Ui(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new A0,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((l,f)=>{const d=s.get(l),p=Su(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;d&&p?d.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),b=!0):this.rc(d,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.tc(p,c)>0||u&&this.tc(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),b=!0):d&&!p&&(r.track({type:1,doc:d}),b=!0,(c||u)&&(a=!0)),b&&(p?(o=o.add(p),i=m?i.add(l):i.delete(l)):(o=o.delete(l),i=i.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,l)=>function(f,d){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return p(f)-p(d)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,i.length!==0||c?{snapshot:new eo(this.query,e.ec,s,i,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new A0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Je(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new iS(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new sS(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Je();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return eo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class $j{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hj{constructor(e){this.key=e,this.fc=!1}}class Vj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new uo(a=>TT(a),Tu),this._c=new Map,this.mc=new Set,this.gc=new St(Ne.comparator),this.yc=new Map,this.Ic=new ug,this.Tc={},this.Ec=new Map,this.Ac=Zi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Kj(t,e){const n=e6(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await fj(n.localStore,Kr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await qj(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&YT(n.remoteStore,o)}return s}async function qj(t,e,n,r,s){t.Rc=(f,d,p)=>async function(g,m,b,R){let A=m.view.sc(b);A.zi&&(A=await S0(g.localStore,m.query,!1).then(({documents:L})=>m.view.sc(L,A)));const T=R&&R.targetChanges.get(m.targetId),x=m.view.applyChanges(A,g.isPrimaryClient,T);return x0(g,m.targetId,x.cc),x.snapshot}(t,f,d,p);const i=await S0(t.localStore,e,!0),o=new jj(e,i.ir),a=o.sc(i.documents),c=Ga.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);x0(t,n,u.cc);const l=new $j(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function zj(t,e){const n=qe(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!Tu(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),XT(n.remoteStore,r.targetId),Cd(n,r.targetId)}).catch(Va)):(Cd(n,r.targetId),await bd(n.localStore,r.targetId,!0))}async function Gj(t,e,n){const r=t6(t);try{const s=await function(i,o){const a=qe(i),c=$t.now(),u=o.reduce((d,p)=>d.add(p.key),Je());let l,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=qr(),g=Je();return a.Zi.getEntries(d,u).next(m=>{p=m,p.forEach((b,R)=>{R.isValidDocument()||(g=g.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,p)).next(m=>{l=m;const b=[];for(const R of o){const A=yF(R,l.get(R.key).overlayedDocument);A!=null&&b.push(new ci(R.key,A,pT(A.value.mapValue),Lr.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,b,o)}).next(m=>{f=m;const b=m.applyToLocalDocumentSet(l,g);return a.documentOverlayCache.saveOverlays(d,m.batchId,b)})}).then(()=>({batchId:f.batchId,changes:kT(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let c=i.Tc[i.currentUser.toKey()];c||(c=new St(ot)),c=c.insert(o,a),i.Tc[i.currentUser.toKey()]=c}(r,s.batchId,n),await Qa(r,s.changes),await xu(r.remoteStore)}catch(s){const i=yg(s,"Failed to persist write");n.reject(i)}}async function oS(t,e){const n=qe(t);try{const r=await cj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?Et(o.fc):s.removedDocuments.size>0&&(Et(o.fc),o.fc=!1))}),await Qa(n,r,e)}catch(r){await Va(r)}}function P0(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=qe(i);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const f of l.listeners)f.Mu(o)&&(c=!0)}),c&&vg(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wj(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new St(Ne.comparator);o=o.insert(i,sn.newNoDocument(i,$e.min()));const a=Je().add(i),c=new Ru($e.min(),new Map,new St(ot),o,a);await oS(r,c),r.gc=r.gc.remove(i),r.yc.delete(e),wg(r)}else await bd(r.localStore,e,!1).then(()=>Cd(r,e,n)).catch(Va)}async function Qj(t,e){const n=qe(t),r=e.batch.batchId;try{const s=await aj(n.localStore,e);cS(n,r,null),aS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,s)}catch(s){await Va(s)}}async function Jj(t,e,n){const r=qe(t);try{const s=await function(i,o){const a=qe(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(Et(l!==null),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);cS(r,e,n),aS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qa(r,s)}catch(s){await Va(s)}}function aS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function cS(t,e,n){const r=qe(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Cd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||lS(t,r)})}function lS(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(XT(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),wg(t))}function x0(t,e,n){for(const r of n)r instanceof sS?(t.Ic.addReference(r.key,e),Yj(t,r)):r instanceof iS?(xe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||lS(t,r.key)):Fe()}function Yj(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(xe("SyncEngine","New document in limbo: "+n),t.mc.add(r),wg(t))}function wg(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ne(_t.fromString(e)),r=t.Ac.next();t.yc.set(r,new Hj(n)),t.gc=t.gc.insert(n,r),YT(t.remoteStore,new ls(Kr(bT(n.path)),r,"TargetPurposeLimboResolution",Zp.ct))}}async function Qa(t,e,n){const r=qe(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const l=hg.Li(c.targetId,u);i.push(l)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,c){const u=qe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>ue.forEach(c,f=>ue.forEach(f.Fi,d=>u.persistence.referenceDelegate.addReference(l,f.targetId,d)).next(()=>ue.forEach(f.Bi,d=>u.persistence.referenceDelegate.removeReference(l,f.targetId,d)))))}catch(l){if(!Ka(l))throw l;xe("LocalStore","Failed to update sequence numbers: "+l)}for(const l of c){const f=l.targetId;if(!l.fromCache){const d=u.Ji.get(f),p=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(f,g)}}}(r.localStore,i))}async function Xj(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=await GT(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Ie(se.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qa(n,r.er)}}function Zj(t,e){const n=qe(t),r=n.yc.get(e);if(r&&r.fc)return Je().add(r.key);{let s=Je();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function e6(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wj.bind(null,e),e.dc.nu=Bj.bind(null,e.eventManager),e.dc.Pc=Uj.bind(null,e.eventManager),e}function t6(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jj.bind(null,e),e}class O0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Au(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oj(this.persistence,new sj,e.initialUser,this.serializer)}createPersistence(e){return new nj(fg.zs,this.serializer)}createSharedClientState(e){return new dj}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class n6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xj.bind(null,this.syncEngine),await Oj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mj}createDatastore(e){const n=Au(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new yj(s));var s;return function(i,o,a,c){return new _j(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>P0(this.syncEngine,a,0),o=k0.D()?new k0:new pj,new Cj(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,c,u){const l=new Vj(r,s,i,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=qe(e);xe("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Wa(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=fT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{xe("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(xe("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ch(t,e){t.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await o6(t);xe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>R0(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>R0(e.remoteStore,i)),t._onlineComponents=e}function i6(t){return t.name==="FirebaseError"?t.code===se.FAILED_PRECONDITION||t.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function o6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await ch(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!i6(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await ch(t,new O0)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),await ch(t,new O0);return t._offlineComponents}async function uS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),await N0(t,t._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),await N0(t,new n6))),t._onlineComponents}function a6(t){return uS(t).then(e=>e.syncEngine)}async function c6(t){const e=await uS(t),n=e.eventManager;return n.onListen=Kj.bind(null,e.syncEngine),n.onUnlisten=zj.bind(null,e.syncEngine),n}function l6(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,c){const u=new r6({next:f=>{i.enqueueAndForget(()=>Dj(s,l)),f.fromCache&&a.source==="server"?c.reject(new Ie(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),l=new Fj(o,u,{includeMetadataChanges:!0,Ku:!0});return Lj(s,l)}(await c6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t,e,n){if(!n)throw new Ie(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u6(t,e,n,r){if(e===!0&&r===!0)throw new Ie(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L0(t){if(!Ne.isDocumentKey(t))throw new Ie(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D0(t){if(Ne.isDocumentKey(t))throw new Ie(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ou(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Ca(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ou(t);throw new Ie(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Nu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ie(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new AU;switch(n.type){case"firstParty":return new NU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=M0.get(e);n&&(xe("ComponentProvider","Removing Datastore"),M0.delete(e),n.terminate())}(this),Promise.resolve()}}function f6(t,e,n,r={}){var s;const i=(t=Ca(t,Nu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=nn.MOCK_USER;else{a=IM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ie(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new nn(u)}t._authCredentials=new PU(new uT(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class ys extends ho{constructor(e,n,r){super(e,n,bT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ne(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function h6(t,e,...n){if(t=vn(t),hS("collection","path",e),t instanceof Nu){const r=_t.fromString(e,...n);return D0(r),new ys(t,null,r)}{if(!(t instanceof Rn||t instanceof ys))throw new Ie(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return D0(r),new ys(t.firestore,null,r)}}function L5(t,e,...n){if(t=vn(t),arguments.length===1&&(e=fT.A()),hS("doc","path",e),t instanceof Nu){const r=_t.fromString(e,...n);return L0(r),new Rn(t,null,new Ne(r))}{if(!(t instanceof Rn||t instanceof ys))throw new Ie(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return L0(r),new Rn(t.firestore,t instanceof ys?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new QT(this,"async_queue_retry"),this.Xc=()=>{const n=ah();n&&xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ah();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ms;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ka(e))throw e;xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=mg.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&Fe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class _g extends Nu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new d6,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pS(this),this._firestoreClient.terminate()}}function p6(t,e){const n=typeof t=="object"?t:mp(),r=typeof t=="string"?t:"(default)",s=oi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=TM("firestore");i&&f6(s,...i)}return s}function dS(t){return t._firestoreClient||pS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pS(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,c,u){return new qU(o,a,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new s6(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(fn.fromBase64String(e))}catch(n){throw new Ie(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^__.*__$/;class m6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new za(e,this.data,n,this.fieldTransforms)}}function mS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Eg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(mS(this.ca)&&g6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class y6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Au(e)}ya(e,n,r,s=!1){return new Eg({ca:e,methodName:n,ga:r,path:on.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yS(t){const e=t._freezeSettings(),n=Au(t._databaseId);return new y6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v6(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);_S("Data must be an object, but it was:",o,r);const a=vS(r,o);let c,u;if(i.merge)c=new Yn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const l=[];for(const f of i.mergeFields){const d=_6(e,f,n);if(!o.contains(d))throw new Ie(se.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);C6(l,d)||l.push(d)}c=new Yn(l),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new m6(new $n(a),c,u)}function w6(t,e,n,r=!1){return Tg(n,t.ya(r?4:3,e))}function Tg(t,e){if(wS(t=vn(t)))return _S("Unsupported field value:",e,t),vS(t,e);if(t instanceof gS)return function(n,r){if(!mS(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=Tg(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=vn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return fF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=$t.fromDate(n);return{timestampValue:Al(r.serializer,s)}}if(n instanceof $t){const s=new $t(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Al(r.serializer,s)}}if(n instanceof Cg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof to)return{bytesValue:$T(r.serializer,n._byteString)};if(n instanceof Rn){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Ou(n)}`)}(t,e)}function vS(t,e){const n={};return hT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,s)=>{const i=Tg(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function wS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Cg||t instanceof to||t instanceof Rn||t instanceof gS)}function _S(t,e,n){if(!wS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ou(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function _6(t,e,n){if((e=vn(e))instanceof bg)return e._internalPath;if(typeof e=="string")return bS(t,e);throw xl("Field path arguments must be of type string or ",t,!1,void 0,n)}const b6=new RegExp("[~\\*/\\[\\]]");function bS(t,e,n){if(e.search(b6)>=0)throw xl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bg(...e.split("."))._internalPath}catch{throw xl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Ie(se.INVALID_ARGUMENT,a+t+c)}function C6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E6 extends CS{data(){return super.data()}}function Sg(t,e){return typeof e=="string"?bS(t,e):e instanceof bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class S6 extends Ig{}function D5(t,e,...n){let r=[];e instanceof Ig&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof kg).length,o=s.filter(a=>a instanceof Mu).length;if(i>1||i>0&&o>0)throw new Ie(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Mu extends S6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mu(e,n,r)}_apply(e){const n=this._parse(e);return ES(e._query,n),new ho(e.firestore,e.converter,pd(e._query,n))}_parse(e){const n=yS(e.firestore);return function(s,i,o,a,c,u,l){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ie(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){F0(l,u);const d=[];for(const p of l)d.push(U0(a,s,p));f={arrayValue:{values:d}}}else f=U0(a,s,l)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||F0(l,u),f=w6(o,i,l,u==="in"||u==="not-in");return Lt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function B5(t,e,n){const r=e,s=Sg("where",t);return Mu._create(s,r,n)}class kg extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)ES(i,a),i=pd(i,a)}(e._query,n),new ho(e.firestore,e.converter,pd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function U0(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new Ie(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(e)&&n.indexOf("/")!==-1)throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Ne.isDocumentKey(r))throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return c0(t,new Ne(r))}if(n instanceof Rn)return c0(t,n._key);throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ou(n)}.`)}function F0(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(t,e){if(e.isInequality()){const r=ig(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new Ie(se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=CT(t);i!==null&&I6(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function I6(t,e,n){if(!n.isEqual(e))throw new Ie(se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class k6{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Cg(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ya(e));default:return null}}convertTimestamp(e){const n=ws(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);Et(zT(r));const s=new va(r.get(1),r.get(3)),i=new Ne(r.popFirst(5));return s.isEqual(n)||Vr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A6 extends CS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $c extends A6{data(e={}){return super.data(e)}}class P6{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Tc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $c(this._firestore,this._userDataWriter,r.key,r,new Tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new $c(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Tc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new $c(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Tc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:x6(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function x6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class O6 extends k6{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function U5(t){t=Ca(t,ho);const e=Ca(t.firestore,_g),n=dS(e),r=new O6(e);return T6(t._query),l6(n,t._query).then(s=>new P6(e,r,t,s))}function F5(t,e,n){t=Ca(t,Rn);const r=Ca(t.firestore,_g),s=R6(t.converter,e,n);return N6(r,[v6(yS(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Lr.none())])}function N6(t,e){return function(n,r){const s=new ms;return n.asyncQueue.enqueueAndForget(async()=>Gj(await a6(n),r,s)),s.promise}(dS(t),e)}(function(t,e=!0){(function(n){co=n})(io),vr(new rr("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new _g(new xU(n.getProvider("auth-internal")),new LU(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ie(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(a.options.projectId,c)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Kn(r0,"3.13.0",t),Kn(r0,"3.13.0","esm2017")})();const M6=wn(t=>{const e={apiKey:"AIzaSyBHOAuU2vPAuikI1FGEr4R-DN2xHjKZ8JY",authDomain:"easyslimstart.firebaseapp.com",projectId:"easyslimstart",storageBucket:"easyslimstart.firebasestorage.app",messagingSenderId:"359776160829",appId:"1:359776160829:web:8d4856cfc97d45fdf5ee54",measurementId:"G-84H6VMK3YW"};let n,r,s;return n=eC(e),r=C4(n),s=p6(n),h6(s,"users"),xi(async()=>{const{getAnalytics:i}=await Promise.resolve().then(()=>ED);return{getAnalytics:i}},void 0,import.meta.url).then(({getAnalytics:i})=>{i(n)}),{provide:{firebase:{app:n,auth:r,db:s}}}}),L6=wn(t=>{t.hook("app:error",e=>{console.log(e,"error---111")})}),D6=wn(t=>{const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-JHPC6MZH60",document.head.appendChild(e),window.dataLayer=window.dataLayer||[];function n(){window.dataLayer.push(arguments)}return n("js",new Date),n("config","G-JHPC6MZH60"),{provide:{gtag:window.gtag}}});var Hc={exports:{}},B6=Hc.exports,j0;function U6(){return j0||(j0=1,function(t,e){(function(r,s){t.exports=s()})(B6,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=n,s.c=r,s.d=function(i,o,a){s.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,o){if(o&1&&(i=s(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var c in i)s.d(a,c,(function(u){return i[u]}).bind(null,c));return a},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="/dist/",s(s.s="./index.js")}({"./index.js":function(n,r,s){var i=s("./src/cos.js");n.exports=i},"./lib/base64.js":function(n,r){var s=function(i){i=i||{};var o=i.Base64,a="2.1.9",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(_){for(var I={},M=0,V=_.length;M<V;M++)I[_.charAt(M)]=M;return I}(c),l=String.fromCharCode,f=function(I){if(I.length<2){var M=I.charCodeAt(0);return M<128?I:M<2048?l(192|M>>>6)+l(128|M&63):l(224|M>>>12&15)+l(128|M>>>6&63)+l(128|M&63)}else{var M=65536+(I.charCodeAt(0)-55296)*1024+(I.charCodeAt(1)-56320);return l(240|M>>>18&7)+l(128|M>>>12&63)+l(128|M>>>6&63)+l(128|M&63)}},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,p=function(I){return I.replace(d,f)},g=function(I){var M=[0,2,1][I.length%3],V=I.charCodeAt(0)<<16|(I.length>1?I.charCodeAt(1):0)<<8|(I.length>2?I.charCodeAt(2):0),D=[c.charAt(V>>>18),c.charAt(V>>>12&63),M>=2?"=":c.charAt(V>>>6&63),M>=1?"=":c.charAt(V&63)];return D.join("")},m=i.btoa?function(_){return i.btoa(_)}:function(_){return _.replace(/[\s\S]{1,3}/g,g)},b=function(_){return m(p(_))},R=function(I,M){return M?b(String(I)).replace(/[+\/]/g,function(V){return V=="+"?"-":"_"}).replace(/=/g,""):b(String(I))},A=function(I){return R(I,!0)},T=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),x=function(I){switch(I.length){case 4:var M=(7&I.charCodeAt(0))<<18|(63&I.charCodeAt(1))<<12|(63&I.charCodeAt(2))<<6|63&I.charCodeAt(3),V=M-65536;return l((V>>>10)+55296)+l((V&1023)+56320);case 3:return l((15&I.charCodeAt(0))<<12|(63&I.charCodeAt(1))<<6|63&I.charCodeAt(2));default:return l((31&I.charCodeAt(0))<<6|63&I.charCodeAt(1))}},L=function(I){return I.replace(T,x)},S=function(I){var M=I.length,V=M%4,D=(M>0?u[I.charAt(0)]<<18:0)|(M>1?u[I.charAt(1)]<<12:0)|(M>2?u[I.charAt(2)]<<6:0)|(M>3?u[I.charAt(3)]:0),q=[l(D>>>16),l(D>>>8&255),l(D&255)];return q.length-=[0,0,2,1][V],q.join("")},E=i.atob?function(_){return i.atob(_)}:function(_){return _.replace(/[\s\S]{1,4}/g,S)},k=function(_){return L(E(_))},v=function(I){return k(String(I).replace(/[-_]/g,function(M){return M=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},y=function(){var I=i.Base64;return i.Base64=o,I},w={VERSION:a,atob:E,btoa:m,fromBase64:v,toBase64:R,utob:p,encode:R,encodeURI:A,btou:L,decode:v,noConflict:y};return w}();n.exports=s},"./lib/crypto.js":function(n,r,s){(function(i){var o=s("./node_modules/@babel/runtime/helpers/typeof.js"),a=a||function(c,u){var l={},f=l.lib={},d=function(){},p=f.Base={extend:function(S){d.prototype=this;var E=new d;return S&&E.mixIn(S),E.hasOwnProperty("init")||(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var E in S)S.hasOwnProperty(E)&&(this[E]=S[E]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}},g=f.WordArray=p.extend({init:function(S,E){S=this.words=S||[],this.sigBytes=E!=u?E:4*S.length},toString:function(S){return(S||b).stringify(this)},concat:function(S){var E=this.words,k=S.words,v=this.sigBytes;if(S=S.sigBytes,this.clamp(),v%4)for(var y=0;y<S;y++)E[v+y>>>2]|=(k[y>>>2]>>>24-8*(y%4)&255)<<24-8*((v+y)%4);else if(65535<k.length)for(y=0;y<S;y+=4)E[v+y>>>2]=k[y>>>2];else E.push.apply(E,k);return this.sigBytes+=S,this},clamp:function(){var S=this.words,E=this.sigBytes;S[E>>>2]&=4294967295<<32-8*(E%4),S.length=c.ceil(E/4)},clone:function(){var S=p.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var E=[],k=0;k<S;k+=4)E.push(4294967296*c.random()|0);return new g.init(E,S)}}),m=l.enc={},b=m.Hex={stringify:function(S){var E=S.words;S=S.sigBytes;for(var k=[],v=0;v<S;v++){var y=E[v>>>2]>>>24-8*(v%4)&255;k.push((y>>>4).toString(16)),k.push((y&15).toString(16))}return k.join("")},parse:function(S){for(var E=S.length,k=[],v=0;v<E;v+=2)k[v>>>3]|=parseInt(S.substr(v,2),16)<<24-4*(v%8);return new g.init(k,E/2)}},R=m.Latin1={stringify:function(S){var E=S.words;S=S.sigBytes;for(var k=[],v=0;v<S;v++)k.push(String.fromCharCode(E[v>>>2]>>>24-8*(v%4)&255));return k.join("")},parse:function(S){for(var E=S.length,k=[],v=0;v<E;v++)k[v>>>2]|=(S.charCodeAt(v)&255)<<24-8*(v%4);return new g.init(k,E)}},A=m.Utf8={stringify:function(S){try{return decodeURIComponent(escape(R.stringify(S)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(S){return R.parse(unescape(encodeURIComponent(S)))}},T=f.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=A.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var E=this._data,k=E.words,v=E.sigBytes,y=this.blockSize,w=v/(4*y),w=S?c.ceil(w):c.max((w|0)-this._minBufferSize,0);if(S=w*y,v=c.min(4*S,v),S){for(var _=0;_<S;_+=y)this._doProcessBlock(k,_);_=k.splice(0,S),E.sigBytes-=v}return new g.init(_,v)},clone:function(){var S=p.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});f.Hasher=T.extend({cfg:p.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){return S&&this._append(S),this._doFinalize()},blockSize:16,_createHelper:function(S){return function(E,k){return new S.init(k).finalize(E)}},_createHmacHelper:function(S){return function(E,k){return new x.HMAC.init(S,k).finalize(E)}}});var x=l.algo={};return l}(Math);(function(){var c=a,d=c.lib,u=d.WordArray,l=d.Hasher,f=[],d=c.algo.SHA1=l.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,m){for(var b=this._hash.words,R=b[0],A=b[1],T=b[2],x=b[3],L=b[4],S=0;80>S;S++){if(16>S)f[S]=g[m+S]|0;else{var E=f[S-3]^f[S-8]^f[S-14]^f[S-16];f[S]=E<<1|E>>>31}E=(R<<5|R>>>27)+L+f[S],E=20>S?E+((A&T|~A&x)+1518500249):40>S?E+((A^T^x)+1859775393):60>S?E+((A&T|A&x|T&x)-1894007588):E+((A^T^x)-899497514),L=x,x=T,T=A<<30|A>>>2,A=R,R=E}b[0]=b[0]+R|0,b[1]=b[1]+A|0,b[2]=b[2]+T|0,b[3]=b[3]+x|0,b[4]=b[4]+L|0},_doFinalize:function(){var g=this._data,m=g.words,b=8*this._nDataBytes,R=8*g.sigBytes;return m[R>>>5]|=128<<24-R%32,m[(R+64>>>9<<4)+14]=Math.floor(b/4294967296),m[(R+64>>>9<<4)+15]=b,g.sigBytes=4*m.length,this._process(),this._hash},clone:function(){var g=l.clone.call(this);return g._hash=this._hash.clone(),g}});c.SHA1=l._createHelper(d),c.HmacSHA1=l._createHmacHelper(d)})(),function(){var c=a,u=c.enc.Utf8;c.algo.HMAC=c.lib.Base.extend({init:function(f,d){f=this._hasher=new f.init,typeof d=="string"&&(d=u.parse(d));var p=f.blockSize,g=4*p;d.sigBytes>g&&(d=f.finalize(d)),d.clamp();for(var m=this._oKey=d.clone(),b=this._iKey=d.clone(),R=m.words,A=b.words,T=0;T<p;T++)R[T]^=1549556828,A[T]^=909522486;m.sigBytes=b.sigBytes=g,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var d=this._hasher;return f=d.finalize(f),d.reset(),d.finalize(this._oKey.clone().concat(f))}})}(),function(){var c=a,u=c.lib,l=u.WordArray,f=c.enc;f.Base64={stringify:function(p){var g=p.words,m=p.sigBytes,b=this._map;p.clamp();for(var R=[],A=0;A<m;A+=3)for(var T=g[A>>>2]>>>24-A%4*8&255,x=g[A+1>>>2]>>>24-(A+1)%4*8&255,L=g[A+2>>>2]>>>24-(A+2)%4*8&255,S=T<<16|x<<8|L,E=0;E<4&&A+E*.75<m;E++)R.push(b.charAt(S>>>6*(3-E)&63));var k=b.charAt(64);if(k)for(;R.length%4;)R.push(k);return R.join("")},parse:function(p){var g=p.length,m=this._map,b=m.charAt(64);if(b){var R=p.indexOf(b);R!=-1&&(g=R)}for(var A=[],T=0,x=0;x<g;x++)if(x%4){var L=m.indexOf(p.charAt(x-1))<<x%4*2,S=m.indexOf(p.charAt(x))>>>6-x%4*2;A[T>>>2]|=(L|S)<<24-T%4*8,T++}return l.create(A,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),o(i)==="object"?i.exports=a:window.CryptoJS=a}).call(this,s("./node_modules/webpack/buildin/module.js")(n))},"./lib/md5.js":function(n,r,s){(function(i){var o,a=s("./node_modules/@babel/runtime/helpers/typeof.js");(function(){var c=(typeof window>"u"?"undefined":a(window))==="object",u=c?window:{};u.JS_MD5_NO_WINDOW&&(c=!1);var l=!c&&(typeof self>"u"?"undefined":a(self))==="object";l&&(u=self);var f=!u.JS_MD5_NO_COMMON_JS&&a(i)==="object"&&i.exports,d=s("./node_modules/webpack/buildin/amd-options.js"),p=!u.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",g="0123456789abcdef".split(""),m=[128,32768,8388608,-2147483648],b=[0,8,16,24],R=["hex","array","digest","buffer","arrayBuffer","base64"],A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),T=[],x;if(p){var L=new ArrayBuffer(68);x=new Uint8Array(L),T=new Uint32Array(L)}(u.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(y){return Object.prototype.toString.call(y)==="[object Array]"}),p&&(u.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(y){return a(y)==="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});var S=function(w){return function(_,I){return new k(!0).update(_,I)[w]()}},E=function(){var w=S("hex");w.getCtx=w.create=function(){return new k},w.update=function(M){return w.create().update(M)};for(var _=0;_<R.length;++_){var I=R[_];w[I]=S(I)}return w};function k(y){if(y)T[0]=T[16]=T[1]=T[2]=T[3]=T[4]=T[5]=T[6]=T[7]=T[8]=T[9]=T[10]=T[11]=T[12]=T[13]=T[14]=T[15]=0,this.blocks=T,this.buffer8=x;else if(p){var w=new ArrayBuffer(68);this.buffer8=new Uint8Array(w),this.blocks=new Uint32Array(w)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}k.prototype.update=function(y,w){if(!this.finalized){for(var _,I=0,M,V=y.length,D=this.blocks,q=this.buffer8;I<V;){if(this.hashed&&(this.hashed=!1,D[0]=D[16],D[16]=D[1]=D[2]=D[3]=D[4]=D[5]=D[6]=D[7]=D[8]=D[9]=D[10]=D[11]=D[12]=D[13]=D[14]=D[15]=0),p)for(M=this.start;I<V&&M<64;++I)_=y.charCodeAt(I),w||_<128?q[M++]=_:_<2048?(q[M++]=192|_>>6,q[M++]=128|_&63):_<55296||_>=57344?(q[M++]=224|_>>12,q[M++]=128|_>>6&63,q[M++]=128|_&63):(_=65536+((_&1023)<<10|y.charCodeAt(++I)&1023),q[M++]=240|_>>18,q[M++]=128|_>>12&63,q[M++]=128|_>>6&63,q[M++]=128|_&63);else for(M=this.start;I<V&&M<64;++I)_=y.charCodeAt(I),w||_<128?D[M>>2]|=_<<b[M++&3]:_<2048?(D[M>>2]|=(192|_>>6)<<b[M++&3],D[M>>2]|=(128|_&63)<<b[M++&3]):_<55296||_>=57344?(D[M>>2]|=(224|_>>12)<<b[M++&3],D[M>>2]|=(128|_>>6&63)<<b[M++&3],D[M>>2]|=(128|_&63)<<b[M++&3]):(_=65536+((_&1023)<<10|y.charCodeAt(++I)&1023),D[M>>2]|=(240|_>>18)<<b[M++&3],D[M>>2]|=(128|_>>12&63)<<b[M++&3],D[M>>2]|=(128|_>>6&63)<<b[M++&3],D[M>>2]|=(128|_&63)<<b[M++&3]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,w=this.lastByteIndex;y[w>>2]|=m[w&3],w>=56&&(this.hashed||this.hash(),y[0]=y[16],y[16]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=y[10]=y[11]=y[12]=y[13]=y[14]=y[15]=0),y[14]=this.bytes<<3,y[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},k.prototype.hash=function(){var y,w,_,I,M,V,D=this.blocks;this.first?(y=D[0]-680876937,y=(y<<7|y>>>25)-271733879<<0,I=(-1732584194^y&2004318071)+D[1]-117830708,I=(I<<12|I>>>20)+y<<0,_=(-271733879^I&(y^-271733879))+D[2]-1126478375,_=(_<<17|_>>>15)+I<<0,w=(y^_&(I^y))+D[3]-1316259209,w=(w<<22|w>>>10)+_<<0):(y=this.h0,w=this.h1,_=this.h2,I=this.h3,y+=(I^w&(_^I))+D[0]-680876936,y=(y<<7|y>>>25)+w<<0,I+=(_^y&(w^_))+D[1]-389564586,I=(I<<12|I>>>20)+y<<0,_+=(w^I&(y^w))+D[2]+606105819,_=(_<<17|_>>>15)+I<<0,w+=(y^_&(I^y))+D[3]-1044525330,w=(w<<22|w>>>10)+_<<0),y+=(I^w&(_^I))+D[4]-176418897,y=(y<<7|y>>>25)+w<<0,I+=(_^y&(w^_))+D[5]+1200080426,I=(I<<12|I>>>20)+y<<0,_+=(w^I&(y^w))+D[6]-1473231341,_=(_<<17|_>>>15)+I<<0,w+=(y^_&(I^y))+D[7]-45705983,w=(w<<22|w>>>10)+_<<0,y+=(I^w&(_^I))+D[8]+1770035416,y=(y<<7|y>>>25)+w<<0,I+=(_^y&(w^_))+D[9]-1958414417,I=(I<<12|I>>>20)+y<<0,_+=(w^I&(y^w))+D[10]-42063,_=(_<<17|_>>>15)+I<<0,w+=(y^_&(I^y))+D[11]-1990404162,w=(w<<22|w>>>10)+_<<0,y+=(I^w&(_^I))+D[12]+1804603682,y=(y<<7|y>>>25)+w<<0,I+=(_^y&(w^_))+D[13]-40341101,I=(I<<12|I>>>20)+y<<0,_+=(w^I&(y^w))+D[14]-1502002290,_=(_<<17|_>>>15)+I<<0,w+=(y^_&(I^y))+D[15]+1236535329,w=(w<<22|w>>>10)+_<<0,y+=(_^I&(w^_))+D[1]-165796510,y=(y<<5|y>>>27)+w<<0,I+=(w^_&(y^w))+D[6]-1069501632,I=(I<<9|I>>>23)+y<<0,_+=(y^w&(I^y))+D[11]+643717713,_=(_<<14|_>>>18)+I<<0,w+=(I^y&(_^I))+D[0]-373897302,w=(w<<20|w>>>12)+_<<0,y+=(_^I&(w^_))+D[5]-701558691,y=(y<<5|y>>>27)+w<<0,I+=(w^_&(y^w))+D[10]+38016083,I=(I<<9|I>>>23)+y<<0,_+=(y^w&(I^y))+D[15]-660478335,_=(_<<14|_>>>18)+I<<0,w+=(I^y&(_^I))+D[4]-405537848,w=(w<<20|w>>>12)+_<<0,y+=(_^I&(w^_))+D[9]+568446438,y=(y<<5|y>>>27)+w<<0,I+=(w^_&(y^w))+D[14]-1019803690,I=(I<<9|I>>>23)+y<<0,_+=(y^w&(I^y))+D[3]-187363961,_=(_<<14|_>>>18)+I<<0,w+=(I^y&(_^I))+D[8]+1163531501,w=(w<<20|w>>>12)+_<<0,y+=(_^I&(w^_))+D[13]-1444681467,y=(y<<5|y>>>27)+w<<0,I+=(w^_&(y^w))+D[2]-51403784,I=(I<<9|I>>>23)+y<<0,_+=(y^w&(I^y))+D[7]+1735328473,_=(_<<14|_>>>18)+I<<0,w+=(I^y&(_^I))+D[12]-1926607734,w=(w<<20|w>>>12)+_<<0,M=w^_,y+=(M^I)+D[5]-378558,y=(y<<4|y>>>28)+w<<0,I+=(M^y)+D[8]-2022574463,I=(I<<11|I>>>21)+y<<0,V=I^y,_+=(V^w)+D[11]+1839030562,_=(_<<16|_>>>16)+I<<0,w+=(V^_)+D[14]-35309556,w=(w<<23|w>>>9)+_<<0,M=w^_,y+=(M^I)+D[1]-1530992060,y=(y<<4|y>>>28)+w<<0,I+=(M^y)+D[4]+1272893353,I=(I<<11|I>>>21)+y<<0,V=I^y,_+=(V^w)+D[7]-155497632,_=(_<<16|_>>>16)+I<<0,w+=(V^_)+D[10]-1094730640,w=(w<<23|w>>>9)+_<<0,M=w^_,y+=(M^I)+D[13]+681279174,y=(y<<4|y>>>28)+w<<0,I+=(M^y)+D[0]-358537222,I=(I<<11|I>>>21)+y<<0,V=I^y,_+=(V^w)+D[3]-722521979,_=(_<<16|_>>>16)+I<<0,w+=(V^_)+D[6]+76029189,w=(w<<23|w>>>9)+_<<0,M=w^_,y+=(M^I)+D[9]-640364487,y=(y<<4|y>>>28)+w<<0,I+=(M^y)+D[12]-421815835,I=(I<<11|I>>>21)+y<<0,V=I^y,_+=(V^w)+D[15]+530742520,_=(_<<16|_>>>16)+I<<0,w+=(V^_)+D[2]-995338651,w=(w<<23|w>>>9)+_<<0,y+=(_^(w|~I))+D[0]-198630844,y=(y<<6|y>>>26)+w<<0,I+=(w^(y|~_))+D[7]+1126891415,I=(I<<10|I>>>22)+y<<0,_+=(y^(I|~w))+D[14]-1416354905,_=(_<<15|_>>>17)+I<<0,w+=(I^(_|~y))+D[5]-57434055,w=(w<<21|w>>>11)+_<<0,y+=(_^(w|~I))+D[12]+1700485571,y=(y<<6|y>>>26)+w<<0,I+=(w^(y|~_))+D[3]-1894986606,I=(I<<10|I>>>22)+y<<0,_+=(y^(I|~w))+D[10]-1051523,_=(_<<15|_>>>17)+I<<0,w+=(I^(_|~y))+D[1]-2054922799,w=(w<<21|w>>>11)+_<<0,y+=(_^(w|~I))+D[8]+1873313359,y=(y<<6|y>>>26)+w<<0,I+=(w^(y|~_))+D[15]-30611744,I=(I<<10|I>>>22)+y<<0,_+=(y^(I|~w))+D[6]-1560198380,_=(_<<15|_>>>17)+I<<0,w+=(I^(_|~y))+D[13]+1309151649,w=(w<<21|w>>>11)+_<<0,y+=(_^(w|~I))+D[4]-145523070,y=(y<<6|y>>>26)+w<<0,I+=(w^(y|~_))+D[11]-1120210379,I=(I<<10|I>>>22)+y<<0,_+=(y^(I|~w))+D[2]+718787259,_=(_<<15|_>>>17)+I<<0,w+=(I^(_|~y))+D[9]-343485551,w=(w<<21|w>>>11)+_<<0,this.first?(this.h0=y+1732584193<<0,this.h1=w-271733879<<0,this.h2=_-1732584194<<0,this.h3=I+271733878<<0,this.first=!1):(this.h0=this.h0+y<<0,this.h1=this.h1+w<<0,this.h2=this.h2+_<<0,this.h3=this.h3+I<<0)},k.prototype.hex=function(){this.finalize();var y=this.h0,w=this.h1,_=this.h2,I=this.h3;return g[y>>4&15]+g[y&15]+g[y>>12&15]+g[y>>8&15]+g[y>>20&15]+g[y>>16&15]+g[y>>28&15]+g[y>>24&15]+g[w>>4&15]+g[w&15]+g[w>>12&15]+g[w>>8&15]+g[w>>20&15]+g[w>>16&15]+g[w>>28&15]+g[w>>24&15]+g[_>>4&15]+g[_&15]+g[_>>12&15]+g[_>>8&15]+g[_>>20&15]+g[_>>16&15]+g[_>>28&15]+g[_>>24&15]+g[I>>4&15]+g[I&15]+g[I>>12&15]+g[I>>8&15]+g[I>>20&15]+g[I>>16&15]+g[I>>28&15]+g[I>>24&15]},k.prototype.toString=k.prototype.hex,k.prototype.digest=function(y){if(y==="hex")return this.hex();this.finalize();var w=this.h0,_=this.h1,I=this.h2,M=this.h3,V=[w&255,w>>8&255,w>>16&255,w>>24&255,_&255,_>>8&255,_>>16&255,_>>24&255,I&255,I>>8&255,I>>16&255,I>>24&255,M&255,M>>8&255,M>>16&255,M>>24&255];return V},k.prototype.array=k.prototype.digest,k.prototype.arrayBuffer=function(){this.finalize();var y=new ArrayBuffer(16),w=new Uint32Array(y);return w[0]=this.h0,w[1]=this.h1,w[2]=this.h2,w[3]=this.h3,y},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.base64=function(){for(var y,w,_,I="",M=this.array(),V=0;V<15;)y=M[V++],w=M[V++],_=M[V++],I+=A[y>>>2]+A[(y<<4|w>>>4)&63]+A[(w<<2|_>>>6)&63]+A[_&63];return y=M[V],I+=A[y>>>2]+A[y<<4&63]+"==",I};var v=E();f?i.exports=v:(u.md5=v,d&&(o=(function(){return v}).call(v,s,v,i),o!==void 0&&(i.exports=o)))})()}).call(this,s("./node_modules/webpack/buildin/module.js")(n))},"./lib/request.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/typeof.js"),o=function(d){switch(i(d)){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}},a=function(d,p,g,m){return p=p||"&",g=g||"=",d===null&&(d=void 0),i(d)==="object"?Object.keys(d).map(function(b){var R=encodeURIComponent(o(b))+g;return Array.isArray(d[b])?d[b].map(function(A){return R+encodeURIComponent(o(A))}).join(p):R+encodeURIComponent(o(d[b]))}).filter(Boolean).join(p):""},c=function(d,p,g){var m={},b=p.getAllResponseHeaders();return b&&b.length>0&&b.trim().split(`
`).forEach(function(R){if(R){var A=R.indexOf(":"),T=R.substr(0,A).trim().toLowerCase(),x=R.substr(A+1).trim();m[T]=x}}),{error:d,statusCode:p.status,statusMessage:p.statusText,headers:m,body:g}},u=function(d,p){return!p&&p==="text"?d.responseText:d.response},l=function(d,p){var g=(d.method||"GET").toUpperCase(),m=d.url;if(d.qs){var b=a(d.qs);b&&(m+=(m.indexOf("?")===-1?"?":"&")+b)}var R=new XMLHttpRequest;if(R.open(g,m,!0),R.responseType=d.dataType||"text",d.xhrFields)for(var A in d.xhrFields)R[A]=d.xhrFields[A];var T=d.headers;if(T)for(var x in T)T.hasOwnProperty(x)&&x.toLowerCase()!=="content-length"&&x.toLowerCase()!=="user-agent"&&x.toLowerCase()!=="origin"&&x.toLowerCase()!=="host"&&R.setRequestHeader(x,T[x]);return d.onProgress&&R.upload&&(R.upload.onprogress=d.onProgress),d.onDownloadProgress&&(R.onprogress=d.onDownloadProgress),d.timeout&&(R.timeout=d.timeout),R.ontimeout=function(L){var S=new Error("timeout");p(c(S,R))},R.onload=function(){p(c(null,R,u(R,d.dataType)))},R.onerror=function(L){var S=u(R,d.dataType);if(S)p(c(null,R,S));else{var E=R.statusText;!E&&R.status===0&&(E=new Error("CORS blocked or network error")),p(c(E,R,S))}},R.send(d.body||""),R};n.exports=l},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(n,r){function s(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function o(c,u){for(var l=0;l<u.length;l++){var f=u[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,i(f.key),f)}}function a(c,u,l){return u&&o(c.prototype,u),l&&o(c,l),Object.defineProperty(c,"prototype",{writable:!1}),c}n.exports=a,n.exports.__esModule=!0,n.exports.default=n.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function o(a,c,u){return(c=i(c))in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,a}n.exports=o,n.exports.__esModule=!0,n.exports.default=n.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/typeof.js").default;function o(a,c){if(i(a)!="object"||!a)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var l=u.call(a,c||"default");if(i(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}n.exports=o,n.exports.__esModule=!0,n.exports.default=n.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/typeof.js").default,o=s("./node_modules/@babel/runtime/helpers/toPrimitive.js");function a(c){var u=o(c,"string");return i(u)=="symbol"?u:u+""}n.exports=a,n.exports.__esModule=!0,n.exports.default=n.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(n,r){function s(i){"@babel/helpers - typeof";return n.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n.exports.__esModule=!0,n.exports.default=n.exports,s(i)}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports},"./node_modules/fast-xml-parser/src/fxp.js":function(n,r,s){const i=s("./node_modules/fast-xml-parser/src/validator.js"),o=s("./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js"),a=s("./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js");n.exports={XMLParser:o,XMLValidator:i,XMLBuilder:a}},"./node_modules/fast-xml-parser/src/ignoreAttributes.js":function(n,r){function s(i){return typeof i=="function"?i:Array.isArray(i)?o=>{for(const a of i)if(typeof a=="string"&&o===a||a instanceof RegExp&&a.test(o))return!0}:()=>!1}n.exports=s},"./node_modules/fast-xml-parser/src/util.js":function(n,r,s){const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o=i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",a="["+i+"]["+o+"]*",c=new RegExp("^"+a+"$"),u=function(f,d){const p=[];let g=d.exec(f);for(;g;){const m=[];m.startIndex=d.lastIndex-g[0].length;const b=g.length;for(let R=0;R<b;R++)m.push(g[R]);p.push(m),g=d.exec(f)}return p},l=function(f){const d=c.exec(f);return!(d===null||typeof d>"u")};r.isExist=function(f){return typeof f<"u"},r.isEmptyObject=function(f){return Object.keys(f).length===0},r.merge=function(f,d,p){if(d){const g=Object.keys(d),m=g.length;for(let b=0;b<m;b++)p==="strict"?f[g[b]]=[d[g[b]]]:f[g[b]]=d[g[b]]}},r.getValue=function(f){return r.isExist(f)?f:""},r.isName=l,r.getAllMatches=u,r.nameRegexp=a},"./node_modules/fast-xml-parser/src/validator.js":function(n,r,s){const i=s("./node_modules/fast-xml-parser/src/util.js"),o={allowBooleanAttributes:!1,unpairedTags:[]};r.validate=function(S,E){E=Object.assign({},o,E);const k=[];let v=!1,y=!1;S[0]==="\uFEFF"&&(S=S.substr(1));for(let w=0;w<S.length;w++)if(S[w]==="<"&&S[w+1]==="?"){if(w+=2,w=c(S,w),w.err)return w}else if(S[w]==="<"){let _=w;if(w++,S[w]==="!"){w=u(S,w);continue}else{let I=!1;S[w]==="/"&&(I=!0,w++);let M="";for(;w<S.length&&S[w]!==">"&&S[w]!==" "&&S[w]!=="	"&&S[w]!==`
`&&S[w]!=="\r";w++)M+=S[w];if(M=M.trim(),M[M.length-1]==="/"&&(M=M.substring(0,M.length-1),w--),!T(M)){let q;return M.trim().length===0?q="Invalid space after '<'.":q="Tag '"+M+"' is an invalid name.",R("InvalidTag",q,x(S,w))}const V=d(S,w);if(V===!1)return R("InvalidAttr","Attributes for '"+M+"' have open quote.",x(S,w));let D=V.value;if(w=V.index,D[D.length-1]==="/"){const q=w-D.length;D=D.substring(0,D.length-1);const K=g(D,E);if(K===!0)v=!0;else return R(K.err.code,K.err.msg,x(S,q+K.err.line))}else if(I)if(V.tagClosed){if(D.trim().length>0)return R("InvalidTag","Closing tag '"+M+"' can't have attributes or invalid starting.",x(S,_));if(k.length===0)return R("InvalidTag","Closing tag '"+M+"' has not been opened.",x(S,_));{const q=k.pop();if(M!==q.tagName){let K=x(S,q.tagStartPos);return R("InvalidTag","Expected closing tag '"+q.tagName+"' (opened in line "+K.line+", col "+K.col+") instead of closing tag '"+M+"'.",x(S,_))}k.length==0&&(y=!0)}}else return R("InvalidTag","Closing tag '"+M+"' doesn't have proper closing.",x(S,w));else{const q=g(D,E);if(q!==!0)return R(q.err.code,q.err.msg,x(S,w-D.length+q.err.line));if(y===!0)return R("InvalidXml","Multiple possible root nodes found.",x(S,w));E.unpairedTags.indexOf(M)!==-1||k.push({tagName:M,tagStartPos:_}),v=!0}for(w++;w<S.length;w++)if(S[w]==="<")if(S[w+1]==="!"){w++,w=u(S,w);continue}else if(S[w+1]==="?"){if(w=c(S,++w),w.err)return w}else break;else if(S[w]==="&"){const q=b(S,w);if(q==-1)return R("InvalidChar","char '&' is not expected.",x(S,w));w=q}else if(y===!0&&!a(S[w]))return R("InvalidXml","Extra text at the end",x(S,w));S[w]==="<"&&w--}}else{if(a(S[w]))continue;return R("InvalidChar","char '"+S[w]+"' is not expected.",x(S,w))}if(v){if(k.length==1)return R("InvalidTag","Unclosed tag '"+k[0].tagName+"'.",x(S,k[0].tagStartPos));if(k.length>0)return R("InvalidXml","Invalid '"+JSON.stringify(k.map(w=>w.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return R("InvalidXml","Start tag expected.",1);return!0};function a(S){return S===" "||S==="	"||S===`
`||S==="\r"}function c(S,E){const k=E;for(;E<S.length;E++)if(S[E]=="?"||S[E]==" "){const v=S.substr(k,E-k);if(E>5&&v==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",x(S,E));if(S[E]=="?"&&S[E+1]==">"){E++;break}else continue}return E}function u(S,E){if(S.length>E+5&&S[E+1]==="-"&&S[E+2]==="-"){for(E+=3;E<S.length;E++)if(S[E]==="-"&&S[E+1]==="-"&&S[E+2]===">"){E+=2;break}}else if(S.length>E+8&&S[E+1]==="D"&&S[E+2]==="O"&&S[E+3]==="C"&&S[E+4]==="T"&&S[E+5]==="Y"&&S[E+6]==="P"&&S[E+7]==="E"){let k=1;for(E+=8;E<S.length;E++)if(S[E]==="<")k++;else if(S[E]===">"&&(k--,k===0))break}else if(S.length>E+9&&S[E+1]==="["&&S[E+2]==="C"&&S[E+3]==="D"&&S[E+4]==="A"&&S[E+5]==="T"&&S[E+6]==="A"&&S[E+7]==="["){for(E+=8;E<S.length;E++)if(S[E]==="]"&&S[E+1]==="]"&&S[E+2]===">"){E+=2;break}}return E}const l='"',f="'";function d(S,E){let k="",v="",y=!1;for(;E<S.length;E++){if(S[E]===l||S[E]===f)v===""?v=S[E]:v!==S[E]||(v="");else if(S[E]===">"&&v===""){y=!0;break}k+=S[E]}return v!==""?!1:{value:k,index:E,tagClosed:y}}const p=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function g(S,E){const k=i.getAllMatches(S,p),v={};for(let y=0;y<k.length;y++){if(k[y][1].length===0)return R("InvalidAttr","Attribute '"+k[y][2]+"' has no space in starting.",L(k[y]));if(k[y][3]!==void 0&&k[y][4]===void 0)return R("InvalidAttr","Attribute '"+k[y][2]+"' is without value.",L(k[y]));if(k[y][3]===void 0&&!E.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+k[y][2]+"' is not allowed.",L(k[y]));const w=k[y][2];if(!A(w))return R("InvalidAttr","Attribute '"+w+"' is an invalid name.",L(k[y]));if(!v.hasOwnProperty(w))v[w]=1;else return R("InvalidAttr","Attribute '"+w+"' is repeated.",L(k[y]))}return!0}function m(S,E){let k=/\d/;for(S[E]==="x"&&(E++,k=/[\da-fA-F]/);E<S.length;E++){if(S[E]===";")return E;if(!S[E].match(k))break}return-1}function b(S,E){if(E++,S[E]===";")return-1;if(S[E]==="#")return E++,m(S,E);let k=0;for(;E<S.length;E++,k++)if(!(S[E].match(/\w/)&&k<20)){if(S[E]===";")break;return-1}return E}function R(S,E,k){return{err:{code:S,msg:E,line:k.line||k,col:k.col}}}function A(S){return i.isName(S)}function T(S){return i.isName(S)}function x(S,E){const k=S.substring(0,E).split(/\r?\n/);return{line:k.length,col:k[k.length-1].length+1}}function L(S){return S.startIndex+S[1].length}},"./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js":function(n,r,s){const i=s("./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js"),o=s("./node_modules/fast-xml-parser/src/ignoreAttributes.js"),a={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(d,p){return p},attributeValueProcessor:function(d,p){return p},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function c(d){this.options=Object.assign({},a,d),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=o(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=f),this.processTextOrObjNode=u,this.options.format?(this.indentate=l,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}c.prototype.build=function(d){return this.options.preserveOrder?i(d,this.options):(Array.isArray(d)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(d={[this.options.arrayNodeName]:d}),this.j2x(d,0,[]).val)},c.prototype.j2x=function(d,p,g){let m="",b="";const R=g.join(".");for(let A in d)if(Object.prototype.hasOwnProperty.call(d,A))if(typeof d[A]>"u")this.isAttribute(A)&&(b+="");else if(d[A]===null)this.isAttribute(A)?b+="":A[0]==="?"?b+=this.indentate(p)+"<"+A+"?"+this.tagEndChar:b+=this.indentate(p)+"<"+A+"/"+this.tagEndChar;else if(d[A]instanceof Date)b+=this.buildTextValNode(d[A],A,"",p);else if(typeof d[A]!="object"){const T=this.isAttribute(A);if(T&&!this.ignoreAttributesFn(T,R))m+=this.buildAttrPairStr(T,""+d[A]);else if(!T)if(A===this.options.textNodeName){let x=this.options.tagValueProcessor(A,""+d[A]);b+=this.replaceEntitiesValue(x)}else b+=this.buildTextValNode(d[A],A,"",p)}else if(Array.isArray(d[A])){const T=d[A].length;let x="",L="";for(let S=0;S<T;S++){const E=d[A][S];if(!(typeof E>"u"))if(E===null)A[0]==="?"?b+=this.indentate(p)+"<"+A+"?"+this.tagEndChar:b+=this.indentate(p)+"<"+A+"/"+this.tagEndChar;else if(typeof E=="object")if(this.options.oneListGroup){const k=this.j2x(E,p+1,g.concat(A));x+=k.val,this.options.attributesGroupName&&E.hasOwnProperty(this.options.attributesGroupName)&&(L+=k.attrStr)}else x+=this.processTextOrObjNode(E,A,p,g);else if(this.options.oneListGroup){let k=this.options.tagValueProcessor(A,E);k=this.replaceEntitiesValue(k),x+=k}else x+=this.buildTextValNode(E,A,"",p)}this.options.oneListGroup&&(x=this.buildObjectNode(x,A,L,p)),b+=x}else if(this.options.attributesGroupName&&A===this.options.attributesGroupName){const T=Object.keys(d[A]),x=T.length;for(let L=0;L<x;L++)m+=this.buildAttrPairStr(T[L],""+d[A][T[L]])}else b+=this.processTextOrObjNode(d[A],A,p,g);return{attrStr:m,val:b}},c.prototype.buildAttrPairStr=function(d,p){return p=this.options.attributeValueProcessor(d,""+p),p=this.replaceEntitiesValue(p),this.options.suppressBooleanAttributes&&p==="true"?" "+d:" "+d+'="'+p+'"'};function u(d,p,g,m){const b=this.j2x(d,g+1,m.concat(p));return d[this.options.textNodeName]!==void 0&&Object.keys(d).length===1?this.buildTextValNode(d[this.options.textNodeName],p,b.attrStr,g):this.buildObjectNode(b.val,p,b.attrStr,g)}c.prototype.buildObjectNode=function(d,p,g,m){if(d==="")return p[0]==="?"?this.indentate(m)+"<"+p+g+"?"+this.tagEndChar:this.indentate(m)+"<"+p+g+this.closeTag(p)+this.tagEndChar;{let b="</"+p+this.tagEndChar,R="";return p[0]==="?"&&(R="?",b=""),(g||g==="")&&d.indexOf("<")===-1?this.indentate(m)+"<"+p+g+R+">"+d+b:this.options.commentPropName!==!1&&p===this.options.commentPropName&&R.length===0?this.indentate(m)+`<!--${d}-->`+this.newLine:this.indentate(m)+"<"+p+g+R+this.tagEndChar+d+this.indentate(m)+b}},c.prototype.closeTag=function(d){let p="";return this.options.unpairedTags.indexOf(d)!==-1?this.options.suppressUnpairedNode||(p="/"):this.options.suppressEmptyNode?p="/":p=`></${d}`,p},c.prototype.buildTextValNode=function(d,p,g,m){if(this.options.cdataPropName!==!1&&p===this.options.cdataPropName)return this.indentate(m)+`<![CDATA[${d}]]>`+this.newLine;if(this.options.commentPropName!==!1&&p===this.options.commentPropName)return this.indentate(m)+`<!--${d}-->`+this.newLine;if(p[0]==="?")return this.indentate(m)+"<"+p+g+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(p,d);return b=this.replaceEntitiesValue(b),b===""?this.indentate(m)+"<"+p+g+this.closeTag(p)+this.tagEndChar:this.indentate(m)+"<"+p+g+">"+b+"</"+p+this.tagEndChar}},c.prototype.replaceEntitiesValue=function(d){if(d&&d.length>0&&this.options.processEntities)for(let p=0;p<this.options.entities.length;p++){const g=this.options.entities[p];d=d.replace(g.regex,g.val)}return d};function l(d){return this.options.indentBy.repeat(d)}function f(d){return d.startsWith(this.options.attributeNamePrefix)&&d!==this.options.textNodeName?d.substr(this.attrPrefixLen):!1}n.exports=c},"./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js":function(n,r){const s=`
`;function i(f,d){let p="";return d.format&&d.indentBy.length>0&&(p=s),o(f,d,"",p)}function o(f,d,p,g){let m="",b=!1;for(let R=0;R<f.length;R++){const A=f[R],T=a(A);if(T===void 0)continue;let x="";if(p.length===0?x=T:x=`${p}.${T}`,T===d.textNodeName){let v=A[T];u(x,d)||(v=d.tagValueProcessor(T,v),v=l(v,d)),b&&(m+=g),m+=v,b=!1;continue}else if(T===d.cdataPropName){b&&(m+=g),m+=`<![CDATA[${A[T][0][d.textNodeName]}]]>`,b=!1;continue}else if(T===d.commentPropName){m+=g+`<!--${A[T][0][d.textNodeName]}-->`,b=!0;continue}else if(T[0]==="?"){const v=c(A[":@"],d),y=T==="?xml"?"":g;let w=A[T][0][d.textNodeName];w=w.length!==0?" "+w:"",m+=y+`<${T}${w}${v}?>`,b=!0;continue}let L=g;L!==""&&(L+=d.indentBy);const S=c(A[":@"],d),E=g+`<${T}${S}`,k=o(A[T],d,x,L);d.unpairedTags.indexOf(T)!==-1?d.suppressUnpairedNode?m+=E+">":m+=E+"/>":(!k||k.length===0)&&d.suppressEmptyNode?m+=E+"/>":k&&k.endsWith(">")?m+=E+`>${k}${g}</${T}>`:(m+=E+">",k&&g!==""&&(k.includes("/>")||k.includes("</"))?m+=g+d.indentBy+k+g:m+=k,m+=`</${T}>`),b=!0}return m}function a(f){const d=Object.keys(f);for(let p=0;p<d.length;p++){const g=d[p];if(f.hasOwnProperty(g)&&g!==":@")return g}}function c(f,d){let p="";if(f&&!d.ignoreAttributes)for(let g in f){if(!f.hasOwnProperty(g))continue;let m=d.attributeValueProcessor(g,f[g]);m=l(m,d),m===!0&&d.suppressBooleanAttributes?p+=` ${g.substr(d.attributeNamePrefix.length)}`:p+=` ${g.substr(d.attributeNamePrefix.length)}="${m}"`}return p}function u(f,d){f=f.substr(0,f.length-d.textNodeName.length-1);let p=f.substr(f.lastIndexOf(".")+1);for(let g in d.stopNodes)if(d.stopNodes[g]===f||d.stopNodes[g]==="*."+p)return!0;return!1}function l(f,d){if(f&&f.length>0&&d.processEntities)for(let p=0;p<d.entities.length;p++){const g=d.entities[p];f=f.replace(g.regex,g.val)}return f}n.exports=i},"./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js":function(n,r,s){const i=s("./node_modules/fast-xml-parser/src/util.js");function o(g,m){const b={};if(g[m+3]==="O"&&g[m+4]==="C"&&g[m+5]==="T"&&g[m+6]==="Y"&&g[m+7]==="P"&&g[m+8]==="E"){m=m+9;let R=1,A=!1,T=!1,x="";for(;m<g.length;m++)if(g[m]==="<"&&!T){if(A&&u(g,m))m+=7,[entityName,val,m]=a(g,m+1),val.indexOf("&")===-1&&(b[p(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(A&&l(g,m))m+=8;else if(A&&f(g,m))m+=8;else if(A&&d(g,m))m+=9;else if(c)T=!0;else throw new Error("Invalid DOCTYPE");R++,x=""}else if(g[m]===">"){if(T?g[m-1]==="-"&&g[m-2]==="-"&&(T=!1,R--):R--,R===0)break}else g[m]==="["?A=!0:x+=g[m];if(R!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:b,i:m}}function a(g,m){let b="";for(;m<g.length&&g[m]!=="'"&&g[m]!=='"';m++)b+=g[m];if(b=b.trim(),b.indexOf(" ")!==-1)throw new Error("External entites are not supported");const R=g[m++];let A="";for(;m<g.length&&g[m]!==R;m++)A+=g[m];return[b,A,m]}function c(g,m){return g[m+1]==="!"&&g[m+2]==="-"&&g[m+3]==="-"}function u(g,m){return g[m+1]==="!"&&g[m+2]==="E"&&g[m+3]==="N"&&g[m+4]==="T"&&g[m+5]==="I"&&g[m+6]==="T"&&g[m+7]==="Y"}function l(g,m){return g[m+1]==="!"&&g[m+2]==="E"&&g[m+3]==="L"&&g[m+4]==="E"&&g[m+5]==="M"&&g[m+6]==="E"&&g[m+7]==="N"&&g[m+8]==="T"}function f(g,m){return g[m+1]==="!"&&g[m+2]==="A"&&g[m+3]==="T"&&g[m+4]==="T"&&g[m+5]==="L"&&g[m+6]==="I"&&g[m+7]==="S"&&g[m+8]==="T"}function d(g,m){return g[m+1]==="!"&&g[m+2]==="N"&&g[m+3]==="O"&&g[m+4]==="T"&&g[m+5]==="A"&&g[m+6]==="T"&&g[m+7]==="I"&&g[m+8]==="O"&&g[m+9]==="N"}function p(g){if(i.isName(g))return g;throw new Error(`Invalid entity name ${g}`)}n.exports=o},"./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js":function(n,r){const s={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(o,a){return a},attributeValueProcessor:function(o,a){return a},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(o,a,c){return o}},i=function(o){return Object.assign({},s,o)};r.buildOptions=i,r.defaultOptions=s},"./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js":function(n,r,s){const i=s("./node_modules/fast-xml-parser/src/util.js"),o=s("./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js"),a=s("./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js"),c=s("./node_modules/strnum/strnum.js"),u=s("./node_modules/fast-xml-parser/src/ignoreAttributes.js");class l{constructor(w){this.options=w,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(_,I)=>String.fromCharCode(Number.parseInt(I,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(_,I)=>String.fromCharCode(Number.parseInt(I,16))}},this.addExternalEntities=f,this.parseXml=b,this.parseTextData=d,this.resolveNameSpace=p,this.buildAttributesMap=m,this.isItStopNode=x,this.replaceEntitiesValue=A,this.readStopNodeData=k,this.saveTextToParentTag=T,this.addChild=R,this.ignoreAttributesFn=u(this.options.ignoreAttributes)}}function f(y){const w=Object.keys(y);for(let _=0;_<w.length;_++){const I=w[_];this.lastEntities[I]={regex:new RegExp("&"+I+";","g"),val:y[I]}}}function d(y,w,_,I,M,V,D){if(y!==void 0&&(this.options.trimValues&&!I&&(y=y.trim()),y.length>0)){D||(y=this.replaceEntitiesValue(y));const q=this.options.tagValueProcessor(w,y,_,M,V);return q==null?y:typeof q!=typeof y||q!==y?q:this.options.trimValues?v(y,this.options.parseTagValue,this.options.numberParseOptions):y.trim()===y?v(y,this.options.parseTagValue,this.options.numberParseOptions):y}}function p(y){if(this.options.removeNSPrefix){const w=y.split(":"),_=y.charAt(0)==="/"?"/":"";if(w[0]==="xmlns")return"";w.length===2&&(y=_+w[1])}return y}const g=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function m(y,w,_){if(this.options.ignoreAttributes!==!0&&typeof y=="string"){const I=i.getAllMatches(y,g),M=I.length,V={};for(let D=0;D<M;D++){const q=this.resolveNameSpace(I[D][1]);if(this.ignoreAttributesFn(q,w))continue;let K=I[D][4],oe=this.options.attributeNamePrefix+q;if(q.length)if(this.options.transformAttributeName&&(oe=this.options.transformAttributeName(oe)),oe==="__proto__"&&(oe="#__proto__"),K!==void 0){this.options.trimValues&&(K=K.trim()),K=this.replaceEntitiesValue(K);const he=this.options.attributeValueProcessor(q,K,w);he==null?V[oe]=K:typeof he!=typeof K||he!==K?V[oe]=he:V[oe]=v(K,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(V[oe]=!0)}if(!Object.keys(V).length)return;if(this.options.attributesGroupName){const D={};return D[this.options.attributesGroupName]=V,D}return V}}const b=function(y){const w=new o("!xml");let _=w,I="",M="";for(let V=0;V<y.length;V++)if(y[V]==="<")if(y[V+1]==="/"){const q=S(y,">",V,"Closing Tag is not closed.");let K=y.substring(V+2,q).trim();if(this.options.removeNSPrefix){const we=K.indexOf(":");we!==-1&&(K=K.substr(we+1))}this.options.transformTagName&&(K=this.options.transformTagName(K)),_&&(I=this.saveTextToParentTag(I,_,M));const oe=M.substring(M.lastIndexOf(".")+1);if(K&&this.options.unpairedTags.indexOf(K)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${K}>`);let he=0;oe&&this.options.unpairedTags.indexOf(oe)!==-1?(he=M.lastIndexOf(".",M.lastIndexOf(".")-1),this.tagsNodeStack.pop()):he=M.lastIndexOf("."),M=M.substring(0,he),_=this.tagsNodeStack.pop(),I="",V=q}else if(y[V+1]==="?"){let q=E(y,V,!1,"?>");if(!q)throw new Error("Pi Tag is not closed.");if(I=this.saveTextToParentTag(I,_,M),!(this.options.ignoreDeclaration&&q.tagName==="?xml"||this.options.ignorePiTags)){const K=new o(q.tagName);K.add(this.options.textNodeName,""),q.tagName!==q.tagExp&&q.attrExpPresent&&(K[":@"]=this.buildAttributesMap(q.tagExp,M,q.tagName)),this.addChild(_,K,M)}V=q.closeIndex+1}else if(y.substr(V+1,3)==="!--"){const q=S(y,"-->",V+4,"Comment is not closed.");if(this.options.commentPropName){const K=y.substring(V+4,q-2);I=this.saveTextToParentTag(I,_,M),_.add(this.options.commentPropName,[{[this.options.textNodeName]:K}])}V=q}else if(y.substr(V+1,2)==="!D"){const q=a(y,V);this.docTypeEntities=q.entities,V=q.i}else if(y.substr(V+1,2)==="!["){const q=S(y,"]]>",V,"CDATA is not closed.")-2,K=y.substring(V+9,q);I=this.saveTextToParentTag(I,_,M);let oe=this.parseTextData(K,_.tagname,M,!0,!1,!0,!0);oe==null&&(oe=""),this.options.cdataPropName?_.add(this.options.cdataPropName,[{[this.options.textNodeName]:K}]):_.add(this.options.textNodeName,oe),V=q+2}else{let q=E(y,V,this.options.removeNSPrefix),K=q.tagName;const oe=q.rawTagName;let he=q.tagExp,we=q.attrExpPresent,_e=q.closeIndex;this.options.transformTagName&&(K=this.options.transformTagName(K)),_&&I&&_.tagname!=="!xml"&&(I=this.saveTextToParentTag(I,_,M,!1));const Be=_;if(Be&&this.options.unpairedTags.indexOf(Be.tagname)!==-1&&(_=this.tagsNodeStack.pop(),M=M.substring(0,M.lastIndexOf("."))),K!==w.tagname&&(M+=M?"."+K:K),this.isItStopNode(this.options.stopNodes,M,K)){let ke="";if(he.length>0&&he.lastIndexOf("/")===he.length-1)K[K.length-1]==="/"?(K=K.substr(0,K.length-1),M=M.substr(0,M.length-1),he=K):he=he.substr(0,he.length-1),V=q.closeIndex;else if(this.options.unpairedTags.indexOf(K)!==-1)V=q.closeIndex;else{const ye=this.readStopNodeData(y,oe,_e+1);if(!ye)throw new Error(`Unexpected end of ${oe}`);V=ye.i,ke=ye.tagContent}const Ee=new o(K);K!==he&&we&&(Ee[":@"]=this.buildAttributesMap(he,M,K)),ke&&(ke=this.parseTextData(ke,K,M,!0,we,!0,!0)),M=M.substr(0,M.lastIndexOf(".")),Ee.add(this.options.textNodeName,ke),this.addChild(_,Ee,M)}else{if(he.length>0&&he.lastIndexOf("/")===he.length-1){K[K.length-1]==="/"?(K=K.substr(0,K.length-1),M=M.substr(0,M.length-1),he=K):he=he.substr(0,he.length-1),this.options.transformTagName&&(K=this.options.transformTagName(K));const ke=new o(K);K!==he&&we&&(ke[":@"]=this.buildAttributesMap(he,M,K)),this.addChild(_,ke,M),M=M.substr(0,M.lastIndexOf("."))}else{const ke=new o(K);this.tagsNodeStack.push(_),K!==he&&we&&(ke[":@"]=this.buildAttributesMap(he,M,K)),this.addChild(_,ke,M),_=ke}I="",V=_e}}else I+=y[V];return w.child};function R(y,w,_){const I=this.options.updateTag(w.tagname,_,w[":@"]);I===!1||(typeof I=="string"&&(w.tagname=I),y.addChild(w))}const A=function(y){if(this.options.processEntities){for(let w in this.docTypeEntities){const _=this.docTypeEntities[w];y=y.replace(_.regx,_.val)}for(let w in this.lastEntities){const _=this.lastEntities[w];y=y.replace(_.regex,_.val)}if(this.options.htmlEntities)for(let w in this.htmlEntities){const _=this.htmlEntities[w];y=y.replace(_.regex,_.val)}y=y.replace(this.ampEntity.regex,this.ampEntity.val)}return y};function T(y,w,_,I){return y&&(I===void 0&&(I=Object.keys(w.child).length===0),y=this.parseTextData(y,w.tagname,_,!1,w[":@"]?Object.keys(w[":@"]).length!==0:!1,I),y!==void 0&&y!==""&&w.add(this.options.textNodeName,y),y=""),y}function x(y,w,_){const I="*."+_;for(const M in y){const V=y[M];if(I===V||w===V)return!0}return!1}function L(y,w,_=">"){let I,M="";for(let V=w;V<y.length;V++){let D=y[V];if(I)D===I&&(I="");else if(D==='"'||D==="'")I=D;else if(D===_[0])if(_[1]){if(y[V+1]===_[1])return{data:M,index:V}}else return{data:M,index:V};else D==="	"&&(D=" ");M+=D}}function S(y,w,_,I){const M=y.indexOf(w,_);if(M===-1)throw new Error(I);return M+w.length-1}function E(y,w,_,I=">"){const M=L(y,w+1,I);if(!M)return;let V=M.data;const D=M.index,q=V.search(/\s/);let K=V,oe=!0;q!==-1&&(K=V.substring(0,q),V=V.substring(q+1).trimStart());const he=K;if(_){const we=K.indexOf(":");we!==-1&&(K=K.substr(we+1),oe=K!==M.data.substr(we+1))}return{tagName:K,tagExp:V,closeIndex:D,attrExpPresent:oe,rawTagName:he}}function k(y,w,_){const I=_;let M=1;for(;_<y.length;_++)if(y[_]==="<")if(y[_+1]==="/"){const V=S(y,">",_,`${w} is not closed`);if(y.substring(_+2,V).trim()===w&&(M--,M===0))return{tagContent:y.substring(I,_),i:V};_=V}else if(y[_+1]==="?")_=S(y,"?>",_+1,"StopNode is not closed.");else if(y.substr(_+1,3)==="!--")_=S(y,"-->",_+3,"StopNode is not closed.");else if(y.substr(_+1,2)==="![")_=S(y,"]]>",_,"StopNode is not closed.")-2;else{const V=E(y,_,">");V&&((V&&V.tagName)===w&&V.tagExp[V.tagExp.length-1]!=="/"&&M++,_=V.closeIndex)}}function v(y,w,_){if(w&&typeof y=="string"){const I=y.trim();return I==="true"?!0:I==="false"?!1:c(y,_)}else return i.isExist(y)?y:""}n.exports=l},"./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js":function(n,r,s){const{buildOptions:i}=s("./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js"),o=s("./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js"),{prettify:a}=s("./node_modules/fast-xml-parser/src/xmlparser/node2json.js"),c=s("./node_modules/fast-xml-parser/src/validator.js");class u{constructor(f){this.externalEntities={},this.options=i(f)}parse(f,d){if(typeof f!="string")if(f.toString)f=f.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(d){d===!0&&(d={});const m=c.validate(f,d);if(m!==!0)throw Error(`${m.err.msg}:${m.err.line}:${m.err.col}`)}const p=new o(this.options);p.addExternalEntities(this.externalEntities);const g=p.parseXml(f);return this.options.preserveOrder||g===void 0?g:a(g,this.options)}addEntity(f,d){if(d.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(d==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=d}}n.exports=u},"./node_modules/fast-xml-parser/src/xmlparser/node2json.js":function(n,r,s){function i(l,f){return o(l,f)}function o(l,f,d){let p;const g={};for(let m=0;m<l.length;m++){const b=l[m],R=a(b);let A="";if(d===void 0?A=R:A=d+"."+R,R===f.textNodeName)p===void 0?p=b[R]:p+=""+b[R];else{if(R===void 0)continue;if(b[R]){let T=o(b[R],f,A);const x=u(T,f);b[":@"]?c(T,b[":@"],A,f):Object.keys(T).length===1&&T[f.textNodeName]!==void 0&&!f.alwaysCreateTextNode?T=T[f.textNodeName]:Object.keys(T).length===0&&(f.alwaysCreateTextNode?T[f.textNodeName]="":T=""),g[R]!==void 0&&g.hasOwnProperty(R)?(Array.isArray(g[R])||(g[R]=[g[R]]),g[R].push(T)):f.isArray(R,A,x)?g[R]=[T]:g[R]=T}}}return typeof p=="string"?p.length>0&&(g[f.textNodeName]=p):p!==void 0&&(g[f.textNodeName]=p),g}function a(l){const f=Object.keys(l);for(let d=0;d<f.length;d++){const p=f[d];if(p!==":@")return p}}function c(l,f,d,p){if(f){const g=Object.keys(f),m=g.length;for(let b=0;b<m;b++){const R=g[b];p.isArray(R,d+"."+R,!0,!0)?l[R]=[f[R]]:l[R]=f[R]}}}function u(l,f){const{textNodeName:d}=f,p=Object.keys(l).length;return!!(p===0||p===1&&(l[d]||typeof l[d]=="boolean"||l[d]===0))}r.prettify=i},"./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js":function(n,r,s){class i{constructor(a){this.tagname=a,this.child=[],this[":@"]={}}add(a,c){a==="__proto__"&&(a="#__proto__"),this.child.push({[a]:c})}addChild(a){a.tagname==="__proto__"&&(a.tagname="#__proto__"),a[":@"]&&Object.keys(a[":@"]).length>0?this.child.push({[a.tagname]:a.child,":@":a[":@"]}):this.child.push({[a.tagname]:a.child})}}n.exports=i},"./node_modules/process/browser.js":function(n,r){var s=n.exports={},i,o;function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=a}catch{i=a}try{typeof clearTimeout=="function"?o=clearTimeout:o=c}catch{o=c}})();function u(T){if(i===setTimeout)return setTimeout(T,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(T,0);try{return i(T,0)}catch{try{return i.call(null,T,0)}catch{return i.call(this,T,0)}}}function l(T){if(o===clearTimeout)return clearTimeout(T);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(T);try{return o(T)}catch{try{return o.call(null,T)}catch{return o.call(this,T)}}}var f=[],d=!1,p,g=-1;function m(){!d||!p||(d=!1,p.length?f=p.concat(f):g=-1,f.length&&b())}function b(){if(!d){var T=u(m);d=!0;for(var x=f.length;x;){for(p=f,f=[];++g<x;)p&&p[g].run();g=-1,x=f.length}p=null,d=!1,l(T)}}s.nextTick=function(T){var x=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)x[L-1]=arguments[L];f.push(new R(T,x)),f.length===1&&!d&&u(b)};function R(T,x){this.fun=T,this.array=x}R.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function A(){}s.on=A,s.addListener=A,s.once=A,s.off=A,s.removeListener=A,s.removeAllListeners=A,s.emit=A,s.prependListener=A,s.prependOnceListener=A,s.listeners=function(T){return[]},s.binding=function(T){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(T){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},"./node_modules/strnum/strnum.js":function(n,r){const s=/^[-+]?0x[a-fA-F0-9]+$/,i=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,o={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function a(l,f={}){if(f=Object.assign({},o,f),!l||typeof l!="string")return l;let d=l.trim();if(f.skipLike!==void 0&&f.skipLike.test(d))return l;if(l==="0")return 0;if(f.hex&&s.test(d))return u(d,16);if(d.search(/[eE]/)!==-1){const p=d.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(p){if(f.leadingZeros)d=(p[1]||"")+p[3];else if(!(p[2]==="0"&&p[3][0]==="."))return l;return f.eNotation?Number(d):l}else return l}else{const p=i.exec(d);if(p){const g=p[1],m=p[2];let b=c(p[3]);if(!f.leadingZeros&&m.length>0&&g&&d[2]!==".")return l;if(!f.leadingZeros&&m.length>0&&!g&&d[1]!==".")return l;if(f.leadingZeros&&m===l)return 0;{const R=Number(d),A=""+R;return A.search(/[eE]/)!==-1?f.eNotation?R:l:d.indexOf(".")!==-1?A==="0"&&b===""||A===b||g&&A==="-"+b?R:l:m?b===A||g+b===A?R:l:d===A||d===g+A?R:l}}else return l}}function c(l){return l&&l.indexOf(".")!==-1&&(l=l.replace(/0+$/,""),l==="."?l="0":l[0]==="."?l="0"+l:l[l.length-1]==="."&&(l=l.substr(0,l.length-1))),l}function u(l,f){if(parseInt)return parseInt(l,f);if(Number.parseInt)return Number.parseInt(l,f);if(window&&window.parseInt)return window.parseInt(l,f);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}n.exports=a},"./node_modules/webpack/buildin/amd-options.js":function(n,r){(function(s){n.exports=s}).call(this,{})},"./node_modules/webpack/buildin/module.js":function(n,r){n.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},"./package.json":function(n){n.exports=JSON.parse('{"name":"cos-js-sdk-v5","version":"1.10.1","description":"JavaScript SDK for [腾讯云对象存储](https://cloud.tencent.com/product/cos)","main":"dist/cos-js-sdk-v5.js","types":"index.d.ts","scripts":{"prettier":"prettier --write src demo/demo.js demo/CIDemos/*.js test/test.js server/sts.js lib/request.js index.d.ts","server":"node server/sts.js","dev":"cross-env NODE_ENV=development webpack -w --mode=development","build":"cross-env NODE_ENV=production webpack --mode=production","cos-auth.min.js":"uglifyjs ./demo/common/cos-auth.js -o ./demo/common/cos-auth.min.js -c -m","test":"jest --runInBand --coverage","postinstall":"node scripts/patch-check.js"},"repository":{"type":"git","url":"git+https://github.com/tencentyun/cos-js-sdk-v5.git"},"keywords":[],"author":"carsonxu","license":"ISC","bugs":{"url":"https://github.com/tencentyun/cos-js-sdk-v5/issues"},"homepage":"https://github.com/tencentyun/cos-js-sdk-v5#readme","dependencies":{"fast-xml-parser":"4.5.0"},"devDependencies":{"@babel/core":"7.17.9","@babel/plugin-transform-runtime":"7.18.10","@babel/preset-env":"7.16.11","babel-loader":"8.2.5","body-parser":"^1.18.3","cross-env":"^5.2.0","express":"^4.16.4","jest":"29.7.0","jest-environment-jsdom":"29.7.0","patch-package":"^8.0.0","prettier":"^3.0.1","qcloud-cos-sts":"^3.0.2","request":"^2.87.0","terser-webpack-plugin":"4.2.3","uglifyjs":"^2.4.11","webpack":"4.46.0","webpack-cli":"4.10.0"}}')},"./src/advance.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/typeof.js"),o=s("./src/session.js"),a=s("./src/async.js"),c=s("./src/event.js").EventProxy,u=s("./src/util.js"),l=s("./src/tracker.js");function f(v,y){var w=this,_=new c,I=v.TaskId,M=v.Bucket,V=v.Region,D=v.Key,q=v.Body,K=v.ChunkSize||v.SliceSize||w.options.ChunkSize,oe=v.AsyncLimit,he=v.StorageClass,we=v.ServerSideEncryption,_e,Be,ke=v.onHashProgress,Ee=v.tracker;Ee&&Ee.setParams({chunkSize:K}),w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 分块上传开始")}),_.on("error",function(ye){if(w._isRunningTask(I))return v.UploadData.UploadId&&o.removeUsing(v.UploadData.UploadId),ye.UploadId=v.UploadData.UploadId||"",w.logger.error({cate:"RESULT",tag:"upload",msg:"[key=".concat(v.Key,"] 分块上传失败: ").concat(JSON.stringify(ye))}),y(ye)}),_.on("upload_complete",function(ye){var H=u.extend({UploadId:v.UploadData.UploadId||""},ye);y(null,H)}),_.on("upload_slice_complete",function(ye){var H={};u.each(v.Headers,function(Y,X){var ne=X.toLowerCase();(ne.indexOf("x-cos-meta-")===0||["pic-operations","x-cos-callback","x-cos-callback-var","x-cos-return-body"].includes(ne))&&(H[X]=Y)}),w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 开始完成分块请求")}),R.call(w,{Bucket:M,Region:V,Key:D,UploadId:ye.UploadId,SliceList:ye.SliceList,Headers:H,tracker:Ee},function(Y,X){if(w._isRunningTask(I)){if(o.removeUsing(ye.UploadId),Y)return Be(null,!0),w.logger.error({cate:"RESULT",tag:"upload",msg:"[key=".concat(v.Key,"] 完成分块请求失败")}),_.emit("error",Y);o.removeUploadId.call(w,ye.UploadId),Be({loaded:_e,total:_e},!0),w.logger.info({cate:"RESULT",tag:"upload",msg:"[key=".concat(v.Key,"] 完成分块请求成功")}),_.emit("upload_complete",X)}})}),_.on("get_upload_data_finish",function(ye){var H=o.getFileId(q,v.ChunkSize,M,D);H&&o.saveUploadId.call(w,H,ye.UploadId,w.options.UploadIdCacheLimit),o.setUsing(ye.UploadId),Be(null,!0),w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 开始上传各个分块")}),m.call(w,{TaskId:I,Bucket:M,Region:V,Key:D,Body:q,FileSize:_e,SliceSize:K,AsyncLimit:oe,ServerSideEncryption:we,UploadData:ye,Headers:v.Headers,onProgress:Be,tracker:Ee},function(Y,X){if(w._isRunningTask(I)){if(Y)return Be(null,!0),w.logger.error({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 分块上传失败")}),_.emit("error",Y);w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 所有分块上传完成")}),_.emit("upload_slice_complete",X)}})}),_.on("get_file_size_finish",function(){if(Be=u.throttleOnProgress.call(w,_e,v.onProgress),v.UploadData.UploadId)w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 已经获取到 uploadId, ").concat(v.UploadData.UploadId)}),_.emit("get_upload_data_finish",v.UploadData);else{var ye=u.extend({TaskId:I,Bucket:M,Region:V,Key:D,Headers:v.Headers,StorageClass:he,Body:q,FileSize:_e,SliceSize:K,onHashProgress:ke,tracker:Ee},v);w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 去获取 uploadId")}),d.call(w,ye,function(H,Y){if(w._isRunningTask(I)){if(H)return _.emit("error",H);v.UploadData.UploadId=Y.UploadId,v.UploadData.PartList=Y.PartList,w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 获取到 uploadId, ").concat(v.UploadData.UploadId)}),_.emit("get_upload_data_finish",v.UploadData)}})}}),_e=v.ContentLength,delete v.ContentLength,!v.Headers&&(v.Headers={}),u.each(v.Headers,function(ye,H){H.toLowerCase()==="content-length"&&delete v.Headers[H]}),function(){for(var ye=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],H=1024*1024,Y=0;Y<ye.length&&(H=ye[Y]*1024*1024,!(_e/H<=w.options.MaxPartNumber));Y++);v.ChunkSize=v.SliceSize=K=Math.max(K,H)}(),_e===0?(v.Body="",v.ContentLength=0,v.SkipTask=!0,w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 文件大小为 0，执行简单上传")}),w.putObject(v,y)):_.emit("get_file_size_finish")}function d(v,y){var w=v.TaskId,_=v.Bucket,I=v.Region,M=v.Key,V=v.StorageClass,D=this,q={},K=v.FileSize,oe=v.SliceSize,he=Math.ceil(K/oe),we=0,_e=u.throttleOnProgress.call(D,K,v.onHashProgress),Be=function(H,Y){var X=oe*(H-1),ne=Math.min(X+oe,K),ce=ne-X;q[H]?Y(null,{PartNumber:H,ETag:q[H],Size:ce}):u.fileSlice(v.Body,X,ne,!1,function(pe){u.getFileMd5(pe,function(N,B){if(N)return Y(u.error(N));var z='"'+B+'"';q[H]=z,we+=ce,_e({loaded:we,total:K}),Y(null,{PartNumber:H,ETag:z,Size:ce})})})},ke=function(H,Y){var X=H.length;if(X===0)return Y(null,!0);if(X>he)return Y(null,!1);if(X>1){var ne=Math.max(H[0].Size,H[1].Size);if(ne!==oe)return Y(null,!1)}var ce=function(N){if(N<X){var B=H[N];Be(B.PartNumber,function(z,Z){Z&&Z.ETag===B.ETag&&Z.Size===B.Size?ce(N+1):Y(null,!1)})}else Y(null,!0)};ce(0)},Ee=new c;Ee.on("error",function(ye){if(D._isRunningTask(w))return y(ye)}),Ee.on("upload_id_available",function(ye){var H={},Y=[];u.each(ye.PartList,function(ce){H[ce.PartNumber]=ce});for(var X=1;X<=he;X++){var ne=H[X];ne?(ne.PartNumber=X,ne.Uploaded=!0):ne={PartNumber:X,ETag:null,Uploaded:!1},Y.push(ne)}ye.PartList=Y,y(null,ye)}),Ee.on("no_available_upload_id",function(){if(D._isRunningTask(w)){var ye=u.extend({Bucket:_,Region:I,Key:M,Query:u.clone(v.Query),StorageClass:V,Body:v.Body,calledBySdk:"sliceUploadFile",tracker:v.tracker},v),H=u.clone(v.Headers);delete H["x-cos-mime-limit"],ye.Headers=H,D.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 准备初始化分块上传")}),D.multipartInit(ye,function(Y,X){if(D._isRunningTask(w)){if(Y)return D.logger.error({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 初始化分块上传失败, ").concat(JSON.stringify(Y))}),Ee.emit("error",Y);var ne=X.UploadId;if(!ne)return y(u.error(new Error("no such upload id")));D.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 初始化分块上传成功")}),Ee.emit("upload_id_available",{UploadId:ne,PartList:[]})}})}}),Ee.on("has_and_check_upload_id",function(ye){ye=ye.reverse(),a.eachLimit(ye,1,function(H,Y){if(D._isRunningTask(w)){if(o.using[H]){Y();return}g.call(D,{Bucket:_,Region:I,Key:M,UploadId:H,tracker:v.tracker},function(X,ne){if(D._isRunningTask(w)){if(X)return o.removeUsing(H),Ee.emit("error",X);var ce=ne.PartList;ce.forEach(function(pe){pe.PartNumber*=1,pe.Size*=1,pe.ETag=pe.ETag||""}),ke(ce,function(pe,N){if(D._isRunningTask(w)){if(pe)return Ee.emit("error",pe);N?Y({UploadId:H,PartList:ce}):Y()}})}})}},function(H){D._isRunningTask(w)&&(_e(null,!0),H&&H.UploadId?Ee.emit("upload_id_available",H):Ee.emit("no_available_upload_id"))})}),Ee.on("seek_local_avail_upload_id",function(ye){var H=o.getFileId(v.Body,v.ChunkSize,_,M),Y=o.getUploadIdList.call(D,H);if(!H||!Y){Ee.emit("has_and_check_upload_id",ye);return}var X=function(ce){if(ce>=Y.length){Ee.emit("has_and_check_upload_id",ye);return}var pe=Y[ce];if(!u.isInArray(ye,pe)){o.removeUploadId.call(D,pe),X(ce+1);return}if(o.using[pe]){X(ce+1);return}g.call(D,{Bucket:_,Region:I,Key:M,UploadId:pe,tracker:v.tracker},function(N,B){D._isRunningTask(w)&&(N?(o.removeUploadId.call(D,pe),X(ce+1)):Ee.emit("upload_id_available",{UploadId:pe,PartList:B.PartList}))})};X(0)}),Ee.on("get_remote_upload_id_list",function(){p.call(D,{Bucket:_,Region:I,Key:M,tracker:v.tracker},function(ye,H){if(D._isRunningTask(w)){if(ye)return Ee.emit("error",ye);var Y=u.filter(H.UploadList,function(ce){return ce.Key===M&&(!V||ce.StorageClass.toUpperCase()===V.toUpperCase())}).reverse().map(function(ce){return ce.UploadId||ce.UploadID});if(Y.length)Ee.emit("seek_local_avail_upload_id",Y);else{var X=o.getFileId(v.Body,v.ChunkSize,_,M),ne;X&&(ne=o.getUploadIdList.call(D,X))&&u.each(ne,function(ce){o.removeUploadId.call(D,ce)}),Ee.emit("no_available_upload_id")}}})}),Ee.emit("get_remote_upload_id_list")}function p(v,y){var w=this,_=[],I={Bucket:v.Bucket,Region:v.Region,Prefix:v.Key,calledBySdk:v.calledBySdk||"sliceUploadFile",tracker:v.tracker},M=function(){w.multipartList(I,function(D,q){if(D)return y(D);_.push.apply(_,q.Upload||[]),q.IsTruncated==="true"?(I.KeyMarker=q.NextKeyMarker,I.UploadIdMarker=q.NextUploadIdMarker,M()):y(null,{UploadList:_})})};M()}function g(v,y){var w=this,_=[],I={Bucket:v.Bucket,Region:v.Region,Key:v.Key,UploadId:v.UploadId,calledBySdk:"sliceUploadFile",tracker:v.tracker},M=function(){w.multipartListPart(I,function(D,q){if(D)return y(D);_.push.apply(_,q.Part||[]),q.IsTruncated==="true"?(I.PartNumberMarker=q.NextPartNumberMarker,M()):y(null,{PartList:_})})};M()}function m(v,y){var w=this,_=v.TaskId,I=v.Bucket,M=v.Region,V=v.Key,D=v.UploadData,q=v.FileSize,K=v.SliceSize,oe=Math.min(v.AsyncLimit||w.options.ChunkParallelLimit||1,256),he=v.Body,we=Math.ceil(q/K),_e=0,Be=v.ServerSideEncryption,ke=v.Headers,Ee=u.filter(D.PartList,function(H){return H.Uploaded&&(_e+=H.PartNumber>=we&&q%K||K),!H.Uploaded}),ye=v.onProgress;w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 开始并发上传各个分块")}),a.eachLimit(Ee,oe,function(H,Y){if(w._isRunningTask(_)){var X=H.PartNumber,ne=Math.min(q,H.PartNumber*K)-(H.PartNumber-1)*K,ce=0;w.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 分块").concat(X,"开始上传")}),b.call(w,{TaskId:_,Bucket:I,Region:M,Key:V,SliceSize:K,FileSize:q,PartNumber:X,ServerSideEncryption:Be,Body:he,UploadData:D,Headers:ke,onProgress:function(N){_e+=N.loaded-ce,ce=N.loaded,ye({loaded:_e,total:q})},tracker:v.tracker},function(pe,N){w._isRunningTask(_)&&(!pe&&!N.ETag&&(pe='get ETag error, please add "ETag" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )',w.logger.error({cate:"PROCESS",tag:"upload",msg:"[key=".concat(v.Key,"] 分块").concat(X,"上传请求成功，但是未获取到 eTag")})),pe?(_e-=ce,w.logger.info({cate:"RESULT",tag:"upload",msg:"[key=".concat(v.Key,"] 分块").concat(X,"上传失败")})):(_e+=ne-ce,H.ETag=N.ETag),w.logger.info({cate:"RESULT",tag:"upload",msg:"[key=".concat(v.Key,"] 分块").concat(X,"上传成功")}),ye({loaded:_e,total:q}),Y(pe||null,N))})}},function(H){if(w._isRunningTask(_)){if(H)return y(H);y(null,{UploadId:D.UploadId,SliceList:D.PartList})}})}function b(v,y){var w=this,_=v.TaskId,I=v.Bucket,M=v.Region,V=v.Key,D=v.FileSize,q=v.Body,K=v.PartNumber*1,oe=v.SliceSize,he=v.ServerSideEncryption,we=v.UploadData,_e=v.Headers||{},Be=w.options.ChunkRetryTimes+1,ke=oe*(K-1),Ee=oe,ye=ke+oe;ye>D&&(ye=D,Ee=ye-ke);var H=["x-cos-traffic-limit","x-cos-mime-limit"],Y={};u.each(_e,function(ne,ce){H.indexOf(ce)>-1&&(Y[ce]=ne)});var X=we.PartList[K-1];a.retry(Be,function(ne){w._isRunningTask(_)&&u.fileSlice(q,ke,ye,!0,function(ce){w.multipartUpload({TaskId:_,Bucket:I,Region:M,Key:V,ContentLength:Ee,PartNumber:K,UploadId:we.UploadId,ServerSideEncryption:he,Body:ce,Headers:Y,onProgress:v.onProgress,calledBySdk:"sliceUploadFile",tracker:v.tracker},function(pe,N){if(w._isRunningTask(_))return pe?ne(pe):(X.Uploaded=!0,ne(null,N))})})},function(ne,ce){if(w._isRunningTask(_))return y(ne,ce)})}function R(v,y){var w=v.Bucket,_=v.Region,I=v.Key,M=v.UploadId,V=v.SliceList,D=this,q=this.options.ChunkRetryTimes+1,K=v.Headers,oe=V.map(function(he){return{PartNumber:he.PartNumber,ETag:he.ETag}});a.retry(q,function(he){D.multipartComplete({Bucket:w,Region:_,Key:I,UploadId:M,Parts:oe,Headers:K,calledBySdk:"sliceUploadFile",tracker:v.tracker},he)},function(he,we){y(he,we)})}function A(v,y){var w=v.Bucket,_=v.Region,I=v.Key,M=v.UploadId,V=v.Level||"task",D=v.AsyncLimit,q=this,K=new c;if(K.on("error",function(oe){return y(oe)}),K.on("get_abort_array",function(oe){T.call(q,{Bucket:w,Region:_,Key:I,Headers:v.Headers,AsyncLimit:D,AbortArray:oe},y)}),V==="bucket")p.call(q,{Bucket:w,Region:_,calledBySdk:"abortUploadTask"},function(oe,he){if(oe)return y(oe);K.emit("get_abort_array",he.UploadList||[])});else if(V==="file"){if(!I)return y(u.error(new Error("abort_upload_task_no_key")));p.call(q,{Bucket:w,Region:_,Key:I,calledBySdk:"abortUploadTask"},function(oe,he){if(oe)return y(oe);K.emit("get_abort_array",he.UploadList||[])})}else if(V==="task"){if(!M)return y(u.error(new Error("abort_upload_task_no_id")));if(!I)return y(u.error(new Error("abort_upload_task_no_key")));K.emit("get_abort_array",[{Key:I,UploadId:M}])}else return y(u.error(new Error("abort_unknown_level")))}function T(v,y){var w=v.Bucket,_=v.Region,I=v.Key,M=v.AbortArray,V=v.AsyncLimit||1,D=this,q=0,K=new Array(M.length);a.eachLimit(M,V,function(oe,he){var we=q;if(I&&I!==oe.Key){K[we]={error:{KeyNotMatch:!0}},he(null);return}var _e=oe.UploadId||oe.UploadID;D.multipartAbort({Bucket:w,Region:_,Key:oe.Key,Headers:v.Headers,UploadId:_e},function(Be){var ke={Bucket:w,Region:_,Key:oe.Key,UploadId:_e};K[we]={error:Be,task:ke},he(null)}),q++},function(oe){if(oe)return y(oe);for(var he=[],we=[],_e=0,Be=K.length;_e<Be;_e++){var ke=K[_e];ke.task&&(ke.error?we.push(ke.task):he.push(ke.task))}return y(null,{successList:he,errorList:we})})}function x(v,y){var w=this,_=v.SliceSize===void 0?w.options.SliceSize:v.SliceSize,I=[],M=v.Body,V=M.size||M.length||0,D={TaskId:""};if(w.options.EnableReporter){var q=w.options.UseAccelerate||typeof w.options.Domain=="string"&&w.options.Domain.includes("accelerate."),K=V>_?"sliceUploadFile":"putObject";v.tracker=new l({Beacon:w.options.BeaconReporter,clsReporter:w.options.ClsReporter,bucket:v.Bucket,region:v.Region,apiName:"uploadFile",realApi:K,fileKey:v.Key,fileSize:V,accelerate:q,deepTracker:w.options.DeepTracker,customId:w.options.CustomId,delay:w.options.TrackerDelay})}u.each(v,function(ke,Ee){i(ke)!=="object"&&typeof ke!="function"&&(D[Ee]=ke)});var oe=v.onTaskReady,he=function(Ee){D.TaskId=Ee,oe&&oe(Ee)};v.onTaskReady=he;var we=V>_?"sliceUploadFile":"putObject",_e=v.onFileFinish,Be=function(Ee,ye){v.tracker&&v.tracker.report(Ee,ye),_e&&_e(Ee,ye,D),y&&y(Ee,ye)};I.push({api:we,params:v,callback:Be}),w._addTasks(I)}function L(v,y){var w=this,_=v.SliceSize===void 0?w.options.SliceSize:v.SliceSize,I=0,M=0,V=u.throttleOnProgress.call(w,M,v.onProgress),D=v.files.length,q=v.onFileFinish,K=Array(D),oe=function(_e,Be,ke){V(null,!0),q&&q(_e,Be,ke),K[ke.Index]={options:ke,error:_e,data:Be},--D<=0&&y&&y(null,{files:K})},he=[];u.each(v.files,function(we,_e){(function(){var Be=we.Body,ke=Be.size||Be.length||0,Ee={Index:_e,TaskId:""};if(!w.options.UseRawKey&&we.Key&&we.Key.substr(0,1)==="/"&&(we.Key=we.Key.substr(1)),I+=ke,w.options.EnableReporter){var ye=w.options.UseAccelerate||typeof w.options.Domain=="string"&&w.options.Domain.includes("accelerate."),H=ke>_?"sliceUploadFile":"putObject";we.tracker=new l({Beacon:w.options.BeaconReporter,clsReporter:w.options.ClsReporter,bucket:we.Bucket,region:we.Region,apiName:"uploadFiles",realApi:H,fileKey:we.Key,fileSize:ke,accelerate:ye,deepTracker:w.options.DeepTracker,customId:w.options.CustomId,delay:w.options.TrackerDelay})}u.each(we,function(Z,J){i(Z)!=="object"&&typeof Z!="function"&&(Ee[J]=Z)});var Y=we.onTaskReady,X=function(J){Ee.TaskId=J,Y&&Y(J)};we.onTaskReady=X;var ne=0,ce=we.onProgress,pe=function(J){M=M-ne+J.loaded,ne=J.loaded,ce&&ce(J),V({loaded:M,total:I})};we.onProgress=pe;var N=ke>_?"sliceUploadFile":"putObject",B=we.onFileFinish,z=function(J,ee){we.tracker&&we.tracker.report(J,ee),B&&B(J,ee),oe&&oe(J,ee,Ee)};he.push({api:N,params:we,callback:z})})()}),w._addTasks(he)}function S(v,y){var w=new c,_=this,I=v.Bucket,M=v.Region,V=v.Key,D=v.CopySource,q=u.getSourceParams.call(this,D);if(!q){y(u.error(new Error("CopySource format error")));return}var K=q.Bucket,oe=q.Region,he=decodeURIComponent(q.Key),we=v.CopySliceSize===void 0?_.options.CopySliceSize:v.CopySliceSize;we=Math.max(0,we);var _e=v.CopyChunkSize||this.options.CopyChunkSize,Be=this.options.CopyChunkParallelLimit,ke=this.options.ChunkRetryTimes+1,Ee=0,ye=0,H,Y,X={},ne={},ce={};w.on("copy_slice_complete",function(pe){u.each(v.Headers,function(B,z){z.toLowerCase().indexOf("x-cos-meta-")});var N=u.map(pe.PartList,function(B){return{PartNumber:B.PartNumber,ETag:B.ETag}});a.retry(ke,function(B){_.multipartComplete({Bucket:I,Region:M,Key:V,UploadId:pe.UploadId,Parts:N,tracker:v.tracker,calledBySdk:"sliceCopyFile"},B)},function(B,z){if(o.removeUsing(pe.UploadId),B)return Y(null,!0),y(B);o.removeUploadId(pe.UploadId),Y({loaded:H,total:H},!0),y(null,z)})}),w.on("get_copy_data_finish",function(pe){var N=o.getCopyFileId(D,X,_e,I,V);N&&o.saveUploadId(N,pe.UploadId,_.options.UploadIdCacheLimit),o.setUsing(pe.UploadId);var B=u.filter(pe.PartList,function(z){return z.Uploaded&&(ye+=z.PartNumber>=Ee&&H%_e||_e),!z.Uploaded});a.eachLimit(B,Be,function(z,Z){var J=z.PartNumber,ee=z.CopySourceRange,me=z.end-z.start;a.retry(ke,function(le){E.call(_,{Bucket:I,Region:M,Key:V,CopySource:D,UploadId:pe.UploadId,PartNumber:J,CopySourceRange:ee,tracker:v.tracker,calledBySdk:"sliceCopyFile"},le)},function(le,fe){if(le)return Z(le);ye+=me,Y({loaded:ye,total:H}),z.ETag=fe.ETag,Z(le||null,fe)})},function(z){if(z)return o.removeUsing(pe.UploadId),Y(null,!0),y(z);w.emit("copy_slice_complete",pe)})}),w.on("get_chunk_size_finish",function(){var pe=function(){_.multipartInit({Bucket:I,Region:M,Key:V,Headers:ce,tracker:v.tracker,calledBySdk:"sliceCopyFile"},function(J,ee){if(J)return y(J);v.UploadId=ee.UploadId,w.emit("get_copy_data_finish",{UploadId:v.UploadId,PartList:v.PartList})})},N=o.getCopyFileId(D,X,_e,I,V),B=o.getUploadIdList(N);if(!N||!B)return pe();var z=function(J){if(J>=B.length)return pe();var ee=B[J];if(o.using[ee])return z(J+1);g.call(_,{Bucket:I,Region:M,Key:V,UploadId:ee,tracker:v.tracker,calledBySdk:"sliceCopyFile"},function(me,le){if(me)o.removeUploadId(ee),z(J+1);else{if(o.using[ee])return z(J+1);var fe={},ie=0;u.each(le.PartList,function(Te){var ve=parseInt(Te.Size),Re=ie+ve-1;fe[Te.PartNumber+"|"+ie+"|"+Re]=Te.ETag,ie+=ve}),u.each(v.PartList,function(Te){var ve=fe[Te.PartNumber+"|"+Te.start+"|"+Te.end];ve&&(Te.ETag=ve,Te.Uploaded=!0)}),w.emit("get_copy_data_finish",{UploadId:ee,PartList:v.PartList})}})};z(0)}),w.on("get_file_size_finish",function(){if(function(){for(var N=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],B=1024*1024,z=0;z<N.length&&(B=N[z]*1024*1024,!(H/B<=_.options.MaxPartNumber));z++);v.ChunkSize=_e=Math.max(_e,B),Ee=Math.ceil(H/_e);for(var Z=[],J=1;J<=Ee;J++){var ee=(J-1)*_e,me=J*_e<H?J*_e-1:H-1,le={PartNumber:J,start:ee,end:me,CopySourceRange:"bytes="+ee+"-"+me};Z.push(le)}v.PartList=Z}(),v.Headers["x-cos-metadata-directive"]==="Replaced"?ce=v.Headers:ce=ne,ce["x-cos-storage-class"]=v.Headers["x-cos-storage-class"]||ne["x-cos-storage-class"],ce=u.clearKey(ce),ne["x-cos-storage-class"]==="ARCHIVE"||ne["x-cos-storage-class"]==="DEEP_ARCHIVE"){var pe=ne["x-cos-restore"];if(!pe||pe==='ongoing-request="true"'){y(u.error(new Error("Unrestored archive object is not allowed to be copied")));return}}delete ce["x-cos-copy-source"],delete ce["x-cos-metadata-directive"],delete ce["x-cos-copy-source-If-Modified-Since"],delete ce["x-cos-copy-source-If-Unmodified-Since"],delete ce["x-cos-copy-source-If-Match"],delete ce["x-cos-copy-source-If-None-Match"],w.emit("get_chunk_size_finish")}),_.headObject({Bucket:K,Region:oe,Key:he,tracker:v.tracker,calledBySdk:"sliceCopyFile"},function(pe,N){if(pe){pe.statusCode&&pe.statusCode===404?y(u.error(pe,{ErrorStatus:he+" Not Exist"})):y(pe);return}if(H=v.FileSize=N.headers["content-length"],H===void 0||!H){y(u.error(new Error('get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）')));return}if(v.tracker&&v.tracker.setParams({httpSize:H}),Y=u.throttleOnProgress.call(_,H,v.onProgress),H<=we)v.Headers["x-cos-metadata-directive"]||(v.Headers["x-cos-metadata-directive"]="Copy"),_.putObjectCopy(Object.assign(v,{calledBySdk:"sliceCopyFile"}),function(z,Z){if(z)return Y(null,!0),y(z);Y({loaded:H,total:H},!0),y(z,Z)});else{var B=N.headers;X=B,ne={"Cache-Control":B["cache-control"],"Content-Disposition":B["content-disposition"],"Content-Encoding":B["content-encoding"],"Content-Type":B["content-type"],Expires:B.expires,"x-cos-storage-class":B["x-cos-storage-class"]},u.each(B,function(z,Z){var J="x-cos-meta-";Z.indexOf(J)===0&&Z.length>J.length&&(ne[Z]=z)}),w.emit("get_file_size_finish")}})}function E(v,y){var w=v.TaskId,_=v.Bucket,I=v.Region,M=v.Key,V=v.CopySource,D=v.UploadId,q=v.PartNumber*1,K=v.CopySourceRange,oe=this.options.ChunkRetryTimes+1,he=this;a.retry(oe,function(we){he.uploadPartCopy({TaskId:w,Bucket:_,Region:I,Key:M,CopySource:V,UploadId:D,PartNumber:q,CopySourceRange:K,tracker:v.tracker,calledBySdk:v.calledBySdk},function(_e,Be){we(_e||null,Be)})},function(we,_e){return y(we,_e)})}var k={sliceUploadFile:f,abortUploadTask:A,uploadFile:x,uploadFiles:L,sliceCopyFile:S};n.exports.init=function(v,y){y.transferToTaskMethod(k,"sliceUploadFile"),u.each(k,function(w,_){v.prototype[_]=u.apiWrapper(_,w)})}},"./src/async.js":function(n,r){var s=function(c,u,l,f){if(f=f||function(){},!c.length||u<=0)return f();var d=0,p=0,g=0;(function m(){if(d>=c.length)return f();for(;g<u&&p<c.length;)p+=1,g+=1,l(c[p-1],function(b){b?(f(b),f=function(){}):(d+=1,g-=1,d>=c.length?f():m())})})()},i=function(c,u,l){var f=function(p){u(function(g,m){g&&p<c?f(p+1):l(g,m)})};c<1?l():f(1)},o={eachLimit:s,retry:i};n.exports=o},"./src/base.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s("./node_modules/@babel/runtime/helpers/typeof.js");function a(h,O){var C=Object.keys(h);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(h);O&&(P=P.filter(function(F){return Object.getOwnPropertyDescriptor(h,F).enumerable})),C.push.apply(C,P)}return C}function c(h){for(var O=1;O<arguments.length;O++){var C=arguments[O]!=null?arguments[O]:{};O%2?a(Object(C),!0).forEach(function(P){i(h,P,C[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(C)):a(Object(C)).forEach(function(P){Object.defineProperty(h,P,Object.getOwnPropertyDescriptor(C,P))})}return h}var u=s("./lib/request.js"),l=s("./src/util.js");function f(h,O){var C=this.options.Protocol||(l.isBrowser&&(typeof location>"u"?"undefined":o(location))==="object"&&location.protocol==="http:"?"http:":"https:"),P=this.options.ServiceDomain,F=h.AppId||this.options.appId,U=h.Region;P?(P=P.replace(/\{\{AppId\}\}/gi,F||"").replace(/\{\{Region\}\}/gi,U||"").replace(/\{\{.*?\}\}/gi,""),/^[a-zA-Z]+:\/\//.test(P)||(P=C+"//"+P),P.slice(-1)==="/"&&(P=P.slice(0,-1))):U?P=C+"//cos."+U+".myqcloud.com":P=C+"//service.cos.myqcloud.com";var j="",W=U?"cos."+U+".myqcloud.com":"service.cos.myqcloud.com",te=P.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1");W===te&&(j=W),Ce.call(this,{Action:"name/cos:GetService",url:P,method:"GET",headers:h.Headers,SignHost:j,tracker:h.tracker},function(Oe,Pe){if(Oe)return O(Oe);var Ge=Pe&&Pe.ListAllMyBucketsResult&&Pe.ListAllMyBucketsResult.Buckets&&Pe.ListAllMyBucketsResult.Buckets.Bucket||[];Ge=l.isArray(Ge)?Ge:[Ge];var de=Pe&&Pe.ListAllMyBucketsResult&&Pe.ListAllMyBucketsResult.Owner||{};O(null,{Buckets:Ge,Owner:de,statusCode:Pe.statusCode,headers:Pe.headers})})}function d(h,O){var C=this,P="";if(h.BucketAZConfig){var F={BucketAZConfig:h.BucketAZConfig};P=l.json2xml({CreateBucketConfiguration:F})}Ce.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,body:P,tracker:h.tracker},function(U,j){if(U)return O(U);var W=Ln({protocol:C.options.Protocol,domain:C.options.Domain,bucket:h.Bucket,region:h.Region,isLocation:!0});O(null,{Location:W,statusCode:j.statusCode,headers:j.headers})})}function p(h,O){Ce.call(this,{Action:"name/cos:HeadBucket",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,method:"HEAD",tracker:h.tracker},O)}function g(h,O){var C={};C.prefix=h.Prefix||"",C.delimiter=h.Delimiter,C.marker=h.Marker,C["max-keys"]=h.MaxKeys,C["encoding-type"]=h.EncodingType,Ce.call(this,{Action:"name/cos:GetBucket",ResourceKey:C.prefix,method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,qs:C,tracker:h.tracker},function(P,F){if(P)return O(P);var U=F.ListBucketResult||{},j=U.Contents||[],W=U.CommonPrefixes||[];j=l.isArray(j)?j:[j],W=l.isArray(W)?W:[W];var te=l.clone(U);l.extend(te,{Contents:j,CommonPrefixes:W,statusCode:F.statusCode,headers:F.headers}),O(null,te)})}function m(h,O){Ce.call(this,{Action:"name/cos:DeleteBucket",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,method:"DELETE",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function b(h,O){var C=h.Headers,P="";if(h.AccessControlPolicy){var F=l.clone(h.AccessControlPolicy||{}),U=F.Grants||F.Grant;U=l.isArray(U)?U:[U],delete F.Grant,delete F.Grants,F.AccessControlList={Grant:U},P=l.json2xml({AccessControlPolicy:F}),C["Content-Type"]="application/xml",C["Content-MD5"]=l.b64(l.md5(P))}l.each(C,function(j,W){W.indexOf("x-cos-grant-")===0&&(C[W]=ar(C[W]))}),Ce.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:h.Bucket,Region:h.Region,headers:C,action:"acl",body:P,tracker:h.tracker},function(j,W){if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function R(h,O){Ce.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"acl",tracker:h.tracker},function(C,P){if(C)return O(C);var F=P.AccessControlPolicy||{},U=F.Owner||{},j=F.AccessControlList.Grant||[];j=l.isArray(j)?j:[j];var W=Xe(F);P.headers&&P.headers["x-cos-acl"]&&(W.ACL=P.headers["x-cos-acl"]),W=l.extend(W,{Owner:U,Grants:j,statusCode:P.statusCode,headers:P.headers}),O(null,W)})}function A(h,O){var C=h.CORSConfiguration||{},P=C.CORSRules||h.CORSRules||[];P=l.clone(l.isArray(P)?P:[P]),l.each(P,function(W){l.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(te){var Oe=te+"s",Pe=W[Oe]||W[te]||[];delete W[Oe],W[te]=l.isArray(Pe)?Pe:[Pe]})});var F={CORSRule:P};h.ResponseVary&&(F.ResponseVary=h.ResponseVary);var U=l.json2xml({CORSConfiguration:F}),j=h.Headers;j["Content-Type"]="application/xml",j["Content-MD5"]=l.b64(l.md5(U)),Ce.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:U,action:"cors",headers:j,tracker:h.tracker},function(W,te){if(W)return O(W);O(null,{statusCode:te.statusCode,headers:te.headers})})}function T(h,O){Ce.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"cors",tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.error&&C.error.Code==="NoSuchCORSConfiguration"){var F={CORSRules:[],statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}var U=P.CORSConfiguration||{},j=U.CORSRules||U.CORSRule||[];j=l.clone(l.isArray(j)?j:[j]);var W=U.ResponseVary;l.each(j,function(te){l.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(Oe){var Pe=Oe+"s",Ge=te[Pe]||te[Oe]||[];delete te[Oe],te[Pe]=l.isArray(Ge)?Ge:[Ge]})}),O(null,{CORSRules:j,ResponseVary:W,statusCode:P.statusCode,headers:P.headers})})}function x(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"cors",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode||C.statusCode,headers:P.headers})})}function L(h,O){Ce.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"location",tracker:h.tracker},O)}function S(h,O){var C=h.Policy;try{typeof C=="string"&&(C=JSON.parse(C))}catch{}if(!C||typeof C=="string")return O(l.error(new Error("Policy format error")));var P=JSON.stringify(C);C.version||(C.version="2.0");var F=h.Headers;F["Content-Type"]="application/json",F["Content-MD5"]=l.b64(l.md5(P)),Ce.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:h.Bucket,Region:h.Region,action:"policy",body:P,headers:F,tracker:h.tracker},function(U,j){if(U&&U.statusCode===204)return O(null,{statusCode:U.statusCode});if(U)return O(U);O(null,{statusCode:j.statusCode,headers:j.headers})})}function E(h,O){Ce.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"policy",rawBody:!0,tracker:h.tracker},function(C,P){if(C)return C.statusCode&&C.statusCode===403?O(l.error(C,{ErrorStatus:"Access Denied"})):C.statusCode&&C.statusCode===405?O(l.error(C,{ErrorStatus:"Method Not Allowed"})):C.statusCode&&C.statusCode===404?O(l.error(C,{ErrorStatus:"Policy Not Found"})):O(C);var F={};try{F=JSON.parse(P.body)}catch{}O(null,{Policy:F,statusCode:P.statusCode,headers:P.headers})})}function k(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"policy",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode||C.statusCode,headers:P.headers})})}function v(h,O){var C=h.Tagging||{},P=C.TagSet||C.Tags||h.Tags||[];P=l.clone(l.isArray(P)?P:[P]);var F=l.json2xml({Tagging:{TagSet:{Tag:P}}}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:F,action:"tagging",headers:U,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function y(h,O){Ce.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"tagging",tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.error&&(C.error==="Not Found"||C.error.Code==="NoSuchTagSet")){var F={Tags:[],statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}var U=[];try{U=P.Tagging.TagSet.Tag||[]}catch{}U=l.clone(l.isArray(U)?U:[U]),O(null,{Tags:U,statusCode:P.statusCode,headers:P.headers})})}function w(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"tagging",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function _(h,O){var C=h.LifecycleConfiguration||{},P=C.Rules||h.Rules||[];P=l.clone(P);var F=l.json2xml({LifecycleConfiguration:{Rule:P}}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:F,action:"lifecycle",headers:U,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function I(h,O){Ce.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"lifecycle",tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.error&&C.error.Code==="NoSuchLifecycleConfiguration"){var F={Rules:[],statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}var U=[];try{U=P.LifecycleConfiguration.Rule||[]}catch{}U=l.clone(l.isArray(U)?U:[U]),O(null,{Rules:U,statusCode:P.statusCode,headers:P.headers})})}function M(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"lifecycle",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function V(h,O){if(!h.VersioningConfiguration){O(l.error(new Error("missing param VersioningConfiguration")));return}var C=h.VersioningConfiguration||{},P=l.json2xml({VersioningConfiguration:C}),F=h.Headers;F["Content-Type"]="application/xml",F["Content-MD5"]=l.b64(l.md5(P)),Ce.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:P,action:"versioning",headers:F,tracker:h.tracker},function(U,j){if(U&&U.statusCode===204)return O(null,{statusCode:U.statusCode});if(U)return O(U);O(null,{statusCode:j.statusCode,headers:j.headers})})}function D(h,O){Ce.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"versioning",tracker:h.tracker},function(C,P){C||!P.VersioningConfiguration&&(P.VersioningConfiguration={}),O(C,P)})}function q(h,O){var C=l.clone(h.ReplicationConfiguration),P=l.json2xml({ReplicationConfiguration:C});P=P.replace(/<(\/?)Rules>/gi,"<$1Rule>"),P=P.replace(/<(\/?)Tags>/gi,"<$1Tag>");var F=h.Headers;F["Content-Type"]="application/xml",F["Content-MD5"]=l.b64(l.md5(P)),Ce.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:P,action:"replication",headers:F,tracker:h.tracker},function(U,j){if(U&&U.statusCode===204)return O(null,{statusCode:U.statusCode});if(U)return O(U);O(null,{statusCode:j.statusCode,headers:j.headers})})}function K(h,O){Ce.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"replication",tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.error&&(C.error==="Not Found"||C.error.Code==="ReplicationConfigurationnotFoundError")){var F={ReplicationConfiguration:{Rules:[]},statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}!P.ReplicationConfiguration&&(P.ReplicationConfiguration={}),P.ReplicationConfiguration.Rule&&(P.ReplicationConfiguration.Rules=l.makeArray(P.ReplicationConfiguration.Rule),delete P.ReplicationConfiguration.Rule),O(C,P)})}function oe(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"replication",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function he(h,O){if(!h.WebsiteConfiguration){O(l.error(new Error("missing param WebsiteConfiguration")));return}var C=l.clone(h.WebsiteConfiguration||{}),P=C.RoutingRules||C.RoutingRule||[];P=l.isArray(P)?P:[P],delete C.RoutingRule,delete C.RoutingRules,P.length&&(C.RoutingRules={RoutingRule:P});var F=l.json2xml({WebsiteConfiguration:C}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:F,action:"website",headers:U,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function we(h,O){Ce.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,action:"website",tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.error.Code==="NoSuchWebsiteConfiguration"){var F={WebsiteConfiguration:{},statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}var U=P.WebsiteConfiguration||{};if(U.RoutingRules){var j=l.clone(U.RoutingRules.RoutingRule||[]);j=l.makeArray(j),U.RoutingRules=j}O(null,{WebsiteConfiguration:U,statusCode:P.statusCode,headers:P.headers})})}function _e(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"website",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function Be(h,O){if(!h.RefererConfiguration){O(l.error(new Error("missing param RefererConfiguration")));return}var C=l.clone(h.RefererConfiguration||{}),P=C.DomainList||{},F=P.Domains||P.Domain||[];F=l.isArray(F)?F:[F],F.length&&(C.DomainList={Domain:F});var U=l.json2xml({RefererConfiguration:C}),j=h.Headers;j["Content-Type"]="application/xml",j["Content-MD5"]=l.b64(l.md5(U)),Ce.call(this,{Action:"name/cos:PutBucketReferer",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:U,action:"referer",headers:j,tracker:h.tracker},function(W,te){if(W&&W.statusCode===204)return O(null,{statusCode:W.statusCode});if(W)return O(W);O(null,{statusCode:te.statusCode,headers:te.headers})})}function ke(h,O){Ce.call(this,{Action:"name/cos:GetBucketReferer",method:"GET",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,action:"referer",tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.error.Code==="NoSuchRefererConfiguration"){var F={WebsiteConfiguration:{},statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}var U=P.RefererConfiguration||{};if(U.DomainList){var j=l.makeArray(U.DomainList.Domain||[]);U.DomainList={Domains:j}}O(null,{RefererConfiguration:U,statusCode:P.statusCode,headers:P.headers})})}function Ee(h,O){var C=h.DomainConfiguration||{},P=C.DomainRule||h.DomainRule||[];P=l.clone(P);var F=l.json2xml({DomainConfiguration:{DomainRule:P}}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:PutBucketDomain",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:F,action:"domain",headers:U,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function ye(h,O){Ce.call(this,{Action:"name/cos:GetBucketDomain",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"domain",tracker:h.tracker},function(C,P){if(C)return O(C);var F=[];try{F=P.DomainConfiguration.DomainRule||[]}catch{}F=l.clone(l.isArray(F)?F:[F]),O(null,{DomainRule:F,statusCode:P.statusCode,headers:P.headers})})}function H(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketDomain",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"domain",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function Y(h,O){var C=h.OriginConfiguration||{},P=C.OriginRule||h.OriginRule||[];P=l.clone(P);var F=l.json2xml({OriginConfiguration:{OriginRule:P}}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:PutBucketOrigin",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:F,action:"origin",headers:U,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function X(h,O){Ce.call(this,{Action:"name/cos:GetBucketOrigin",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"origin",tracker:h.tracker},function(C,P){if(C)return O(C);var F=[];try{F=P.OriginConfiguration.OriginRule||[]}catch{}F=l.clone(l.isArray(F)?F:[F]),O(null,{OriginRule:F,statusCode:P.statusCode,headers:P.headers})})}function ne(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketOrigin",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"origin",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function ce(h,O){var C=l.json2xml({BucketLoggingStatus:h.BucketLoggingStatus||""}),P=h.Headers;P["Content-Type"]="application/xml",P["Content-MD5"]=l.b64(l.md5(C)),Ce.call(this,{Action:"name/cos:PutBucketLogging",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:C,action:"logging",headers:P,tracker:h.tracker},function(F,U){if(F&&F.statusCode===204)return O(null,{statusCode:F.statusCode});if(F)return O(F);O(null,{statusCode:U.statusCode,headers:U.headers})})}function pe(h,O){Ce.call(this,{Action:"name/cos:GetBucketLogging",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"logging",tracker:h.tracker},function(C,P){if(C)return O(C);O(null,{BucketLoggingStatus:P.BucketLoggingStatus,statusCode:P.statusCode,headers:P.headers})})}function N(h,O,C){var P=l.clone(O.InventoryConfiguration);if(P.OptionalFields){var F=P.OptionalFields||[];P.OptionalFields={Field:F}}if(P.Destination&&P.Destination.COSBucketDestination&&P.Destination.COSBucketDestination.Encryption){var U=P.Destination.COSBucketDestination.Encryption;Object.keys(U).indexOf("SSECOS")>-1&&(U["SSE-COS"]=U.SSECOS,delete U.SSECOS)}var j=l.json2xml({InventoryConfiguration:P}),W=O.Headers;W["Content-Type"]="application/xml",W["Content-MD5"]=l.b64(l.md5(j));var te=h==="PUT"?"name/cos:PutBucketInventory":"name/cos:PostBucketInventory";Ce.call(this,{Action:te,method:h,Bucket:O.Bucket,Region:O.Region,body:j,action:"inventory",qs:{id:O.Id},headers:W,tracker:O.tracker},function(Oe,Pe){if(Oe&&Oe.statusCode===204)return C(null,{statusCode:Oe.statusCode});if(Oe)return C(Oe);C(null,{statusCode:Pe.statusCode,headers:Pe.headers})})}function B(h,O){return N.call(this,"PUT",h,O)}function z(h,O){return N.call(this,"POST",h,O)}function Z(h,O){Ce.call(this,{Action:"name/cos:GetBucketInventory",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"inventory",qs:{id:h.Id},tracker:h.tracker},function(C,P){if(C)return O(C);var F=P.InventoryConfiguration;if(F&&F.OptionalFields&&F.OptionalFields.Field){var U=F.OptionalFields.Field;l.isArray(U)||(U=[U]),F.OptionalFields=U}if(F.Destination&&F.Destination.COSBucketDestination&&F.Destination.COSBucketDestination.Encryption){var j=F.Destination.COSBucketDestination.Encryption;Object.keys(j).indexOf("SSE-COS")>-1&&(j.SSECOS=j["SSE-COS"],delete j["SSE-COS"])}O(null,{InventoryConfiguration:F,statusCode:P.statusCode,headers:P.headers})})}function J(h,O){Ce.call(this,{Action:"name/cos:ListBucketInventory",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"inventory",qs:{"continuation-token":h.ContinuationToken},tracker:h.tracker},function(C,P){if(C)return O(C);var F=P.ListInventoryConfigurationResult,U=F.InventoryConfiguration||[];U=l.isArray(U)?U:[U],delete F.InventoryConfiguration,l.each(U,function(j){if(j&&j.OptionalFields&&j.OptionalFields.Field){var W=j.OptionalFields.Field;l.isArray(W)||(W=[W]),j.OptionalFields=W}if(j.Destination&&j.Destination.COSBucketDestination&&j.Destination.COSBucketDestination.Encryption){var te=j.Destination.COSBucketDestination.Encryption;Object.keys(te).indexOf("SSE-COS")>-1&&(te.SSECOS=te["SSE-COS"],delete te["SSE-COS"])}}),F.InventoryConfigurations=U,l.extend(F,{statusCode:P.statusCode,headers:P.headers}),O(null,F)})}function ee(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketInventory",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"inventory",qs:{id:h.Id},tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function me(h,O){if(!h.AccelerateConfiguration){O(l.error(new Error("missing param AccelerateConfiguration")));return}var C={AccelerateConfiguration:h.AccelerateConfiguration||{}},P=l.json2xml(C),F={};F["Content-Type"]="application/xml",F["Content-MD5"]=l.b64(l.md5(P)),Ce.call(this,{Action:"name/cos:PutBucketAccelerate",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:P,action:"accelerate",headers:F,tracker:h.tracker},function(U,j){if(U)return O(U);O(null,{statusCode:j.statusCode,headers:j.headers})})}function le(h,O){Ce.call(this,{Action:"name/cos:GetBucketAccelerate",method:"GET",Bucket:h.Bucket,Region:h.Region,action:"accelerate",tracker:h.tracker},function(C,P){C||!P.AccelerateConfiguration&&(P.AccelerateConfiguration={}),O(C,P)})}function fe(h,O){var C=h.ServerSideEncryptionConfiguration||{},P=C.Rule||C.Rules||[],F=l.json2xml({ServerSideEncryptionConfiguration:{Rule:P}}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:PutBucketEncryption",method:"PUT",Bucket:h.Bucket,Region:h.Region,body:F,action:"encryption",headers:U,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function ie(h,O){Ce.call(this,{Action:"name/cos:GetBucketEncryption",method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"encryption",tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.code==="NoSuchEncryptionConfiguration"){var F={EncryptionConfiguration:{Rules:[]},statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}var U=l.makeArray(P.EncryptionConfiguration&&P.EncryptionConfiguration.Rule||[]);P.EncryptionConfiguration={Rules:U},O(C,P)})}function Te(h,O){Ce.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"encryption",tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function ve(h,O){Ce.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:h.Bucket,Region:h.Region,Key:h.Key,VersionId:h.VersionId,headers:h.Headers,tracker:h.tracker},function(C,P){if(C){var F=C.statusCode;return h.Headers["If-Modified-Since"]&&F&&F===304?O(null,{NotModified:!0,statusCode:F}):O(C)}P.ETag=l.attr(P.headers,"etag",""),O(null,P)})}function Re(h,O){var C={};C.prefix=h.Prefix||"",C.delimiter=h.Delimiter,C["key-marker"]=h.KeyMarker,C["version-id-marker"]=h.VersionIdMarker,C["max-keys"]=h.MaxKeys,C["encoding-type"]=h.EncodingType,Ce.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:C.prefix,method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,qs:C,action:"versions",tracker:h.tracker},function(P,F){if(P)return O(P);var U=F.ListVersionsResult||{},j=U.DeleteMarker||[];j=l.isArray(j)?j:[j];var W=U.Version||[];W=l.isArray(W)?W:[W];var te=l.clone(U);delete te.DeleteMarker,delete te.Version,l.extend(te,{DeleteMarkers:j,Versions:W,statusCode:F.statusCode,headers:F.headers}),O(null,te)})}function De(h,O){var C=this;if(C.logger.info({cate:"PROCESS",tag:"download",msg:"[key=".concat(h.Key,"] getObject开始")}),this.options.ObjectKeySimplifyCheck){var P=l.simplifyPath(h.Key);if(P==="/"){O(l.error(new Error("The Getobject Key is illegal")));return}}var F=h.Query||{},U=h.QueryString||"",j=l.throttleOnProgress.call(this,0,h.onProgress),W=h.tracker;W&&W.setParams({signStartTime:new Date().getTime()}),F["response-content-type"]=h.ResponseContentType,F["response-content-language"]=h.ResponseContentLanguage,F["response-expires"]=h.ResponseExpires,F["response-cache-control"]=h.ResponseCacheControl,F["response-content-disposition"]=h.ResponseContentDisposition,F["response-content-encoding"]=h.ResponseContentEncoding,Ce.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:h.Bucket,Region:h.Region,Key:h.Key,VersionId:h.VersionId,DataType:h.DataType,headers:h.Headers,qs:F,qsStr:U,rawBody:!0,onDownloadProgress:j,tracker:W},function(te,Oe){if(j(null,!0),te){var Pe=te.statusCode;return h.Headers["If-Modified-Since"]&&Pe&&Pe===304?O(null,{NotModified:!0}):O(te)}O(null,{Body:Oe.body,ETag:l.attr(Oe.headers,"etag",""),statusCode:Oe.statusCode,headers:Oe.headers}),C.logger.info({cate:"PROCESS",tag:"download",msg:"[key=".concat(h.Key,"] getObject结束")})})}function We(h,O){var C=this,P=h.ContentLength,F=l.throttleOnProgress.call(C,P,h.onProgress);C.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(h.Key,"] putObject开始")});var U=h.Headers;!U["Cache-Control"]&&!U["cache-control"]&&(U["Cache-Control"]=""),!U["Content-Type"]&&!U["content-type"]&&(U["Content-Type"]=h.Body&&h.Body.type||"");var j=h.UploadAddMetaMd5||C.options.UploadAddMetaMd5||C.options.UploadCheckContentMd5,W=h.tracker;j&&W&&W.setParams({md5StartTime:new Date().getTime()}),j&&C.logger.debug({cate:"PROCESS",tag:"upload",msg:"[key=".concat(h.Key,"] 开始计算 md5")}),l.getBodyMd5(j,h.Body,function(te){te&&(C.logger.debug({cate:"PROCESS",tag:"upload",msg:"[key=".concat(h.Key,"] md5: ").concat(te,"，md5Base64=").concat(l.b64(te))}),W&&W.setParams({md5EndTime:new Date().getTime()}),C.options.UploadCheckContentMd5&&(U["Content-MD5"]=l.b64(te)),(h.UploadAddMetaMd5||C.options.UploadAddMetaMd5)&&(U["x-cos-meta-md5"]=te)),h.ContentLength!==void 0&&(U["Content-Length"]=h.ContentLength),F(null,!0),Ce.call(C,{Action:"name/cos:PutObject",TaskId:h.TaskId,method:"PUT",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,qs:h.Query,body:h.Body,onProgress:F,tracker:W},function(Oe,Pe){if(Oe)return C.logger.error({cate:"ERROR",tag:"upload",msg:"上传失败，错误信息：".concat(JSON.stringify(Oe))}),F(null,!0),O(Oe);F({loaded:P,total:P},!0);var Ge=Ln({ForcePathStyle:C.options.ForcePathStyle,protocol:C.options.Protocol,domain:C.options.Domain,bucket:h.Bucket,region:C.options.UseAccelerate?"accelerate":h.Region,object:h.Key});Ge=Ge.substr(Ge.indexOf("://")+3),Pe.Location=Ge,Pe.ETag=l.attr(Pe.headers,"etag",""),C.logger.info({cate:"RESULT",tag:"upload",msg:"上传成功，Location=".concat(Ge)}),C.logger.info({cate:"PROCESS",tag:"upload",msg:"[key=".concat(h.Key,"] putObject结束")}),O(null,Pe)})},h.onHashProgress)}function ct(h,O){Ce.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,VersionId:h.VersionId,action:h.Recursive?"recursive":"",tracker:h.tracker},function(C,P){if(C){var F=C.statusCode;return F&&F===404?O(null,{BucketNotFound:!0,statusCode:F}):O(C)}O(null,{statusCode:P.statusCode,headers:P.headers})})}function et(h,O){var C={};h.VersionId&&(C.versionId=h.VersionId),Ce.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,qs:C,action:"acl",tracker:h.tracker},function(P,F){if(P)return O(P);var U=F.AccessControlPolicy||{},j=U.Owner||{},W=U.AccessControlList&&U.AccessControlList.Grant||[];W=l.isArray(W)?W:[W];var te=Xe(U);delete te.GrantWrite,F.headers&&F.headers["x-cos-acl"]&&(te.ACL=F.headers["x-cos-acl"]),te=l.extend(te,{Owner:j,Grants:W,statusCode:F.statusCode,headers:F.headers}),O(null,te)})}function Gt(h,O){var C=h.Headers,P="";if(h.AccessControlPolicy){var F=l.clone(h.AccessControlPolicy||{}),U=F.Grants||F.Grant;U=l.isArray(U)?U:[U],delete F.Grant,delete F.Grants,F.AccessControlList={Grant:U},P=l.json2xml({AccessControlPolicy:F}),C["Content-Type"]="application/xml",C["Content-MD5"]=l.b64(l.md5(P))}l.each(C,function(j,W){W.indexOf("x-cos-grant-")===0&&(C[W]=ar(C[W]))}),Ce.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:h.Bucket,Region:h.Region,Key:h.Key,action:"acl",headers:C,body:P,tracker:h.tracker},function(j,W){if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function Pt(h,O){var C=h.Headers;C.Origin=h.Origin,C["Access-Control-Request-Method"]=h.AccessControlRequestMethod,C["Access-Control-Request-Headers"]=h.AccessControlRequestHeaders,Ce.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:C,tracker:h.tracker},function(P,F){if(P)return P.statusCode&&P.statusCode===403?O(null,{OptionsForbidden:!0,statusCode:P.statusCode}):O(P);var U=F.headers||{};O(null,{AccessControlAllowOrigin:U["access-control-allow-origin"],AccessControlAllowMethods:U["access-control-allow-methods"],AccessControlAllowHeaders:U["access-control-allow-headers"],AccessControlExposeHeaders:U["access-control-expose-headers"],AccessControlMaxAge:U["access-control-max-age"],statusCode:F.statusCode,headers:F.headers})})}function hn(h,O){var C=this,P=h.Headers;!P["Cache-Control"]&&!P["cache-control"]&&(P["Cache-Control"]="");var F=h.CopySource||"",U=l.getSourceParams.call(this,F);if(!U){O(l.error(new Error("CopySource format error")));return}var j=U.Bucket,W=U.Region,te=decodeURIComponent(U.Key);Ce.call(this,{Scope:[{action:"name/cos:GetObject",bucket:j,region:W,prefix:te},{action:"name/cos:PutObject",bucket:h.Bucket,region:h.Region,prefix:h.Key}],method:"PUT",Bucket:h.Bucket,Region:h.Region,Key:h.Key,VersionId:h.VersionId,headers:h.Headers,tracker:h.tracker},function(Oe,Pe){if(Oe)return O(Oe);var Ge=l.clone(Pe.CopyObjectResult||{}),de=Ln({ForcePathStyle:C.options.ForcePathStyle,protocol:C.options.Protocol,domain:C.options.Domain,bucket:h.Bucket,region:h.Region,object:h.Key,isLocation:!0});l.extend(Ge,{Location:de,statusCode:Pe.statusCode,headers:Pe.headers}),O(null,Ge)})}function dt(h,O){var C=h.CopySource||"",P=l.getSourceParams.call(this,C);if(!P){O(l.error(new Error("CopySource format error")));return}var F=P.Bucket,U=P.Region,j=decodeURIComponent(P.Key);Ce.call(this,{Scope:[{action:"name/cos:GetObject",bucket:F,region:U,prefix:j},{action:"name/cos:PutObject",bucket:h.Bucket,region:h.Region,prefix:h.Key}],method:"PUT",Bucket:h.Bucket,Region:h.Region,Key:h.Key,VersionId:h.VersionId,qs:{partNumber:h.PartNumber,uploadId:h.UploadId},headers:h.Headers,tracker:h.tracker},function(W,te){if(W)return O(W);var Oe=l.clone(te.CopyPartResult||{});l.extend(Oe,{statusCode:te.statusCode,headers:te.headers}),O(null,Oe)})}function re(h,O){var C=h.Objects||[],P=h.Quiet;C=l.isArray(C)?C:[C];var F=l.json2xml({Delete:{Object:C,Quiet:P||!1}}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F));var j=l.map(C,function(W){return{action:"name/cos:DeleteObject",bucket:h.Bucket,region:h.Region,prefix:W.Key}});Ce.call(this,{Scope:j,method:"POST",Bucket:h.Bucket,Region:h.Region,body:F,action:"delete",headers:U,tracker:h.tracker},function(W,te){if(W)return O(W);var Oe=te.DeleteResult||{},Pe=Oe.Deleted||[],Ge=Oe.Error||[];Pe=l.isArray(Pe)?Pe:[Pe],Ge=l.isArray(Ge)?Ge:[Ge];var de=l.clone(Oe);l.extend(de,{Error:Ge,Deleted:Pe,statusCode:te.statusCode,headers:te.headers}),O(null,de)})}function $(h,O){var C=h.Headers;if(!h.RestoreRequest){O(l.error(new Error("missing param RestoreRequest")));return}var P=h.RestoreRequest||{},F=l.json2xml({RestoreRequest:P});C["Content-Type"]="application/xml",C["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:h.Bucket,Region:h.Region,Key:h.Key,VersionId:h.VersionId,body:F,action:"restore",headers:C,tracker:h.tracker},O)}function G(h,O){var C=h.Tagging||{},P=C.TagSet||C.Tags||h.Tags||[];P=l.clone(l.isArray(P)?P:[P]);var F=l.json2xml({Tagging:{TagSet:{Tag:P}}}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:PutObjectTagging",method:"PUT",Bucket:h.Bucket,Key:h.Key,Region:h.Region,body:F,action:"tagging",headers:U,VersionId:h.VersionId,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);O(null,{statusCode:W.statusCode,headers:W.headers})})}function Q(h,O){Ce.call(this,{Action:"name/cos:GetObjectTagging",method:"GET",Key:h.Key,Bucket:h.Bucket,Region:h.Region,headers:h.Headers,action:"tagging",VersionId:h.VersionId,tracker:h.tracker},function(C,P){if(C){if(C.statusCode===404&&C.error&&(C.error==="Not Found"||C.error.Code==="NoSuchTagSet")){var F={Tags:[],statusCode:C.statusCode};C.headers&&(F.headers=C.headers),O(null,F)}else O(C);return}var U=[];try{U=P.Tagging.TagSet.Tag||[]}catch{}U=l.clone(l.isArray(U)?U:[U]),O(null,{Tags:U,statusCode:P.statusCode,headers:P.headers})})}function ae(h,O){Ce.call(this,{Action:"name/cos:DeleteObjectTagging",method:"DELETE",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,action:"tagging",VersionId:h.VersionId,tracker:h.tracker},function(C,P){if(C&&C.statusCode===204)return O(null,{statusCode:C.statusCode});if(C)return O(C);O(null,{statusCode:P.statusCode,headers:P.headers})})}function ge(h,O){var C=h.SelectType;if(!C)return O(l.error(new Error("missing param SelectType")));var P=h.SelectRequest||{},F=l.json2xml({SelectRequest:P}),U=h.Headers;U["Content-Type"]="application/xml",U["Content-MD5"]=l.b64(l.md5(F)),Ce.call(this,{Action:"name/cos:GetObject",method:"POST",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,action:"select",qs:{"select-type":h.SelectType},VersionId:h.VersionId,body:F,DataType:"arraybuffer",rawBody:!0,tracker:h.tracker},function(j,W){if(j&&j.statusCode===204)return O(null,{statusCode:j.statusCode});if(j)return O(j);var te=l.parseSelectPayload(W.body);O(null,{statusCode:W.statusCode,headers:W.headers,Body:te.body,Payload:te.payload})})}function Ae(h,O){var C=this,P=h.Headers,F=h.tracker;!P["Cache-Control"]&&!P["cache-control"]&&(P["Cache-Control"]=""),!P["Content-Type"]&&!P["content-type"]&&(P["Content-Type"]=h.Body&&h.Body.type||"");var U=h.Body&&(h.UploadAddMetaMd5||C.options.UploadAddMetaMd5);U&&F&&F.setParams({md5StartTime:new Date().getTime()}),l.getBodyMd5(U,h.Body,function(j){j&&(h.Headers["x-cos-meta-md5"]=j),U&&F&&F.setParams({md5EndTime:new Date().getTime()}),Ce.call(C,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:h.Bucket,Region:h.Region,Key:h.Key,action:"uploads",headers:h.Headers,qs:h.Query,tracker:F},function(W,te){if(W)return F&&F.parent&&F.parent.setParams({errorNode:"multipartInit"}),O(W);if(te=l.clone(te||{}),te&&te.InitiateMultipartUploadResult)return O(null,l.extend(te.InitiateMultipartUploadResult,{statusCode:te.statusCode,headers:te.headers}));O(null,te)})},h.onHashProgress)}function Ue(h,O){var C=this;l.getFileSize("multipartUpload",h,function(){var P=h.tracker,F=C.options.UploadCheckContentMd5;F&&P&&P.setParams({md5StartTime:new Date().getTime()}),l.getBodyMd5(F,h.Body,function(U){U&&(h.Headers["Content-MD5"]=l.b64(U)),F&&P&&P.setParams({md5EndTime:new Date().getTime()}),P&&P.setParams({partNumber:h.PartNumber}),Ce.call(C,{Action:"name/cos:UploadPart",TaskId:h.TaskId,method:"PUT",Bucket:h.Bucket,Region:h.Region,Key:h.Key,qs:{partNumber:h.PartNumber,uploadId:h.UploadId},headers:h.Headers,onProgress:h.onProgress,body:h.Body||null,tracker:P},function(j,W){if(j)return P&&P.parent&&P.parent.setParams({errorNode:"multipartUpload"}),O(j);O(null,{ETag:l.attr(W.headers,"etag",""),statusCode:W.statusCode,headers:W.headers})})})})}function Ke(h,O){for(var C=this,P=h.UploadId,F=h.Parts,U=h.tracker,j=0,W=F.length;j<W;j++)F[j].ETag&&F[j].ETag.indexOf('"')===0||(F[j].ETag='"'+F[j].ETag+'"');var te=l.json2xml({CompleteMultipartUpload:{Part:F}});te=te.replace(/\n\s*/g,"");var Oe=h.Headers;Oe["Content-Type"]="application/xml",Oe["Content-MD5"]=l.b64(l.md5(te)),Ce.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:h.Bucket,Region:h.Region,Key:h.Key,qs:{uploadId:P},body:te,headers:Oe,tracker:U},function(Pe,Ge){if(Pe)return U&&U.parent&&U.parent.setParams({errorNode:"multipartComplete"}),O(Pe);var de=Ln({ForcePathStyle:C.options.ForcePathStyle,protocol:C.options.Protocol,domain:C.options.Domain,bucket:h.Bucket,region:C.options.UseAccelerate?"accelerate":h.Region,object:h.Key,isLocation:!0}),Ye=Ge.CompleteMultipartUploadResult||{};if(Ye.ProcessResults&&(Ye.UploadResult={OriginalInfo:{Key:Ye.Key,Location:de,ETag:Ye.ETag,ImageInfo:Ye.ImageInfo},ProcessResults:Ye.ProcessResults},delete Ye.ImageInfo,delete Ye.ProcessResults),Ye.CallbackResult){var xt=Ye.CallbackResult;if(xt.Status==="200"&&xt.CallbackBody)try{Ye.CallbackBody=JSON.parse(l.decodeBase64(xt.CallbackBody))}catch{Ye.CallbackBody={}}else Ye.CallbackError=xt.Error||{};delete Ye.CallbackResult}if(Ye.ReturnBodyResult){var Zt=Ye.ReturnBodyResult;if(Zt.Status==="200"&&Zt.ReturnBody)try{Ye.ReturnBody=JSON.parse(l.decodeBase64(Zt.ReturnBody))}catch{Ye.ReturnBody={}}else Ye.ReturnError={Code:Zt.Code,Message:Zt.Message,Status:Zt.Status};delete Ye.ReturnBodyResult}var _n=l.extend(Ye,{Location:de,statusCode:Ge.statusCode,headers:Ge.headers});O(null,_n)})}function nt(h,O){var C={};C.delimiter=h.Delimiter,C["encoding-type"]=h.EncodingType,C.prefix=h.Prefix||"",C["max-uploads"]=h.MaxUploads,C["key-marker"]=h.KeyMarker,C["upload-id-marker"]=h.UploadIdMarker,C=l.clearKey(C);var P=h.tracker;P&&P.setParams({signStartTime:new Date().getTime()}),Ce.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:C.prefix,method:"GET",Bucket:h.Bucket,Region:h.Region,headers:h.Headers,qs:C,action:"uploads",tracker:P},function(F,U){if(F)return P&&P.parent&&P.parent.setParams({errorNode:"multipartList"}),O(F);if(U&&U.ListMultipartUploadsResult){var j=U.ListMultipartUploadsResult.Upload||[];j=l.isArray(j)?j:[j],U.ListMultipartUploadsResult.Upload=j}var W=l.clone(U.ListMultipartUploadsResult||{});l.extend(W,{statusCode:U.statusCode,headers:U.headers}),O(null,W)})}function vt(h,O){var C={},P=h.tracker;C.uploadId=h.UploadId,C["encoding-type"]=h.EncodingType,C["max-parts"]=h.MaxParts,C["part-number-marker"]=h.PartNumberMarker,Ce.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,qs:C,tracker:P},function(F,U){if(F)return P&&P.parent&&P.parent.setParams({errorNode:"multipartListPart"}),O(F);var j=U.ListPartsResult||{},W=j.Part||[];W=l.isArray(W)?W:[W],j.Part=W;var te=l.clone(j);l.extend(te,{statusCode:U.statusCode,headers:U.headers}),O(null,te)})}function Dt(h,O){var C={};C.uploadId=h.UploadId,Ce.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:h.Bucket,Region:h.Region,Key:h.Key,headers:h.Headers,qs:C,tracker:h.tracker},function(P,F){if(P)return O(P);O(null,{statusCode:F.statusCode,headers:F.headers})})}function kt(h,O){Ce.call(this,{method:h.Method,Bucket:h.Bucket,Region:h.Region,Key:h.Key,action:h.Action,headers:h.Headers,qs:h.Query,body:h.Body,Url:h.Url,rawBody:h.RawBody,DataType:h.DataType,tracker:h.tracker},function(C,P){if(C)return O(C);P&&P.body&&(P.Body=P.body,delete P.body),O(C,P)})}function Sn(h,O){var C=h.Headers;!C["Cache-Control"]&&!C["cache-control"]&&(C["Cache-Control"]=""),!C["Content-Type"]&&!C["content-type"]&&(C["Content-Type"]=h.Body&&h.Body.type||""),Ce.call(this,{Action:"name/cos:AppendObject",method:"POST",Bucket:h.Bucket,Region:h.Region,action:"append",Key:h.Key,body:h.Body,qs:{position:h.Position},headers:h.Headers,tracker:h.tracker},function(P,F){if(P)return O(P);O(null,F)})}function Ts(h){var O=this;return l.getAuth({SecretId:h.SecretId||this.options.SecretId||"",SecretKey:h.SecretKey||this.options.SecretKey||"",Bucket:h.Bucket,Region:h.Region,Method:h.Method,Key:h.Key,Query:h.Query,Headers:h.Headers,Expires:h.Expires,UseRawKey:O.options.UseRawKey,SystemClockOffset:O.options.SystemClockOffset})}function qn(h,O){var C=this,P=h.UseAccelerate===void 0?C.options.UseAccelerate:h.UseAccelerate,F=Ln({ForcePathStyle:C.options.ForcePathStyle,protocol:h.Protocol||C.options.Protocol,domain:h.Domain||C.options.Domain,bucket:h.Bucket,region:P?"accelerate":h.Region,object:h.Key}),U="";h.Query&&(U+=l.obj2str(h.Query)),h.QueryString&&(U+=(U?"&":"")+h.QueryString);var j=F;if(h.Sign!==void 0&&!h.Sign)return U&&(j+="?"+U),O(null,{Url:j}),j;var W=ui.call(this,{Bucket:h.Bucket,Region:h.Region,UseAccelerate:h.UseAccelerate,Url:F}),te=Ja.call(this,{Action:(h.Method||"").toUpperCase()==="PUT"?"name/cos:PutObject":"name/cos:GetObject",Bucket:h.Bucket||"",Region:h.Region||"",Method:h.Method||"get",Key:h.Key,Expires:h.Expires,Headers:h.Headers,Query:h.Query,SignHost:W,ForceSignHost:h.ForceSignHost===!1?!1:C.options.ForceSignHost},function(Oe,Pe){if(O){if(Oe){O(Oe);return}var Ge=function(xt){var Zt=xt.match(/q-url-param-list.*?(?=&)/g)[0],_n="q-url-param-list="+encodeURIComponent(Zt.replace(/q-url-param-list=/,"")).toLowerCase(),bn=new RegExp(Zt,"g"),Cr=xt.replace(bn,_n);return Cr},de=F;de+="?"+(Pe.Authorization.indexOf("q-signature")>-1?Ge(Pe.Authorization):"sign="+encodeURIComponent(Pe.Authorization)),Pe.SecurityToken&&(de+="&x-cos-security-token="+Pe.SecurityToken),Pe.ClientIP&&(de+="&clientIP="+Pe.ClientIP),Pe.ClientUA&&(de+="&clientUA="+Pe.ClientUA),Pe.Token&&(de+="&token="+Pe.Token),U&&(de+="&"+U),setTimeout(function(){O(null,{Url:de})})}});return te?(j+="?"+te.Authorization+(te.SecurityToken?"&x-cos-security-token="+te.SecurityToken:""),U&&(j+="&"+U)):U&&(j+="?"+U),j}function Xe(h){var O={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},C={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},P=h&&h.AccessControlList||{},F=P.Grant;F&&(F=l.isArray(F)?F:[F]);var U={READ:0,WRITE:0,FULL_CONTROL:0};return F&&F.length&&l.each(F,function(j){var W=j.Grantee.URI&&j.Grantee.URI.endsWith("/groups/global/AllUsers");j.Grantee.ID==="qcs::cam::anyone:anyone"||W?U[j.Permission]=1:j.Grantee.ID!==h.Owner.ID&&O[C[j.Permission]].push('id="'+j.Grantee.ID+'"')}),U.FULL_CONTROL||U.WRITE&&U.READ?O.ACL="public-read-write":U.READ?O.ACL="public-read":O.ACL="private",l.each(C,function(j){O[j]=ar(O[j].join(","))}),O}function ar(h){var O=h.split(","),C={},P,F;for(P=0;P<O.length;)F=O[P].trim(),C[F]?O.splice(P,1):(C[F]=!0,O[P]=F,P++);return O.join(",")}function Ln(h){var O=h.region||"",C=h.bucket||"",P=C.substr(0,C.lastIndexOf("-")),F=C.substr(C.lastIndexOf("-")+1),U=h.domain,j=h.object;typeof U=="function"&&(U=U({Bucket:C,Region:O})),["http","https"].includes(h.protocol)&&(h.protocol=h.protocol+":");var W=h.protocol||(l.isBrowser&&(typeof location>"u"?"undefined":o(location))==="object"&&location.protocol==="http:"?"http:":"https:");U||(["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(O)>-1?U="{Region}.myqcloud.com":U="cos.{Region}.myqcloud.com",h.ForcePathStyle||(U="{Bucket}."+U)),U=U.replace(/\{\{AppId\}\}/gi,F).replace(/\{\{Bucket\}\}/gi,P).replace(/\{\{Region\}\}/gi,O).replace(/\{\{.*?\}\}/gi,""),U=U.replace(/\{AppId\}/gi,F).replace(/\{BucketName\}/gi,P).replace(/\{Bucket\}/gi,C).replace(/\{Region\}/gi,O).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(U)||(U=W+"//"+U),U.slice(-1)==="/"&&(U=U.slice(0,-1));var te=U;return h.ForcePathStyle&&(te+="/"+C),te+="/",j&&(te+=l.camSafeUrlEncode(j).replace(/%2F/g,"/")),h.isLocation&&(te=te.replace(/^https?:\/\//,"")),te}var ui=function(O){var C=O.Url||O.Bucket&&O.Region;if(!C)return"";var P=O.UseAccelerate===void 0?this.options.UseAccelerate:O.UseAccelerate,F=O.Url||Ln({ForcePathStyle:this.options.ForcePathStyle,protocol:this.options.Protocol,domain:this.options.Domain,bucket:O.Bucket,region:P?"accelerate":O.Region}),U=F.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1");return U};function Ja(h,O){var C=l.clone(h.Headers),P="";l.each(C,function(it,Ve){(it===""||["content-type","cache-control","expires"].indexOf(Ve.toLowerCase())>-1)&&delete C[Ve],Ve.toLowerCase()==="host"&&(P=it)});var F=h.ForceSignHost!==!1;!P&&h.SignHost&&F&&(C.Host=h.SignHost);var U=!1,j=function(Ve,mt){U||(U=!0,mt&&mt.XCosSecurityToken&&!mt.SecurityToken&&(mt=l.clone(mt),mt.SecurityToken=mt.XCosSecurityToken,delete mt.XCosSecurityToken),O&&O(Ve,mt))},W=this,te=h.Bucket||"",Oe=h.Region||"",Pe=h.Key||"";W.options.ForcePathStyle&&te&&(Pe=te+"/"+Pe);var Ge="/"+Pe,de={},Ye=h.Scope;if(!Ye){var xt=h.Action||"",Zt=h.ResourceKey||h.Key||"";Ye=h.Scope||[{action:xt,bucket:te,region:Oe,prefix:Zt}]}var _n=l.md5(JSON.stringify(Ye));W._StsCache=W._StsCache||[],function(){var it,Ve;for(it=W._StsCache.length-1;it>=0;it--){Ve=W._StsCache[it];var mt=Math.round(l.getSkewTime(W.options.SystemClockOffset)/1e3)+30;if(Ve.StartTime&&mt<Ve.StartTime||mt>=Ve.ExpiredTime){W._StsCache.splice(it,1);continue}if(!Ve.ScopeLimit||Ve.ScopeLimit&&Ve.ScopeKey===_n){de=Ve;break}}}();var bn=function(){var Ve="";de.StartTime&&h.Expires?Ve=de.StartTime+";"+(de.StartTime+h.Expires*1):de.StartTime&&de.ExpiredTime&&(Ve=de.StartTime+";"+de.ExpiredTime);var mt=l.getAuth({SecretId:de.TmpSecretId,SecretKey:de.TmpSecretKey,Method:h.Method,Pathname:Ge,Query:h.Query,Headers:C,Expires:h.Expires,UseRawKey:W.options.UseRawKey,SystemClockOffset:W.options.SystemClockOffset,KeyTime:Ve,ForceSignHost:F}),Qe={Authorization:mt,SecurityToken:de.SecurityToken||de.XCosSecurityToken||"",Token:de.Token||"",ClientIP:de.ClientIP||"",ClientUA:de.ClientUA||"",SignFrom:"client"};j(null,Qe)},Cr=function(Ve){if(Ve.Authorization){var mt=!1,Qe=Ve.Authorization;if(Qe)if(Qe.indexOf(" ")>-1)mt=!1;else if(Qe.indexOf("q-sign-algorithm=")>-1&&Qe.indexOf("q-ak=")>-1&&Qe.indexOf("q-sign-time=")>-1&&Qe.indexOf("q-key-time=")>-1&&Qe.indexOf("q-url-param-list=")>-1)mt=!0;else try{Qe=atob(Qe),Qe.indexOf("a=")>-1&&Qe.indexOf("k=")>-1&&Qe.indexOf("t=")>-1&&Qe.indexOf("r=")>-1&&Qe.indexOf("b=")>-1&&(mt=!0)}catch{}if(!mt)return l.error(new Error("getAuthorization callback params format error"))}else{if(!Ve.TmpSecretId)return l.error(new Error('getAuthorization callback params missing "TmpSecretId"'));if(!Ve.TmpSecretKey)return l.error(new Error('getAuthorization callback params missing "TmpSecretKey"'));if(!Ve.SecurityToken&&!Ve.XCosSecurityToken)return l.error(new Error('getAuthorization callback params missing "SecurityToken"'));if(!Ve.ExpiredTime)return l.error(new Error('getAuthorization callback params missing "ExpiredTime"'));if(Ve.ExpiredTime&&Ve.ExpiredTime.toString().length!==10)return l.error(new Error('getAuthorization callback params "ExpiredTime" should be 10 digits'));if(Ve.StartTime&&Ve.StartTime.toString().length!==10)return l.error(new Error('getAuthorization callback params "StartTime" should be 10 StartTime'))}return!1};if(de.ExpiredTime&&de.ExpiredTime-l.getSkewTime(W.options.SystemClockOffset)/1e3>60)bn();else if(W.options.getAuthorization)W.options.getAuthorization.call(W,{Bucket:te,Region:Oe,Method:h.Method,Key:Pe,Pathname:Ge,Query:h.Query,Headers:C,Scope:Ye,SystemClockOffset:W.options.SystemClockOffset,ForceSignHost:F},function(it){typeof it=="string"&&(it={Authorization:it});var Ve=Cr(it);if(Ve)return j(Ve);it.Authorization?j(null,it):(de=it||{},de.Scope=Ye,de.ScopeKey=_n,W._StsCache.push(de),bn())});else if(W.options.getSTS)W.options.getSTS.call(W,{Bucket:te,Region:Oe},function(it){de=it||{},de.Scope=Ye,de.ScopeKey=_n,de.TmpSecretId||(de.TmpSecretId=de.SecretId),de.TmpSecretKey||(de.TmpSecretKey=de.SecretKey);var Ve=Cr(de);if(Ve)return j(Ve);W._StsCache.push(de),bn()});else return function(){var it="";if(W.options.StartTime&&h.Expires){if(W.options.StartTime.toString().length!==10)return j(l.error(new Error('params "StartTime" should be 10 digits')));it=W.options.StartTime+";"+(W.options.StartTime+h.Expires*1)}else if(W.options.StartTime&&W.options.ExpiredTime){if(W.options.StartTime.toString().length!==10)return j(l.error(new Error('params "StartTime" should be 10 digits')));if(W.options.ExpiredTime.toString().length!==10)return j(l.error(new Error('params "ExpiredTime" should be 10 digits')));it=W.options.StartTime+";"+W.options.ExpiredTime*1}var Ve=l.getAuth({SecretId:h.SecretId||W.options.SecretId,SecretKey:h.SecretKey||W.options.SecretKey,Method:h.Method,Pathname:Ge,Query:h.Query,Headers:C,Expires:h.Expires,KeyTime:it,UseRawKey:W.options.UseRawKey,SystemClockOffset:W.options.SystemClockOffset,ForceSignHost:F}),mt={Authorization:Ve,SecurityToken:W.options.SecurityToken||W.options.XCosSecurityToken,SignFrom:"client"};return j(null,mt),mt}();return""}function Lu(h){var O=this,C=!1,P=!1,F=!1,U=h.headers&&(h.headers.date||h.headers.Date)||h.error&&h.error.ServerTime;try{var j=h.error.Code,W=h.error.Message;(j==="RequestTimeTooSkewed"||j==="AccessDenied"&&W==="Request has expired")&&(P=!0)}catch{}if(h)if(P&&U){var te=Date.parse(U);this.options.CorrectClockSkew&&Math.abs(l.getSkewTime(this.options.SystemClockOffset)-te)>=3e4&&(console.error("error: Local time is too skewed."),this.options.SystemClockOffset=te-Date.now(),C=!0)}else Math.floor(h.statusCode/100)===5?(C=!0,F=!1):(h.message==="timeout"||h.message==="CORS blocked or network error")&&(C=!0,F=O.options.AutoSwitchHost);return{canRetry:C,networkError:F}}function Du(h){var O=h.requestUrl,C=h.clientCalcSign,P=h.networkError;if(!this.options.AutoSwitchHost||!O||!C||!P)return!1;var F=/^https?:\/\/[^\/]*\.cos\.[^\/]*\.myqcloud\.com(\/.*)?$/,U=/^https?:\/\/[^\/]*\.cos\.accelerate\.myqcloud\.com(\/.*)?$/,j=F.test(O)&&!U.test(O);return j}function Ce(h,O){var C=this;!h.headers&&(h.headers={}),!h.qs&&(h.qs={}),h.VersionId&&(h.qs.versionId=h.VersionId),h.qs=l.clearKey(h.qs),h.headers&&(h.headers=l.clearKey(h.headers)),h.qs&&(h.qs=l.clearKey(h.qs));var P=l.clone(h.qs);h.action&&(P[h.action]="");var F=h.url||h.Url,U=h.SignHost||ui.call(this,{Bucket:h.Bucket,Region:h.Region,Url:F}),j=h.tracker,W=function(Oe){var Pe=C.options.SystemClockOffset;j&&j.setParams({signStartTime:new Date().getTime(),httpRetryTimes:Oe-1}),h.SwitchHost&&(U=U.replace(/myqcloud.com/,"tencentcos.cn"));var Ge=c(c({},h),{},{Query:P,SignHost:U,ForceSignHost:C.options.ForceSignHost});delete Ge.tracker,C.logger.debug({cate:"PROCESS",tag:"base",msg:"开始计算签名, opt=".concat(JSON.stringify(Ge))}),Ja.call(C,{Bucket:h.Bucket||"",Region:h.Region||"",Method:h.method,Key:h.Key,Query:P,Headers:h.headers,SignHost:U,Action:h.Action,ResourceKey:h.ResourceKey,Scope:h.Scope,ForceSignHost:C.options.ForceSignHost,SwitchHost:h.SwitchHost},function(de,Ye){if(de){C.logger.error({cate:"PROCESS",tag:"base",msg:"签名获取失败, err=".concat(JSON.stringify(de.message))}),O(de);return}j&&j.setParams({signEndTime:new Date().getTime(),httpStartTime:new Date().getTime()}),h.AuthData=Ye,C.logger.debug({cate:"PROCESS",tag:"base",msg:"签名获取成功"}),C.logger.info({cate:"PROCESS",tag:"base",msg:"准备发起请求"}),Bu.call(C,h,function(xt,Zt){j&&j.setParams({httpEndTime:new Date().getTime()});var _n=!1,bn=!1;if(xt){var Cr=Lu.call(C,xt);_n=Cr.canRetry||Pe!==C.options.SystemClockOffset,bn=Cr.networkError,C.logger.error({cate:"PROCESS",tag:"network",msg:"请求失败, err=".concat(JSON.stringify(xt),", canRetry=").concat(_n,", networkError=").concat(bn,", tryTimes=").concat(Oe)})}if(xt&&Oe<4&&_n){h.headers&&(delete h.headers.Authorization,delete h.headers.token,delete h.headers.clientIP,delete h.headers.clientUA,h.headers["x-cos-security-token"]&&delete h.headers["x-cos-security-token"],h.headers["x-ci-security-token"]&&delete h.headers["x-ci-security-token"]);var it=Du.call(C,{requestUrl:(xt==null?void 0:xt.url)||"",clientCalcSign:Ye.SignFrom==="client",networkError:bn});h.SwitchHost=it,h.headers["x-cos-sdk-retry"]=!0,C.logger.info({cate:"PROCESS",tag:"base",msg:"重试请求, 重试第".concat(Oe,"次")}),W(Oe+1)}else C.logger.info({cate:"PROCESS",tag:"base",msg:"请求完成"}),O(xt,Zt)})})};W(1)}function Bu(h,O){var C=this,P=h.TaskId;if(!(P&&!C._isRunningTask(P))){var F=h.Bucket,U=h.Region,j=h.Key,W=h.method||"GET",te=h.Url||h.url,Oe=h.body,Pe=h.rawBody;C.options.UseAccelerate&&(U="accelerate"),te=te||Ln({ForcePathStyle:C.options.ForcePathStyle,protocol:C.options.Protocol,domain:C.options.Domain,bucket:F,region:U,object:j}),h.SwitchHost&&(te=te.replace(/myqcloud.com/,"tencentcos.cn"));var Ge=j?te:"";h.action&&(te=te+"?"+(l.isIOS_QQ?"".concat(h.action,"="):h.action)),h.qsStr&&(te.indexOf("?")>-1?te=te+"&"+h.qsStr:te=te+"?"+h.qsStr);var de={method:W,url:te,headers:h.headers,qs:h.qs,body:Oe},Ye="x-cos-security-token";if(l.isCIHost(te)&&(Ye="x-ci-security-token"),de.headers.Authorization=h.AuthData.Authorization,h.AuthData.Token&&(de.headers.token=h.AuthData.Token),h.AuthData.ClientIP&&(de.headers.clientIP=h.AuthData.ClientIP),h.AuthData.ClientUA&&(de.headers.clientUA=h.AuthData.ClientUA),h.AuthData.SecurityToken&&(de.headers[Ye]=h.AuthData.SecurityToken),h.Action&&(de.action=h.Action),de.key=h.Key||h.ResourceKey,de.headers&&(de.headers=l.clearKey(de.headers)),de=l.clearKey(de),h.onProgress&&typeof h.onProgress=="function"){var xt=Oe&&(Oe.size||Oe.length)||0;de.onProgress=function(Qe){if(!(P&&!C._isRunningTask(P))){var zn=Qe?Qe.loaded:0;h.onProgress({loaded:zn,total:xt})}}}h.onDownloadProgress&&(de.onDownloadProgress=h.onDownloadProgress),h.DataType&&(de.dataType=h.DataType),this.options.Timeout&&(de.timeout=this.options.Timeout),C.options.ForcePathStyle&&(de.pathStyle=C.options.ForcePathStyle);var Zt=l.uuid();C.logger.info({cate:"PROCESS",tag:"network",msg:"[Request] ".concat(Zt,", requestOpt=").concat(JSON.stringify(de))}),C.emit("before-send",de);var _n=de.url.includes("accelerate."),bn=de.qs?Object.keys(de.qs).map(function(Qe){return"".concat(Qe,"=").concat(de.qs[Qe])}).join("&"):"",Cr=bn?de.url+"?"+bn:de.url;if(h.tracker){var it;h.tracker.setParams({url:Cr,httpMethod:de.method,accelerate:_n,httpSize:((it=de.body)===null||it===void 0?void 0:it.size)||0}),h.tracker.parent&&!h.tracker.parent.params.url&&h.tracker.parent.setParams({url:Ge,accelerate:_n})}var Ve=(C.options.Request||u)(de,function(Qe){if(!(Qe&&Qe.error==="abort")){var zn={options:de,error:Qe&&Qe.error,statusCode:Qe&&Qe.statusCode||0,statusMessage:Qe&&Qe.statusMessage||"",headers:Qe&&Qe.headers||{},body:Qe&&Qe.body};C.emit("after-receive",zn);var Uu=zn.error,Ya=zn.body,Er={statusCode:zn.statusCode,statusMessage:zn.statusMessage,headers:zn.headers},IS=Uu?"[error]":"[success]";C.logger.info({cate:"PROCESS",tag:"network",msg:"[Response] ".concat(Zt,", ").concat(IS,", response=").concat(JSON.stringify(Er))});var Ag,Ss=function(Is,Bt){if(P&&C.off("inner-kill-task",mt),!Ag){Ag=!0;var fi={};if(Er&&Er.statusCode&&(fi.statusCode=Er.statusCode),Er&&Er.headers&&(fi.headers=Er.headers),Is)de.url&&(fi.url=de.url),de.method&&(fi.method=de.method),Is=l.extend(Is||{},fi),O(Is,null);else{if(h.Action==="name/cos:PutObject"){var ju={};for(var Og in h.headers){var kS=Og.toLowerCase();ju[kS]=h.headers[Og]}ju["x-cos-callback"]?Bt.Error?(Bt.CallbackError=l.clone(Bt.Error),delete Bt.Error):Bt.CallbackBody=l.clone(Bt):ju["x-cos-return-body"]&&(Bt.Error?(Bt.ReturnError=l.clone(Bt.Error),delete Bt.Error):Bt.ReturnBody=l.clone(Bt))}Bt=l.extend(Bt||{},fi),O(null,Bt)}Ve=null}};if(Uu)return Ss(l.error(Uu));var Xa=Er.statusCode,Pg=Math.floor(Xa/100)===2;if(Pe){if(Pg)return Ss(null,{body:Ya});if(Ya instanceof Blob){l.readAsBinaryString(Ya,function(xg){var Is=l.parseResBody(xg),Bt=Is.Error||Is;return Ss(l.error(new Error(Bt.Message||"response body error"),{code:Bt.Code,error:Bt}))});return}}var Fu=l.parseResBody(Ya),Za=Fu.Error||Fu;Pg?Ss(null,Fu):Za?Ss(l.error(new Error(Za.Message),{code:Za.Code,error:Za})):Xa?Ss(l.error(new Error(Er.statusMessage),{code:""+Xa})):Xa&&Ss(l.error(new Error("statusCode error")))}}),mt=function(zn){zn.TaskId===P&&(Ve&&Ve.abort&&Ve.abort(),C.off("inner-kill-task",mt))};P&&C.on("inner-kill-task",mt)}}var Rg={getService:f,putBucket:d,headBucket:p,getBucket:g,deleteBucket:m,putBucketAcl:b,getBucketAcl:R,putBucketCors:A,getBucketCors:T,deleteBucketCors:x,getBucketLocation:L,getBucketPolicy:E,putBucketPolicy:S,deleteBucketPolicy:k,putBucketTagging:v,getBucketTagging:y,deleteBucketTagging:w,putBucketLifecycle:_,getBucketLifecycle:I,deleteBucketLifecycle:M,putBucketVersioning:V,getBucketVersioning:D,putBucketReplication:q,getBucketReplication:K,deleteBucketReplication:oe,putBucketWebsite:he,getBucketWebsite:we,deleteBucketWebsite:_e,putBucketReferer:Be,getBucketReferer:ke,putBucketDomain:Ee,getBucketDomain:ye,deleteBucketDomain:H,putBucketOrigin:Y,getBucketOrigin:X,deleteBucketOrigin:ne,putBucketLogging:ce,getBucketLogging:pe,putBucketInventory:B,postBucketInventory:z,getBucketInventory:Z,listBucketInventory:J,deleteBucketInventory:ee,putBucketAccelerate:me,getBucketAccelerate:le,putBucketEncryption:fe,getBucketEncryption:ie,deleteBucketEncryption:Te,getObject:De,headObject:ve,listObjectVersions:Re,putObject:We,deleteObject:ct,getObjectAcl:et,putObjectAcl:Gt,optionsObject:Pt,putObjectCopy:hn,deleteMultipleObject:re,restoreObject:$,putObjectTagging:G,getObjectTagging:Q,deleteObjectTagging:ae,selectObjectContent:ge,appendObject:Sn,uploadPartCopy:dt,multipartInit:Ae,multipartUpload:Ue,multipartComplete:Ke,multipartList:nt,multipartListPart:vt,multipartAbort:Dt,request:kt,getObjectUrl:qn,getAuth:Ts};function SS(h,O,C){l.each(["Cors","Acl"],function(P){if(h.slice(-P.length)===P){var F=h.slice(0,-P.length)+P.toUpperCase(),U=l.apiWrapper(h,O),j=!1;C[F]=function(){!j&&console.warn("warning: cos."+F+" has been deprecated. Please Use cos."+h+" instead."),j=!0,U.apply(this,arguments)}}})}n.exports.init=function(h,O){O.transferToTaskMethod(Rg,"putObject"),l.each(Rg,function(C,P){h.prototype[P]=l.apiWrapper(P,C),SS(P,C,h.prototype)})}},"./src/cos.js":function(n,r,s){var i=s("./src/util.js"),o=s("./src/event.js"),a=s("./src/task.js"),c=s("./src/base.js"),u=s("./src/advance.js"),l=s("./src/logger.js"),f=s("./package.json"),d={AppId:"",SecretId:"",SecretKey:"",SecurityToken:"",StartTime:0,ExpiredTime:0,ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1024*1024,SliceSize:1024*1024,CopyChunkParallelLimit:20,CopyChunkSize:1024*1024*10,CopySliceSize:1024*1024*10,MaxPartNumber:1e4,ProgressInterval:1e3,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadQueueSize:1e4,UploadAddMetaMd5:!1,UploadIdCacheLimit:50,UseAccelerate:!1,ForceSignHost:!0,AutoSwitchHost:!0,CopySourceParser:null,ObjectKeySimplifyCheck:!0,DeepTracker:!1,TrackerDelay:5e3,CustomId:"",BeaconReporter:null,ClsReporter:null,EnableLog:!1,EnableLogcat:!1,LogLevel:"VERBOSE",ClsLogger:null,LogExtras:{}},p=function(m){var b,R,A=this;if(this.options=i.extend(i.clone(d),m||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1024*1024,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1024*1024,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.EnableReporter=this.options.BeaconReporter||this.options.ClsReporter,this.options.AppId&&console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'),this.options.SecretId&&this.options.SecretId.indexOf(" ")>-1&&(console.error("error: SecretId格式错误，请检查"),console.error("error: SecretId format is incorrect. Please check")),this.options.SecretKey&&this.options.SecretKey.indexOf(" ")>-1&&(console.error("error: SecretKey格式错误，请检查"),console.error("error: SecretKey format is incorrect. Please check")),i.isNode()&&(console.log("Tip: Next.js、Nuxt.js 等服务端渲染技术可正常使用JavaScript SDK，请忽略下方 nodejs 环境警告"),console.warn("warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629"),console.warn("warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629")),this.options.ForcePathStyle)throw console.warn("cos-js-sdk-v5不再支持使用path-style，仅支持使用virtual-hosted-style，参考文档：https://cloud.tencent.com/document/product/436/96243"),new Error("ForcePathStyle is not supported");o.init(this),a.init(this),this.logger=new l({enableLog:this.options.EnableLog,enableLogcat:this.options.EnableLogcat,level:(b=this.options.LogLevel)!==null&&b!==void 0?b:"VERBOSE",clsLogger:this.options.ClsLogger,logExtras:(R=this.options.LogExtras)!==null&&R!==void 0?R:{}}),this.options.EnableLog&&(o.init(this.logger),this.logger.on("log-message",function(T){A.emit("log-message",T)}))};c.init(p,a),u.init(p,a),p.util={md5:i.md5,xml2json:i.xml2json,json2xml:i.json2xml,encodeBase64:i.encodeBase64},p.getAuthorization=i.getAuth,p.version=f.version,n.exports=p},"./src/event.js":function(n,r){var s=function(a){var c={},u=function(f){return!c[f]&&(c[f]=[]),c[f]};a.on=function(l,f){l==="task-list-update"&&console.warn('warning: Event "'+l+'" has been deprecated. Please use "list-update" instead.'),u(l).push(f)},a.off=function(l,f){for(var d=u(l),p=d.length-1;p>=0;p--)f===d[p]&&d.splice(p,1)},a.emit=function(l,f){for(var d=u(l).map(function(g){return g}),p=0;p<d.length;p++)d[p](f)}},i=function(){s(this)};n.exports.init=s,n.exports.EventProxy=i},"./src/logger.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=s("./node_modules/@babel/runtime/helpers/createClass.js"),a=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=s("./package.json"),u=c.version,l=["VERBOSE","DEBUG","INFO","WARN","ERROR"],f=function(){function d(p){var g;i(this,d),a(this,"level","VERBOSE"),a(this,"clsLogger",null),a(this,"logExtras",{}),this.enableLog=(g=p.enableLog)!==null&&g!==void 0?g:!1,this.level=p.level||"VERBOSE",l.includes(this.level)||(this.level="VERBOSE"),this.enableLogcat=p.enableLogcat,this.clsLogger=p.clsLogger,this.logExtras=p.logExtras}return o(d,[{key:"info",value:function(){if(["VERBOSE","INFO"].includes(this.level)){for(var g=arguments.length,m=new Array(g),b=0;b<g;b++)m[b]=arguments[b];this.log.apply(this,["info"].concat(m))}}},{key:"debug",value:function(){if(["VERBOSE","DEBUG"].includes(this.level)){for(var g=arguments.length,m=new Array(g),b=0;b<g;b++)m[b]=arguments[b];this.log.apply(this,["debug"].concat(m))}}},{key:"warn",value:function(){if(["VERBOSE","WARN"].includes(this.level)){for(var g=arguments.length,m=new Array(g),b=0;b<g;b++)m[b]=arguments[b];this.log.apply(this,["warn"].concat(m))}}},{key:"error",value:function(){if(["VERBOSE","ERROR"].includes(this.level)){for(var g=arguments.length,m=new Array(g),b=0;b<g;b++)m[b]=arguments[b];this.log.apply(this,["error"].concat(m))}}},{key:"log",value:function(){if(this.enableLog){var g=arguments.length<=0?void 0:arguments[0],m=arguments.length<=1?void 0:arguments[1],b=m.cate,R=b===void 0?"base":b,A=m.tag,T=A===void 0?"base":A,x=m.msg,L={version:"cos-js-sdk-v5-".concat(u),timestamp:new Date().toISOString(),cate:"[".concat(R.toUpperCase(),"]"),tag:"[".concat(T.toUpperCase(),"]"),msg:x,extras:this.logExtras};this.enableLogcat&&console[g]("[".concat(L.version,"] ").concat(L.timestamp," ").concat(L.cate," ").concat(L.tag," ").concat(L.msg," ").concat(L.extras?JSON.stringify(L.extras):"")),this.clsLogger&&this.clsLogger.log(L,!1),this.emit("log-message",L)}}}])}();n.exports=f},"./src/session.js":function(n,r,s){var i=s("./src/util.js"),o="cos_sdk_upload_cache",a=30*24*3600,c,u,l=function(){try{var b=JSON.parse(localStorage.getItem(o))}catch{}b||(b=[]),c=b},f=function(){try{c.length?localStorage.setItem(o,JSON.stringify(c)):localStorage.removeItem(o)}catch{}},d=function(){if(!c){l.call(this);for(var b=!1,R=Math.round(Date.now()/1e3),A=c.length-1;A>=0;A--){var T=c[A][2];(!T||T+a<R)&&(c.splice(A,1),b=!0)}b&&f()}},p=function(){u||(u=setTimeout(function(){f(),u=null},400))},g={using:{},setUsing:function(b){g.using[b]=!0},removeUsing:function(b){delete g.using[b]},getFileId:function(b,R,A,T){return b.name&&b.size&&b.lastModifiedDate&&R?i.md5([b.name,b.size,b.lastModifiedDate,R,A,T].join("::")):null},getCopyFileId:function(b,R,A,T,x){var L=R["content-length"],S=R.etag||"",E=R["last-modified"];return b&&A?i.md5([b,L,S,E,A,T,x].join("::")):null},getUploadIdList:function(b){if(!b)return null;d.call(this);for(var R=[],A=0;A<c.length;A++)c[A][0]===b&&R.push(c[A][1]);return R.length?R:null},saveUploadId:function(b,R,A){if(d.call(this),!!b){for(var T=c.length-1;T>=0;T--){var x=c[T];x[0]===b&&x[1]===R&&c.splice(T,1)}c.unshift([b,R,Math.round(Date.now()/1e3)]),c.length>A&&c.splice(A),p()}},removeUploadId:function(b){d.call(this),delete g.using[b];for(var R=c.length-1;R>=0;R--)c[R][1]===b&&c.splice(R,1);p()}};n.exports=g},"./src/task.js":function(n,r,s){var i=s("./src/session.js"),o=s("./src/util.js"),a={},c=function(f,d){a[d]=f[d],f[d]=function(p,g){p.SkipTask?a[d].call(this,p,g):this._addTask(d,p,g)}},u=function(f){var d=[],p={},g=0,m=0,b=function(E){var k={id:E.id,Bucket:E.Bucket,Region:E.Region,Key:E.Key,FilePath:E.FilePath,state:E.state,loaded:E.loaded,size:E.size,speed:E.speed,percent:E.percent,hashPercent:E.hashPercent,error:E.error};return E.FilePath&&(k.FilePath=E.FilePath),E._custom&&(k._custom=E._custom),k},R=function(){var S,E=function(){S=0,f.emit("task-list-update",{list:o.map(d,b)}),f.emit("list-update",{list:o.map(d,b)})};return function(){S||(S=setTimeout(E))}}(),A=function(){if(!(d.length<=f.options.UploadQueueSize)){for(var E=0;E<m&&E<d.length&&d.length>f.options.UploadQueueSize;){var k=d[E].state==="waiting"||d[E].state==="checking"||d[E].state==="uploading";!d[E]||!k?(p[d[E].id]&&delete p[d[E].id],d.splice(E,1),m--):E++}R()}},T=function(){if(!(g>=f.options.FileParallelLimit)){for(;d[m]&&d[m].state!=="waiting";)m++;if(!(m>=d.length)){var E=d[m];m++,g++,E.state="checking",E.params.onTaskStart&&E.params.onTaskStart(b(E)),!E.params.UploadData&&(E.params.UploadData={});var k=o.formatParams(E.api,E.params);a[E.api].call(f,k,function(v,y){f._isRunningTask(E.id)&&((E.state==="checking"||E.state==="uploading")&&(E.state=v?"error":"success",v&&(E.error=v),g--,R(),T(),E.callback&&E.callback(v,y),E.state==="success"&&(E.params&&(delete E.params.UploadData,delete E.params.Body,delete E.params),delete E.callback)),A())}),R(),setTimeout(T)}}},x=function(E,k){var v=p[E];if(v){var y=v&&v.state==="waiting",w=v&&(v.state==="checking"||v.state==="uploading");if(k==="canceled"&&v.state!=="canceled"||k==="paused"&&y||k==="paused"&&w){v.state=k,f.emit("inner-kill-task",{TaskId:E,toState:k});try{var _=v&&v.params&&v.params.UploadData.UploadId}catch{}k==="canceled"&&_&&i.removeUsing(_),R(),w&&(g--,T()),k==="canceled"&&(v.params&&(delete v.params.UploadData,delete v.params.Body,delete v.params),delete v.callback)}A()}};f._addTasks=function(S){o.each(S,function(E){f._addTask(E.api,E.params,E.callback,!0)}),R()};var L=!0;f._addTask=function(S,E,k,v){E=o.formatParams(S,E);var y=o.uuid();E.TaskId=y,E.onTaskReady&&E.onTaskReady(y),E.TaskReady&&(E.TaskReady(y),L&&console.warn('warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'),L=!1);var w={params:E,callback:k,api:S,index:d.length,id:y,Bucket:E.Bucket,Region:E.Region,Key:E.Key,FilePath:E.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:E._custom},_=E.onHashProgress;E.onHashProgress=function(M){f._isRunningTask(w.id)&&(w.hashPercent=M.percent,_&&_(M),R())};var I=E.onProgress;return E.onProgress=function(M){f._isRunningTask(w.id)&&(w.state==="checking"&&(w.state="uploading"),w.loaded=M.loaded,w.speed=M.speed,w.percent=M.percent,I&&I(M),R())},o.getFileSize(S,E,function(M,V){if(M)return k(o.error(M));p[y]=w,d.push(w),w.size=V,!v&&R(),T(),A()}),y},f._isRunningTask=function(S){var E=p[S];return!!(E&&(E.state==="checking"||E.state==="uploading"))},f.getTaskList=function(){return o.map(d,b)},f.cancelTask=function(S){x(S,"canceled")},f.pauseTask=function(S){x(S,"paused")},f.restartTask=function(S){var E=p[S];E&&(E.state==="paused"||E.state==="error")&&(E.state="waiting",R(),m=Math.min(m,E.index),T())},f.isUploadRunning=function(){return g||m<d.length}};n.exports.transferToTaskMethod=c,n.exports.init=u},"./src/tracker.js":function(n,r,s){var i=s("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=s("./node_modules/@babel/runtime/helpers/createClass.js"),a=s("./node_modules/@babel/runtime/helpers/typeof.js"),c=s("./package.json"),u=null,l=function(k,v){if(!u){if(typeof k!="function")throw new Error("Beacon not found");u=new k({appkey:"0WEB05PY6MHRGK0U",versionCode:c.version,channelID:"js_sdk",openid:"openid",unionid:"unid",strictMode:!1,delay:v,sessionDuration:60*1e3})}return u},f=function(k){return!k||k<0?0:(k/1e3).toFixed(3)},d={getUid:function(){var k=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return k()+k()+"-"+k()+"-"+k()+"-"+k()+"-"+k()+k()+k()},getNetType:function(){if((typeof navigator>"u"?"undefined":a(navigator))==="object"){var k=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return(k==null?void 0:k.type)||(k==null?void 0:k.effectiveType)||"unknown"}return"unknown"},getProtocol:function(){return(typeof location>"u"?"undefined":a(location))==="object"?location.protocol.replace(/:/,""):"unknown protocol"},getOsType:function(){if((typeof navigator>"u"?"undefined":a(navigator))!=="object")return"unknown os";var k=navigator.userAgent.toLowerCase(),v=/macintosh|mac os x/i.test(navigator.userAgent);return k.indexOf("win32")>=0||k.indexOf("wow32")>=0?"win32":k.indexOf("win64")>=0||k.indexOf("wow64")>=0?"win64":v?"mac":"unknown os"},isMobile:function(){var k=/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;return!!((typeof navigator>"u"?"undefined":a(navigator))==="object"&&navigator.userAgent.match(k))},isAndroid:function(){var k=/(Android|Adr|Linux)/i;return!!((typeof navigator>"u"?"undefined":a(navigator))==="object"&&navigator.userAgent.match(k))},isIOS:function(){var k=/(iPhone|iPod|iPad|iOS)/i;return!!((typeof navigator>"u"?"undefined":a(navigator))==="object"&&navigator.userAgent.match(k))},isOtherMobile:function(){return p&&!isAndroid&&!isIOS},getUA:function(){if((typeof navigator>"u"?"undefined":a(navigator))!=="object")return"unknown device";var k=navigator.userAgent;return k}},p=d.isMobile(),g=d.isAndroid()?"android":d.isIOS?"ios":"other_mobile",m=d.getOsType(),b=p?g:m,R=d.getUA(),A=d.getProtocol(),T=function(k){return["putObject","sliceUploadFile","uploadFile","uploadFiles"].includes(k)?"UploadTask":k==="getObject"?"DownloadTask":["putObjectCopy","sliceCopyFile"].includes(k)?"CopyTask":k};function x(E){return E.replace(/([A-Z])/g,"_$1").toLowerCase()}function L(E){var k={},v=["sdkVersionName","sdkVersionCode","osName","networkType","requestName","requestResult","bucket","region","appid","accelerate","url","host","requestPath","userAgent","networkProtocol","httpMethod","httpSize","httpSpeed","httpTookTime","httpMd5","httpSign","httpFullTime","httpDomain","partNumber","httpRetryTimes","customId","traceId","realApi"],y=[].concat(v,["errorNode","errorCode","errorName","errorMessage","errorRequestId","errorHttpCode","errorServiceName","errorType","fullError"]),w=E.requestResult==="Success"?v:y;for(var _ in E)if(w.includes(_)){var I=x(_);k[I]=E[_]}return k.request_name=E.realApi?T(E.realApi):E.requestName,k}var S=function(){function E(k){i(this,E);var v=k.parent,y=k.traceId,w=k.bucket,_=k.region,I=k.apiName,M=k.realApi,V=k.httpMethod,D=k.fileKey,q=k.fileSize,K=k.accelerate,oe=k.customId,he=k.delay,we=k.deepTracker,_e=k.Beacon,Be=k.clsReporter,ke=w&&w.substr(w.lastIndexOf("-")+1)||"";this.parent=v,this.deepTracker=we,this.delay=he,Be&&!this.clsReporter&&(this.clsReporter=Be),this.params={sdkVersionName:"cos-js-sdk-v5",sdkVersionCode:c.version,osName:b,networkType:"",requestName:I||"",requestResult:"",realApi:M,bucket:w,region:_,accelerate:K,httpMethod:V,url:"",host:"",httpDomain:"",requestPath:D||"",userAgent:R,networkProtocol:A,errorType:"",errorCode:"",errorName:"",errorMessage:"",errorRequestId:"",errorHttpCode:0,errorServiceName:"",errorNode:"",httpTookTime:0,httpSize:q||0,httpMd5:0,httpSign:0,httpFullTime:0,httpSpeed:0,md5StartTime:0,md5EndTime:0,signStartTime:0,signEndTime:0,httpStartTime:0,httpEndTime:0,startTime:new Date().getTime(),endTime:0,traceId:y||d.getUid(),appid:ke,partNumber:0,httpRetryTimes:0,customId:oe||"",partTime:0},_e&&(this.beacon=l(_e,he))}return o(E,[{key:"formatResult",value:function(v,y){var w,_,I,M,V,D,q=new Date().getTime(),K=d.getNetType(),oe=v?(v==null?void 0:v.code)||(v==null||(w=v.error)===null||w===void 0?void 0:w.code)||(v==null||(_=v.error)===null||_===void 0?void 0:_.Code):"",he=v?(v==null?void 0:v.message)||(v==null||(I=v.error)===null||I===void 0?void 0:I.message)||(v==null||(M=v.error)===null||M===void 0?void 0:M.Message):"",we=he,_e=v?(v==null?void 0:v.resource)||(v==null||(V=v.error)===null||V===void 0?void 0:V.resource)||(v==null||(D=v.error)===null||D===void 0?void 0:D.Resource):"",Be=v?v==null?void 0:v.statusCode:y.statusCode,ke=v?(v==null?void 0:v.headers)&&(v==null?void 0:v.headers["x-cos-request-id"]):(y==null?void 0:y.headers)&&(y==null?void 0:y.headers["x-cos-request-id"]),Ee=v?ke?"Server":"Client":"";this.params.requestName==="getObject"&&(this.params.httpSize=y?y.headers&&y.headers["content-length"]:0);var ye=this.params.realApi==="sliceUploadFile",H=this.params.realApi==="sliceCopyFile";if(ye||H){var Y=this.params.httpSize/1024/this.params.partTime;Object.assign(this.params,{httpSpeed:Y<0?0:Y.toFixed(3)})}else{var X=q-this.params.startTime,ne=this.params.httpEndTime-this.params.httpStartTime,ce=this.params.httpSize/1024/(ne/1e3),pe=this.params.md5EndTime-this.params.md5StartTime,N=this.params.signEndTime-this.params.signStartTime;this.parent&&(this.parent.addParamValue("httpTookTime",f(ne)),this.parent.addParamValue("httpFullTime",f(X)),this.parent.addParamValue("httpMd5",f(pe)),this.parent.addParamValue("httpSign",f(N)),["multipartUpload","uploadPartCopy","putObjectCopy"].includes(this.params.requestName)&&this.parent.addParamValue("partTime",f(ne))),Object.assign(this.params,{httpFullTime:f(X),httpMd5:f(pe),httpSign:f(N),httpTookTime:f(ne),httpSpeed:ce<0?0:ce.toFixed(3)})}if(Object.assign(this.params,{networkType:K,requestResult:v?"Failure":"Success",errorType:Ee,errorCode:oe,errorHttpCode:Be,errorName:we,errorMessage:he,errorServiceName:_e,errorRequestId:ke}),v&&(!oe||!he)&&(this.params.fullError=v?JSON.stringify(v):""),this.params.url){try{var B=/^http(s)?:\/\/(.*?)\//.exec(this.params.url);this.params.host=B[2]}catch{this.params.host=this.params.url}this.params.httpDomain=this.params.host}}},{key:"report",value:function(v,y){if(!(!this.beacon&&!this.clsReporter)){this.formatResult(v,y);var w=L(this.params);this.beacon&&this.sendEventsToBeacon(w),this.clsReporter&&this.sendEventsToCLS(w)}}},{key:"setParams",value:function(v){Object.assign(this.params,v)}},{key:"addParamValue",value:function(v,y){this.params[v]=(+this.params[v]+ +y).toFixed(3)}},{key:"sendEventsToBeacon",value:function(v){var y=this.params.requestName==="sliceUploadFile"||this.params.realApi==="sliceUploadFile";if(!(y&&!this.deepTracker)){var w="qcloud_track_cos_sdk";this.delay===0?this.beacon&&this.beacon.onDirectUserAction(w,v):this.beacon&&this.beacon.onUserAction(w,v)}}},{key:"sendEventsToCLS",value:function(v){var y=this.delay===0;this.clsReporter.log(v,y)}},{key:"generateSubTracker",value:function(v){return Object.assign(v,{parent:this,deepTracker:this.deepTracker,traceId:this.params.traceId,bucket:this.params.bucket,region:this.params.region,accelerate:this.params.accelerate,fileKey:this.params.requestPath,customId:this.params.customId,delay:this.delay,clsReporter:this.clsReporter}),new E(v)}}])}();n.exports=S},"./src/util.js":function(n,r,s){(function(i){var o=s("./node_modules/@babel/runtime/helpers/typeof.js");function a(re,$){var G=typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(!G){if(Array.isArray(re)||(G=c(re))||$){G&&(re=G);var Q=0,ae=function(){};return{s:ae,n:function(){return Q>=re.length?{done:!0}:{done:!1,value:re[Q++]}},e:function(nt){throw nt},f:ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,Ae=!0,Ue=!1;return{s:function(){G=G.call(re)},n:function(){var nt=G.next();return Ae=nt.done,nt},e:function(nt){Ue=!0,ge=nt},f:function(){try{Ae||G.return==null||G.return()}finally{if(Ue)throw ge}}}}function c(re,$){if(re){if(typeof re=="string")return u(re,$);var G={}.toString.call(re).slice(8,-1);return G==="Object"&&re.constructor&&(G=re.constructor.name),G==="Map"||G==="Set"?Array.from(re):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?u(re,$):void 0}}function u(re,$){($==null||$>re.length)&&($=re.length);for(var G=0,Q=Array($);G<$;G++)Q[G]=re[G];return Q}var l=s("./lib/md5.js"),f=s("./lib/crypto.js"),d=s("./node_modules/fast-xml-parser/src/fxp.js"),p=d.XMLParser,g=d.XMLBuilder,m=new p({ignoreDeclaration:!0,ignoreAttributes:!0,parseTagValue:!1,trimValues:!1}),b=new g,R=s("./lib/base64.js"),A=s("./src/tracker.js"),T="#text",x=function($){if(X($))for(var G in $){var Q=$[G];typeof Q=="string"?G===T&&delete $[G]:Array.isArray(Q)?Q.forEach(function(ae){x(ae)}):X(Q)&&x(Q)}},L=function($){var G=m.parse($);return x(G),G},S=function($){var G=b.build($);return G};function E(re){return encodeURIComponent(re).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function k(re,$){var G=[];for(var Q in re)re.hasOwnProperty(Q)&&G.push($?E(Q).toLowerCase():Q);return G.sort(function(ae,ge){return ae=ae.toLowerCase(),ge=ge.toLowerCase(),ae===ge?0:ae>ge?1:-1})}var v=function($,G){var Q,ae,ge,Ae=[],Ue=k($);for(Q=0;Q<Ue.length;Q++)ae=Ue[Q],ge=$[ae]===void 0||$[ae]===null?"":""+$[ae],ae=G?E(ae).toLowerCase():E(ae),ge=E(ge)||"",Ae.push(ae+"="+ge);return Ae.join("&")},y=["cache-control","content-disposition","content-encoding","content-length","content-md5","expect","expires","host","if-match","if-modified-since","if-none-match","if-unmodified-since","origin","range","transfer-encoding","pic-operations"],w=function($){var G={};for(var Q in $){var ae=Q.toLowerCase();(ae.indexOf("x-cos-")>-1||ae.indexOf("x-ci-")>-1||y.indexOf(ae)>-1)&&(G[Q]=$[Q])}return G},_=function($){$=$||{};var G=$.SecretId,Q=$.SecretKey,ae=$.KeyTime,ge=($.method||$.Method||"get").toLowerCase(),Ae=Ee($.Query||$.params||{}),Ue=w(Ee($.Headers||$.headers||{})),Ke=$.Key||"",nt;$.UseRawKey?nt=$.Pathname||$.pathname||"/"+Ke:(nt=$.Pathname||$.pathname||Ke,nt.indexOf("/")!==0&&(nt="/"+nt));var vt=$.ForceSignHost!==!1;if(!Ue.Host&&!Ue.host&&$.Bucket&&$.Region&&vt&&(Ue.Host=$.Bucket+".cos."+$.Region+".myqcloud.com"),!G)throw new Error("missing param SecretId");if(!Q)throw new Error("missing param SecretKey");var Dt=Math.round(ie($.SystemClockOffset)/1e3)-1,kt=Dt,Sn=$.Expires||$.expires;Sn===void 0?kt+=900:kt+=Sn*1||0;var Ts="sha1",qn=G,Xe=ae||Dt+";"+kt,ar=ae||Dt+";"+kt,Ln=k(Ue,!0).join(";").toLowerCase(),ui=k(Ae,!0).join(";").toLowerCase(),Ja=f.HmacSHA1(ar,Q).toString(),Lu=[ge,nt,dt.obj2str(Ae,!0),dt.obj2str(Ue,!0),""].join(`
`),Du=["sha1",Xe,f.SHA1(Lu).toString(),""].join(`
`),Ce=f.HmacSHA1(Du,Ja).toString(),Bu=["q-sign-algorithm="+Ts,"q-ak="+qn,"q-sign-time="+Xe,"q-key-time="+ar,"q-header-list="+Ln,"q-url-param-list="+ui,"q-signature="+Ce].join("&");return Bu},I=function($,G,Q){var ae=G/8,ge=$.slice(Q,Q+ae);return new Uint8Array(ge).reverse(),new{8:Uint8Array,16:Uint16Array,32:Uint32Array}[G](ge)[0]},M=function($,G,Q,ae){var ge=$.slice(G,Q),Ae="";return new Uint8Array(ge).forEach(function(Ue){Ae+=String.fromCharCode(Ue)}),ae&&(Ae=decodeURIComponent(escape(Ae))),Ae},V=function($){for(var G={},Q=M($),ae={records:[]};$.byteLength;){var ge=I($,32,0),Ae=I($,32,4),Ue=ge-Ae-16,Ke=0,nt;for($=$.slice(12);Ke<Ae;){var vt=I($,8,Ke),Dt=M($,Ke+1,Ke+1+vt),kt=I($,16,Ke+vt+2),Sn=M($,Ke+vt+4,Ke+vt+4+kt);G[Dt]=Sn,Ke+=vt+4+kt}if(G[":event-type"]==="Records")nt=M($,Ke,Ke+Ue,!0),ae.records.push(nt);else if(G[":event-type"]==="Stats")nt=M($,Ke,Ke+Ue,!0),ae.stats=dt.xml2json(nt).Stats;else if(G[":event-type"]==="error"){var Ts=G[":error-code"],qn=G[":error-message"],Xe=new Error(qn);Xe.message=qn,Xe.name=Xe.code=Ts,ae.error=Xe}$=$.slice(Ke+Ue+4)}return{payload:ae.records.join(""),body:Q}},D=function($){var G=this.options.CopySourceParser;if(G)return G($);var Q=$.match(/^([^.]+-\d+)\.cos(v6|-cdc|-cdz|-internal)?\.([^.]+)\.((myqcloud\.com)|(tencentcos\.cn))\/(.+)$/);return Q?{Bucket:Q[1],Region:Q[3],Key:Q[7]}:null},q=function(){},K=function($){var G={};for(var Q in $)$.hasOwnProperty(Q)&&$[Q]!==void 0&&$[Q]!==null&&(G[Q]=$[Q]);return G},oe=function($,G){var Q,ae=new FileReader;FileReader.prototype.readAsBinaryString?(Q=FileReader.prototype.readAsBinaryString,ae.onload=function(){G(this.result)}):FileReader.prototype.readAsArrayBuffer?Q=function(Ae){var Ue="",Ke=new FileReader;Ke.onload=function(nt){for(var vt=new Uint8Array(Ke.result),Dt=vt.byteLength,kt=0;kt<Dt;kt++)Ue+=String.fromCharCode(vt[kt]);G(Ue)},Ke.readAsArrayBuffer(Ae)}:console.error("FileReader not support readAsBinaryString"),Q.call(ae,$)},he=function(){var re=function(Q,ae){Q=Q.split("."),ae=ae.split(".");for(var ge=0;ge<ae.length;ge++)if(Q[ge]!==ae[ge])return parseInt(Q[ge])>parseInt(ae[ge])?1:-1;return 0},$=function(Q){if(!Q)return!1;var ae=(Q.match(/Chrome\/([.\d]+)/)||[])[1],ge=(Q.match(/QBCore\/([.\d]+)/)||[])[1],Ae=(Q.match(/QQBrowser\/([.\d]+)/)||[])[1],Ue=ae&&re(ae,"53.0.2785.116")<0&&ge&&re(ge,"3.53.991.400")<0&&Ae&&re(Ae,"9.0.2524.400")<=0||!1;return Ue};return $(typeof navigator<"u"&&navigator.userAgent)}(),we=function($,G,Q,ae,ge){var Ae;if($.slice?Ae=$.slice(G,Q):$.mozSlice?Ae=$.mozSlice(G,Q):$.webkitSlice&&(Ae=$.webkitSlice(G,Q)),ae&&he){var Ue=new FileReader;Ue.onload=function(Ke){Ae=null,ge(new Blob([Ue.result]))},Ue.readAsArrayBuffer(Ae)}else ge(Ae)},_e=function($,G,Q,ae){Q=Q||q,$?typeof G=="string"?Q(dt.md5(G,!0)):Blob&&G instanceof Blob?dt.getFileMd5(G,function(ge,Ae){Q(Ae)},ae):Q():Q()},Be=1024*1024,ke=function($,G,Q){var ae=$.size,ge=0,Ae=l.getCtx(),Ue=function(nt){if(nt>=ae){var vt=Ae.digest("hex");G(null,vt);return}var Dt=Math.min(ae,nt+Be);dt.fileSlice($,nt,Dt,!1,function(kt){oe(kt,function(Sn){kt=null,Ae=Ae.update(Sn,!0),ge+=Sn.length,Sn=null,Q&&Q({loaded:ge,total:ae,percent:Math.round(ge/ae*1e4)/1e4}),Ue(nt+Be)})})};Ue(0)};function Ee(re){return N(re,function($){return o($)==="object"&&$!==null?Ee($):$})}function ye(re,$,G){return re&&$ in re?re[$]:G}function H(re,$){return pe($,function(G,Q){re[Q]=$[Q]}),re}function Y(re){return re instanceof Array}function X(re){return Object.prototype.toString.call(re)==="[object Object]"}function ne(re,$){for(var G=!1,Q=0;Q<re.length;Q++)if($===re[Q]){G=!0;break}return G}function ce(re){return Y(re)?re:[re]}function pe(re,$){for(var G in re)re.hasOwnProperty(G)&&$(re[G],G)}function N(re,$){var G=Y(re)?[]:{};for(var Q in re)re.hasOwnProperty(Q)&&(G[Q]=$(re[Q],Q));return G}function B(re,$){var G=Y(re),Q=G?[]:{};for(var ae in re)re.hasOwnProperty(ae)&&$(re[ae],ae)&&(G?Q.push(re[ae]):Q[ae]=re[ae]);return Q}var z=function($){var G,Q,ae,ge="";for(G=0,Q=$.length/2;G<Q;G++)ae=parseInt($[G*2]+$[G*2+1],16),ge+=String.fromCharCode(ae);return btoa(ge)},Z=function(){var $=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return $()+$()+"-"+$()+"-"+$()+"-"+$()+"-"+$()+$()+$()},J=function($,G){var Q=G.Bucket,ae=G.Region,ge=G.Key,Ae=this.options.Domain,Ue=!Ae||typeof Ae=="string"&&Ae.indexOf("{Bucket}")>-1,Ke=!Ae||typeof Ae=="string"&&Ae.indexOf("{Region}")>-1;if($.indexOf("Bucket")>-1||$==="deleteMultipleObject"||$==="multipartList"||$==="listObjectVersions"){if(Ue&&!Q)return"Bucket";if(Ke&&!ae)return"Region"}else if($.indexOf("Object")>-1||$.indexOf("multipart")>-1||$==="sliceUploadFile"||$==="abortUploadTask"||$==="uploadFile"){if(Ue&&!Q)return"Bucket";if(Ke&&!ae)return"Region";if(!ge)return"Key"}return!1},ee=function($,G){if(G=H({},G),$!=="getAuth"&&$!=="getV4Auth"&&$!=="getObjectUrl"){var Q=G.Headers||{};if(G&&o(G)==="object"){(function(){for(var ge in G)G.hasOwnProperty(ge)&&ge.indexOf("x-cos-")>-1&&(Q[ge]=G[ge])})();var ae={"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-traffic-limit":"TrafficLimit","x-cos-mime-limit":"MimeLimit","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext","Pic-Operations":"PicOperations","x-cos-callback":"Callback","x-cos-callback-var":"CallbackVar","x-cos-return-body":"ReturnBody"};dt.each(ae,function(ge,Ae){G[ge]!==void 0&&(Q[Ae]=G[ge])}),G.Headers=K(Q)}}return G},me=function($,G){return function(Q,ae){var ge=this;typeof Q=="function"&&(ae=Q,Q={}),Q=ee($,Q);var Ae;if(ge.options.EnableReporter)if(Q.calledBySdk==="sliceUploadFile"||Q.calledBySdk==="sliceCopyFile")Ae=Q.tracker&&Q.tracker.generateSubTracker({apiName:$});else if(["uploadFile","uploadFiles"].includes($))Ae=null;else{var Ue=0;Q.Body&&(Ue=typeof Q.Body=="string"?Q.Body.length:Q.Body.size||Q.Body.byteLength||0);var Ke=ge.options.UseAccelerate||typeof ge.options.Domain=="string"&&ge.options.Domain.includes("accelerate.");Ae=new A({Beacon:ge.options.BeaconReporter,clsReporter:ge.options.ClsReporter,bucket:Q.Bucket,region:Q.Region,apiName:$,realApi:$,accelerate:Ke,fileKey:Q.Key,fileSize:Ue,deepTracker:ge.options.DeepTracker,customId:ge.options.CustomId,delay:ge.options.TrackerDelay})}Q.tracker=Ae;var nt=function(Xe){return Xe&&Xe.headers&&(Xe.headers["x-ci-request-id"]&&(Xe.RequestId=Xe.headers["x-ci-request-id"]),Xe.headers["x-cos-request-id"]&&(Xe.RequestId=Xe.headers["x-cos-request-id"]),Xe.headers["x-cos-version-id"]&&(Xe.VersionId=Xe.headers["x-cos-version-id"]),Xe.headers["x-cos-delete-marker"]&&(Xe.DeleteMarker=Xe.headers["x-cos-delete-marker"])),Xe},vt=function(Xe,ar){Ae&&Ae.report(Xe,ar),ae&&ae(nt(Xe),nt(ar))},Dt=function(){if($!=="getService"&&$!=="abortUploadTask"){var Xe=J.call(ge,$,Q);if(Xe)return"missing param "+Xe;if(Q.Region){if(ge.options.CompatibilityMode){if(!/^([a-z\d-.]+)$/.test(Q.Region))return"Region format error."}else{if(Q.Region.indexOf("cos.")>-1)return'param Region should not be start with "cos."';if(!/^([a-z\d-]+)$/.test(Q.Region))return"Region format error."}!ge.options.CompatibilityMode&&Q.Region.indexOf("-")===-1&&Q.Region!=="yfb"&&Q.Region!=="default"&&Q.Region!=="accelerate"&&console.warn("warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224")}if(Q.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(Q.Bucket))if(Q.AppId)Q.Bucket=Q.Bucket+"-"+Q.AppId;else if(ge.options.AppId)Q.Bucket=Q.Bucket+"-"+ge.options.AppId;else return'Bucket should format as "test-1250000000".';Q.AppId&&(console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'),delete Q.AppId)}!ge.options.UseRawKey&&Q.Key&&Q.Key.substr(0,1)==="/"&&(Q.Key=Q.Key.substr(1))}},kt=Dt(),Sn=["getAuth","getObjectUrl"].includes($);if(typeof Promise=="function"&&!Sn&&!ae)return new Promise(function(qn,Xe){if(ae=function(Ln,ui){Ln?Xe(Ln):qn(ui)},kt)return vt(dt.error(new Error(kt)));G.call(ge,Q,vt)});if(kt)return vt(dt.error(new Error(kt)));var Ts=G.call(ge,Q,vt);if(Sn)return Ts}},le=function($,G){var Q=this,ae=0,ge=0,Ae=Date.now(),Ue,Ke;function nt(){if(Ke=0,G&&typeof G=="function"){Ue=Date.now();var vt=Math.max(0,Math.round((ge-ae)/((Ue-Ae)/1e3)*100)/100)||0,Dt;ge===0&&$===0?Dt=1:Dt=Math.floor(ge/$*100)/100||0,Ae=Ue,ae=ge;try{G({loaded:ge,total:$,speed:vt,percent:Dt})}catch{}}}return function(vt,Dt){if(vt&&(ge=vt.loaded,$=vt.total),Dt)clearTimeout(Ke),nt();else{if(Ke)return;Ke=setTimeout(nt,Q.options.ProgressInterval)}}},fe=function($,G,Q){var ae;if(typeof G.Body=="string"?G.Body=new Blob([G.Body],{type:"text/plain"}):G.Body instanceof ArrayBuffer&&(G.Body=new Blob([G.Body])),G.Body&&(G.Body instanceof Blob||G.Body.toString()==="[object File]"||G.Body.toString()==="[object Blob]"))ae=G.Body.size;else{Q(dt.error(new Error("params body format error, Only allow File|Blob|String.")));return}G.ContentLength=ae,Q(null,ae)},ie=function($){return Date.now()+($||0)},Te=function($,G){var Q=$;return $.message=$.message||null,typeof G=="string"?($.error=G,$.message=G):o(G)==="object"&&G!==null&&(H($,G),(G.code||G.name)&&($.code=G.code||G.name),G.message&&($.message=G.message),G.stack&&($.stack=G.stack)),typeof Object.defineProperty=="function"&&(Object.defineProperty($,"name",{writable:!0,enumerable:!1}),Object.defineProperty($,"message",{enumerable:!0})),$.name=G&&G.name||$.name||$.code||"Error",$.code||($.code=$.name),$.error||($.error=Ee(Q)),$},ve=function(){return(typeof globalThis>"u"?"undefined":o(globalThis))==="object"&&(globalThis.constructor.name==="DedicatedWorkerGlobalScope"||globalThis.FileReaderSync)},Re=function(){return(typeof window>"u"?"undefined":o(window))!=="object"&&(typeof i>"u"?"undefined":o(i))==="object"&&!0&&!ve()},De=function($){return/^https?:\/\/([^/]+\.)?ci\.[^/]+/.test($)},We=function(){if((typeof navigator>"u"?"undefined":o(navigator))!=="object")return!1;var re=navigator.userAgent,$=!!re.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return $}(),ct=function(){return(typeof navigator>"u"?"undefined":o(navigator))!=="object"?!1:/\sQQ/i.test(navigator.userAgent)}(),et=function($,G){var Q=R.encode($);return G&&(Q=Q.replaceAll("+","-").replaceAll("/","_").replaceAll("=","")),Q},Gt=function($){return $?R.decode($):""},Pt=function($){var G=$.split("/"),Q=[],ae=a(G),ge;try{for(ae.s();!(ge=ae.n()).done;){var Ae=ge.value;Ae===".."?Q.length&&Q.pop():Ae.length&&Ae!=="."&&Q.push(Ae)}}catch(Ue){ae.e(Ue)}finally{ae.f()}return"/"+Q.join("/")},hn=function($){var G;if($&&typeof $=="string"){var Q=$.trim(),ae=Q.indexOf("<")===0,ge=Q.indexOf("{")===0;if(ae)G=dt.xml2json($)||{};else if(ge)try{var Ae=$.replace(/\n/g," "),Ue=JSON.parse(Ae);Object.prototype.toString.call(Ue)==="[object Object]"?G=Ue:G=$}catch{G=$}else G=$}else G=$||{};return G},dt={noop:q,formatParams:ee,apiWrapper:me,xml2json:L,json2xml:S,md5:l,clearKey:K,fileSlice:we,getBodyMd5:_e,getFileMd5:ke,b64:z,extend:H,isArray:Y,isInArray:ne,makeArray:ce,each:pe,map:N,filter:B,clone:Ee,attr:ye,uuid:Z,camSafeUrlEncode:E,throttleOnProgress:le,getFileSize:fe,getSkewTime:ie,error:Te,obj2str:v,getAuth:_,parseSelectPayload:V,getSourceParams:D,isBrowser:!0,isNode:Re,isCIHost:De,isIOS_QQ:We&&ct,encodeBase64:et,decodeBase64:Gt,simplifyPath:Pt,readAsBinaryString:oe,parseResBody:hn};n.exports=dt}).call(this,s("./node_modules/process/browser.js"))}})})}(Hc)),Hc.exports}var F6=U6();const j6=Rb(F6),$6=wn(()=>({provide:{cos:new j6({SecretId:"AKIDz49D5rUCsW3Smz8unppxzzpUAzgbYO55",SecretKey:"66Lcs1ISk7XNi6QlGnRClFmQEuTG957J",Bucket:"Ghibli ai-1326829800",Region:"na-siliconvalley"})}})),H6=wn(t=>{t.vueApp.use(jb())}),V6=[vA,EA,$P,HP,VP,KP,zP,GP,JP,mM,M6,L6,D6,$6,H6],TS=(t="RouteProvider")=>It({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Mr(Gs,Qn(s)),()=>e.vnode?At(e.vnode,{ref:e.vnodeRef}):e.vnode}}),K6=TS(),$0=new WeakMap,q6=It({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Ht(),i=bt(),o=Tt(Gs,null);let a;r({pageRef:i});const c=Tt(F_,null);let u;const l=s.deferHydration();if(s.isHydrating){const d=s.hooks.hookOnce("app:error",l);On().beforeEach(d)}t.pageKey&&pr(()=>t.pageKey,(d,p)=>{d!==p&&s.callHook("page:loading:start")});let f=!1;{const d=On().beforeResolve(()=>{f=!1});Ra(()=>{d()})}return()=>At(ob,{name:t.name,route:t.route,...e},{default:d=>{const p=G6(o,d.route,d.Component),g=o&&o.matched.length===d.route.matched.length;if(!d.Component){if(u&&!g)return u;l();return}if(u&&c&&!c.isCurrent(d.route))return u;if(p&&o&&(!c||c!=null&&c.isCurrent(o)))return g?u:null;const m=Uh(d,t.pageKey),b=W6(o,d.route,d.Component);!s.isHydrating&&a===m&&!b&&er(()=>{f=!0,s.callHook("page:loading:end")}),a=m;const R=!!(t.transition??d.route.meta.pageTransition??Sm),A=R&&z6([t.transition,d.route.meta.pageTransition,Sm,{onBeforeLeave(){s._runningTransition=!0},onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",d.Component)}}]),T=t.keepalive??d.route.meta.keepalive??aR;return u=cb(R&&A,PP(T,At(Kd,{suspensible:!0,onPending:()=>s.callHook("page:start",d.Component),onResolve:()=>{er(()=>s.callHook("page:finish",d.Component).then(()=>{if(!f&&!b)return f=!0,s.callHook("page:loading:end")}).finally(l))}},{default:()=>{const x={key:m||void 0,vnode:n.default?Q6(n.default,d):d.Component,route:d.route,renderKey:m||void 0,trackRootNodes:R,vnodeRef:i};if(!T)return At(K6,x);const L=d.Component.type,S=L;let E=$0.get(S);return E||(E=TS(L.name||L.__name),$0.set(S,E)),At(E,x)}}))).default(),u}})}});function z6(t){const e=t.filter(Boolean).map(n=>({...n,onAfterLeave:n.onAfterLeave?np(n.onAfterLeave):void 0}));return B_(...e)}function G6(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)});return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>{var o,a,c;return((o=s.components)==null?void 0:o.default)!==((c=(a=t.matched[i])==null?void 0:a.components)==null?void 0:c.default)})||n&&Uh({route:e,Component:n})!==Uh({route:t,Component:n})}function W6(t,e,n){return t?e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)})<e.matched.length-1:!1}function Q6(t,e){const n=t(e);return n.length===1?At(n[0]):At(Jt,void 0,n)}const J6=It({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>At(cs[t.name],t.layoutProps,e.slots)}}),Y6={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},X6=It({name:"NuxtLayout",inheritAttrs:!1,props:Y6,setup(t,e){const n=Ht(),r=Tt(Gs),i=!r||r===ql()?ab():r,o=ze(()=>{let l=Se(t.name)??(i==null?void 0:i.meta.layout)??"default";return l&&!(l in cs)&&t.fallback&&(l=Se(t.fallback)),l}),a=zs();e.expose({layoutRef:a});const c=n.deferHydration();if(n.isHydrating){const l=n.hooks.hookOnce("app:error",c);On().beforeEach(l)}let u;return()=>{const l=o.value&&o.value in cs,f=(i==null?void 0:i.meta.layoutTransition)??oR,d=u;return u=o.value,cb(l&&f,{default:()=>At(Kd,{suspensible:!0,onResolve:()=>{er(c)}},{default:()=>At(Z6,{layoutProps:Gd(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:p=>p!==d&&p===o.value,hasTransition:!!f},e.slots)})}).default()}}}),Z6=It({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Mr(F_,{isCurrent:i=>n===(i.meta.layout??"default")});const r=Tt(Gs);if(r&&r===ql()){const i=ab(),o={};for(const a in i){const c=a;Object.defineProperty(o,c,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[c]:r[c]})}Mr(Gs,Qn(o))}return()=>{var i,o;return!n||typeof n=="string"&&!(n in cs)?(o=(i=e.slots).default)==null?void 0:o.call(i):At(J6,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}}),e5=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},t5={};function n5(t,e){const n=q6,r=X6;return ft(),mn(r,null,{default:fs(()=>[gt(n)]),_:1})}const r5=e5(t5,[["render",n5]]),s5={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(f=>({text:f.replace("webpack:/","").replace(".vue",".js").trim(),internal:f.includes("node_modules")&&!f.includes(".cache")||f.includes("internal")||f.includes("new Promise")})).map(f=>`<span class="stack${f.internal?" internal":""}">${f.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,l=s?Vg(()=>xi(()=>import("./D5LW3cgP.js"),__vite__mapDeps([8,9,10]),import.meta.url)):Vg(()=>xi(()=>import("./CcJToXC8.js"),__vite__mapDeps([11,9,12]),import.meta.url));return(f,d)=>(ft(),mn(Se(l),jS(f_({statusCode:Se(r),statusMessage:Se(i),description:Se(o),stack:Se(a)})),null,16))}},i5={key:0},H0={__name:"nuxt-root",setup(t){const e=()=>null,n=Ht(),r=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",r);On().beforeEach(u)}const s=!1;Mr(Gs,ql()),n.hooks.callHookWith(u=>u.map(l=>l()),"vue:setup");const i=zl(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;Bw((u,l,f)=>{if(n.hooks.callHook("vue:error",u,l,f).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",u),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,u),!1;if($_(u)&&(u.fatal||u.unhandled))return n.runWithContext(()=>Ns(u)),!1});const c=!1;return(u,l)=>(ft(),mn(Kd,{onResolve:Se(r)},{default:fs(()=>[Se(o)?(ft(),Pn("div",i5)):Se(i)?(ft(),mn(Se(s5),{key:1,error:Se(i)},null,8,["error"])):Se(c)?(ft(),mn(Se(e),{key:2,context:Se(c)},null,8,["context"])):Se(s)?(ft(),mn(jw(Se(s)),{key:3})):(ft(),mn(Se(r5),{key:4}))]),_:1},8,["onResolve"]))}};let V0;{let t;V0=async function(){var o,a;if(t)return t;const r=!!(((o=window.__NUXT__)==null?void 0:o.serverRendered)??((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?t1(H0):__(H0),s=hR({vueApp:r});async function i(c){var u;await s.callHook("app:error",c),(u=s.payload).error||(u.error=Vs(c))}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)});try{await gR(s,V6)}catch(c){i(c)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(lR),await s.hooks.callHook("app:mounted",r),await er()}catch(c){i(c)}return r},t=V0().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Mr as $,ze as A,ri as B,Jd as C,Kl as D,y5 as E,k1 as F,ea as G,m5 as H,fs as I,qd as J,r_ as K,Fh as L,Me as M,hp as N,WO as O,cc as P,Qc as Q,Fn as R,Se as S,mn as T,jw as U,x5 as V,Ey as W,no as X,h5 as Y,sp as Z,e5 as _,K_ as a,OO as a$,Vl as a0,Ud as a1,Gd as a2,u5 as a3,Wd as a4,Ib as a5,Jt as a6,l5 as a7,Xk as a8,g5 as a9,Ci as aA,yO as aB,_N as aC,er as aD,at as aE,mO as aF,VO as aG,Cb as aH,uf as aI,Le as aJ,dI as aK,a5 as aL,OI as aM,E5 as aN,Bl as aO,Nw as aP,Fr as aQ,f5 as aR,yN as aS,Ct as aT,I5 as aU,ew as aV,Cy as aW,_o as aX,cl as aY,Eb as aZ,xc as a_,p5 as aa,mb as ab,Px as ac,lx as ad,db as ae,Ki as af,ap as ag,hO as ah,dO as ai,gb as aj,pO as ak,bs as al,up as am,Xl as an,Qs as ao,XP as ap,C5 as aq,tr as ar,qi as as,Hn as at,jr as au,ut as av,Hs as aw,Mt as ax,pr as ay,wO as az,xn as b,kb as b0,R5 as b1,A5 as b2,vO as b3,br as b4,P5 as b5,wN as b6,BO as b7,b5 as b8,k5 as b9,L5 as ba,h6 as bb,F5 as bc,O5 as bd,D5 as be,B5 as bf,U5 as bg,w5 as bh,ab as bi,Fo as bj,C4 as bk,is as bl,M5 as bm,N5 as bn,Pn as c,kd as d,gt as e,d5 as f,It as g,Fl as h,Tt as i,On as j,bt as k,Ht as l,ka as m,rp as n,ft as o,ry as p,Ra as q,c5 as r,zs as s,mR as t,v5 as u,_5 as v,At as w,E_ as x,SR as y,QP as z};
